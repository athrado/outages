var vL=Object.defineProperty;var mL=(e,t,r)=>t in e?vL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var H=(e,t,r)=>(mL(e,typeof t!="symbol"?t+"":t,r),r),gL=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var cf=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)};var Zc=(e,t,r)=>(gL(e,t,"access private method"),r);function vd(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function So(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Vk={exports:{}},Av={},Yk={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Symbol.for("react.element"),yL=Symbol.for("react.portal"),SL=Symbol.for("react.fragment"),CL=Symbol.for("react.strict_mode"),wL=Symbol.for("react.profiler"),bL=Symbol.for("react.provider"),PL=Symbol.for("react.context"),_L=Symbol.for("react.forward_ref"),EL=Symbol.for("react.suspense"),RL=Symbol.for("react.memo"),TL=Symbol.for("react.lazy"),S1=Symbol.iterator;function kL(e){return e===null||typeof e!="object"?null:(e=S1&&e[S1]||e["@@iterator"],typeof e=="function"?e:null)}var Kk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gk=Object.assign,Qk={};function Lc(e,t,r){this.props=e,this.context=t,this.refs=Qk,this.updater=r||Kk}Lc.prototype.isReactComponent={};Lc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jk(){}Jk.prototype=Lc.prototype;function OC(e,t,r){this.props=e,this.context=t,this.refs=Qk,this.updater=r||Kk}var DC=OC.prototype=new Jk;DC.constructor=OC;Gk(DC,Lc.prototype);DC.isPureReactComponent=!0;var C1=Array.isArray,Xk=Object.prototype.hasOwnProperty,MC={current:null},Zk={key:!0,ref:!0,__self:!0,__source:!0};function eI(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Xk.call(t,n)&&!Zk.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:md,type:e,key:s,ref:o,props:i,_owner:MC.current}}function IL(e,t){return{$$typeof:md,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function NC(e){return typeof e=="object"&&e!==null&&e.$$typeof===md}function AL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var w1=/\/+/g;function Hg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AL(""+e.key):t.toString(36)}function Qf(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case md:case yL:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Hg(o,0):n,C1(i)?(r="",e!=null&&(r=e.replace(w1,"$&/")+"/"),Qf(i,t,r,"",function(l){return l})):i!=null&&(NC(i)&&(i=IL(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",C1(e))for(var a=0;a<e.length;a++){s=e[a];var c=n+Hg(s,a);o+=Qf(s,t,r,c,i)}else if(c=kL(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=n+Hg(s,a++),o+=Qf(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function lf(e,t,r){if(e==null)return e;var n=[],i=0;return Qf(e,n,"","",function(s){return t.call(r,s,i++)}),n}function xL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _n={current:null},Jf={transition:null},OL={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:Jf,ReactCurrentOwner:MC};function tI(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:lf,forEach:function(e,t,r){lf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return lf(e,function(){t++}),t},toArray:function(e){return lf(e,function(t){return t})||[]},only:function(e){if(!NC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=Lc;Fe.Fragment=SL;Fe.Profiler=wL;Fe.PureComponent=OC;Fe.StrictMode=CL;Fe.Suspense=EL;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OL;Fe.act=tI;Fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Gk({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=MC.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Xk.call(t,c)&&!Zk.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:md,type:e.type,key:i,ref:s,props:n,_owner:o}};Fe.createContext=function(e){return e={$$typeof:PL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bL,_context:e},e.Consumer=e};Fe.createElement=eI;Fe.createFactory=function(e){var t=eI.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:_L,render:e}};Fe.isValidElement=NC;Fe.lazy=function(e){return{$$typeof:TL,_payload:{_status:-1,_result:e},_init:xL}};Fe.memo=function(e,t){return{$$typeof:RL,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Jf.transition;Jf.transition={};try{e()}finally{Jf.transition=t}};Fe.unstable_act=tI;Fe.useCallback=function(e,t){return _n.current.useCallback(e,t)};Fe.useContext=function(e){return _n.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return _n.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return _n.current.useEffect(e,t)};Fe.useId=function(){return _n.current.useId()};Fe.useImperativeHandle=function(e,t,r){return _n.current.useImperativeHandle(e,t,r)};Fe.useInsertionEffect=function(e,t){return _n.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return _n.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return _n.current.useMemo(e,t)};Fe.useReducer=function(e,t,r){return _n.current.useReducer(e,t,r)};Fe.useRef=function(e){return _n.current.useRef(e)};Fe.useState=function(e){return _n.current.useState(e)};Fe.useSyncExternalStore=function(e,t,r){return _n.current.useSyncExternalStore(e,t,r)};Fe.useTransition=function(){return _n.current.useTransition()};Fe.version="18.3.1";Yk.exports=Fe;var P=Yk.exports;const x=So(P),IS=vd({__proto__:null,default:x},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DL=P,ML=Symbol.for("react.element"),NL=Symbol.for("react.fragment"),LL=Object.prototype.hasOwnProperty,jL=DL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zL={key:!0,ref:!0,__self:!0,__source:!0};function rI(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)LL.call(t,n)&&!zL.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:ML,type:e,key:s,ref:o,props:i,_owner:jL.current}}Av.Fragment=NL;Av.jsx=rI;Av.jsxs=rI;Vk.exports=Av;var w=Vk.exports,bh={},nI={exports:{}},Gn={},iI={exports:{}},sI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,k){var G=I.length;I.push(k);e:for(;0<G;){var te=G-1>>>1,M=I[te];if(0<i(M,k))I[te]=k,I[G]=M,G=te;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var k=I[0],G=I.pop();if(G!==k){I[0]=G;e:for(var te=0,M=I.length,oe=M>>>1;te<oe;){var de=2*(te+1)-1,ne=I[de],Re=de+1,Qe=I[Re];if(0>i(ne,G))Re<M&&0>i(Qe,ne)?(I[te]=Qe,I[Re]=G,te=Re):(I[te]=ne,I[de]=G,te=de);else if(Re<M&&0>i(Qe,G))I[te]=Qe,I[Re]=G,te=Re;else break e}}return k}function i(I,k){var G=I.sortIndex-k.sortIndex;return G!==0?G:I.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,p=null,d=3,f=!1,h=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var k=r(l);k!==null;){if(k.callback===null)n(l);else if(k.startTime<=I)n(l),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(l)}}function C(I){if(v=!1,S(I),!h)if(r(c)!==null)h=!0,se(b);else{var k=r(l);k!==null&&ee(C,k.startTime-I)}}function b(I,k){h=!1,v&&(v=!1,m(R),R=-1),f=!0;var G=d;try{for(S(k),p=r(c);p!==null&&(!(p.expirationTime>k)||I&&!$());){var te=p.callback;if(typeof te=="function"){p.callback=null,d=p.priorityLevel;var M=te(p.expirationTime<=k);k=e.unstable_now(),typeof M=="function"?p.callback=M:p===r(c)&&n(c),S(k)}else n(c);p=r(c)}if(p!==null)var oe=!0;else{var de=r(l);de!==null&&ee(C,de.startTime-k),oe=!1}return oe}finally{p=null,d=G,f=!1}}var T=!1,_=null,R=-1,O=5,D=-1;function $(){return!(e.unstable_now()-D<O)}function W(){if(_!==null){var I=e.unstable_now();D=I;var k=!0;try{k=_(!0,I)}finally{k?J():(T=!1,_=null)}}else T=!1}var J;if(typeof y=="function")J=function(){y(W)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Y=q.port2;q.port1.onmessage=W,J=function(){Y.postMessage(null)}}else J=function(){g(W,0)};function se(I){_=I,T||(T=!0,J())}function ee(I,k){R=g(function(){I(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,se(b))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var G=d;d=k;try{return I()}finally{d=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=d;d=I;try{return k()}finally{d=G}},e.unstable_scheduleCallback=function(I,k,G){var te=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,I={id:u++,callback:k,priorityLevel:I,startTime:G,expirationTime:M,sortIndex:-1},G>te?(I.sortIndex=G,t(l,I),r(c)===null&&I===r(l)&&(v?(m(R),R=-1):v=!0,ee(C,G-te))):(I.sortIndex=M,t(c,I),h||f||(h=!0,se(b))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var k=d;return function(){var G=d;d=k;try{return I.apply(this,arguments)}finally{d=G}}}})(sI);iI.exports=sI;var $L=iI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL=P,Vn=$L;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oI=new Set,Dp={};function Pa(e,t){hc(e,t),hc(e+"Capture",t)}function hc(e,t){for(Dp[e]=t,e=0;e<t.length;e++)oI.add(t[e])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AS=Object.prototype.hasOwnProperty,BL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},P1={};function HL(e){return AS.call(P1,e)?!0:AS.call(b1,e)?!1:BL.test(e)?P1[e]=!0:(b1[e]=!0,!1)}function UL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qL(e,t,r,n){if(t===null||typeof t>"u"||UL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function En(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yr[e]=new En(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yr[t]=new En(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yr[e]=new En(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yr[e]=new En(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yr[e]=new En(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yr[e]=new En(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yr[e]=new En(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yr[e]=new En(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yr[e]=new En(e,5,!1,e.toLowerCase(),null,!1,!1)});var LC=/[\-:]([a-z])/g;function jC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(LC,jC);Yr[t]=new En(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(LC,jC);Yr[t]=new En(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(LC,jC);Yr[t]=new En(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yr[e]=new En(e,1,!1,e.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yr[e]=new En(e,1,!1,e.toLowerCase(),null,!0,!0)});function zC(e,t,r,n){var i=Yr.hasOwnProperty(t)?Yr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qL(t,r,i,n)&&(r=null),n||i===null?HL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ks=FL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uf=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),xS=Symbol.for("react.profiler"),aI=Symbol.for("react.provider"),cI=Symbol.for("react.context"),FC=Symbol.for("react.forward_ref"),OS=Symbol.for("react.suspense"),DS=Symbol.for("react.suspense_list"),BC=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),lI=Symbol.for("react.offscreen"),_1=Symbol.iterator;function el(e){return e===null||typeof e!="object"?null:(e=_1&&e[_1]||e["@@iterator"],typeof e=="function"?e:null)}var Yt=Object.assign,Ug;function ap(e){if(Ug===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ug=t&&t[1]||""}return`
`+Ug+e}var qg=!1;function Wg(e,t){if(!e||qg)return"";qg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{qg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ap(e):""}function WL(e){switch(e.tag){case 5:return ap(e.type);case 16:return ap("Lazy");case 13:return ap("Suspense");case 19:return ap("SuspenseList");case 0:case 2:case 15:return e=Wg(e.type,!1),e;case 11:return e=Wg(e.type.render,!1),e;case 1:return e=Wg(e.type,!0),e;default:return""}}function MS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qa:return"Fragment";case Ua:return"Portal";case xS:return"Profiler";case $C:return"StrictMode";case OS:return"Suspense";case DS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cI:return(e.displayName||"Context")+".Consumer";case aI:return(e._context.displayName||"Context")+".Provider";case FC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case BC:return t=e.displayName||null,t!==null?t:MS(e.type)||"Memo";case Ls:t=e._payload,e=e._init;try{return MS(e(t))}catch{}}return null}function VL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return MS(t);case 8:return t===$C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YL(e){var t=uI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pf(e){e._valueTracker||(e._valueTracker=YL(e))}function pI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ph(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function NS(e,t){var r=t.checked;return Yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function E1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=co(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dI(e,t){t=t.checked,t!=null&&zC(e,"checked",t,!1)}function LS(e,t){dI(e,t);var r=co(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jS(e,t.type,r):t.hasOwnProperty("defaultValue")&&jS(e,t.type,co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function R1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jS(e,t,r){(t!=="number"||Ph(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cp=Array.isArray;function tc(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+co(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function T1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(cp(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:co(r)}}function fI(e,t){var r=co(t.value),n=co(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function k1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $S(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var df,vI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=df.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KL=["Webkit","ms","Moz","O"];Object.keys(yp).forEach(function(e){KL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yp[t]=yp[e]})});function mI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yp.hasOwnProperty(e)&&yp[e]?(""+t).trim():t+"px"}function gI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=mI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var GL=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FS(e,t){if(t){if(GL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function BS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HS=null;function HC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var US=null,rc=null,nc=null;function I1(e){if(e=Sd(e)){if(typeof US!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Nv(t),US(e.stateNode,e.type,t))}}function yI(e){rc?nc?nc.push(e):nc=[e]:rc=e}function SI(){if(rc){var e=rc,t=nc;if(nc=rc=null,I1(e),t)for(e=0;e<t.length;e++)I1(t[e])}}function CI(e,t){return e(t)}function wI(){}var Vg=!1;function bI(e,t,r){if(Vg)return e(t,r);Vg=!0;try{return CI(e,t,r)}finally{Vg=!1,(rc!==null||nc!==null)&&(wI(),SI())}}function Np(e,t){var r=e.stateNode;if(r===null)return null;var n=Nv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var qS=!1;if(bs)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){qS=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{qS=!1}function QL(e,t,r,n,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var Sp=!1,_h=null,Eh=!1,WS=null,JL={onError:function(e){Sp=!0,_h=e}};function XL(e,t,r,n,i,s,o,a,c){Sp=!1,_h=null,QL.apply(JL,arguments)}function ZL(e,t,r,n,i,s,o,a,c){if(XL.apply(this,arguments),Sp){if(Sp){var l=_h;Sp=!1,_h=null}else throw Error(U(198));Eh||(Eh=!0,WS=l)}}function _a(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function PI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A1(e){if(_a(e)!==e)throw Error(U(188))}function ej(e){var t=e.alternate;if(!t){if(t=_a(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return A1(i),e;if(s===n)return A1(i),t;s=s.sibling}throw Error(U(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function _I(e){return e=ej(e),e!==null?EI(e):null}function EI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=EI(e);if(t!==null)return t;e=e.sibling}return null}var RI=Vn.unstable_scheduleCallback,x1=Vn.unstable_cancelCallback,tj=Vn.unstable_shouldYield,rj=Vn.unstable_requestPaint,ar=Vn.unstable_now,nj=Vn.unstable_getCurrentPriorityLevel,UC=Vn.unstable_ImmediatePriority,TI=Vn.unstable_UserBlockingPriority,Rh=Vn.unstable_NormalPriority,ij=Vn.unstable_LowPriority,kI=Vn.unstable_IdlePriority,xv=null,Gi=null;function sj(e){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(xv,e,void 0,(e.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:cj,oj=Math.log,aj=Math.LN2;function cj(e){return e>>>=0,e===0?32:31-(oj(e)/aj|0)|0}var ff=64,hf=4194304;function lp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Th(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=lp(a):(s&=o,s!==0&&(n=lp(s)))}else o=r&~i,o!==0?n=lp(o):s!==0&&(n=lp(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pi(t),i=1<<r,n|=e[r],t&=~i;return n}function lj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Pi(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=lj(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function VS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function II(){var e=ff;return ff<<=1,!(ff&4194240)&&(ff=64),e}function Yg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pi(t),e[t]=r}function pj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pi(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function qC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pi(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ht=0;function AI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xI,WC,OI,DI,MI,YS=!1,vf=[],Gs=null,Qs=null,Js=null,Lp=new Map,jp=new Map,Hs=[],dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O1(e,t){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Lp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jp.delete(t.pointerId)}}function rl(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Sd(t),t!==null&&WC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fj(e,t,r,n,i){switch(t){case"focusin":return Gs=rl(Gs,e,t,r,n,i),!0;case"dragenter":return Qs=rl(Qs,e,t,r,n,i),!0;case"mouseover":return Js=rl(Js,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Lp.set(s,rl(Lp.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,jp.set(s,rl(jp.get(s)||null,e,t,r,n,i)),!0}return!1}function NI(e){var t=Zo(e.target);if(t!==null){var r=_a(t);if(r!==null){if(t=r.tag,t===13){if(t=PI(r),t!==null){e.blockedOn=t,MI(e.priority,function(){OI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=KS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);HS=n,r.target.dispatchEvent(n),HS=null}else return t=Sd(r),t!==null&&WC(t),e.blockedOn=r,!1;t.shift()}return!0}function D1(e,t,r){Xf(e)&&r.delete(t)}function hj(){YS=!1,Gs!==null&&Xf(Gs)&&(Gs=null),Qs!==null&&Xf(Qs)&&(Qs=null),Js!==null&&Xf(Js)&&(Js=null),Lp.forEach(D1),jp.forEach(D1)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,YS||(YS=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,hj)))}function zp(e){function t(i){return nl(i,e)}if(0<vf.length){nl(vf[0],e);for(var r=1;r<vf.length;r++){var n=vf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gs!==null&&nl(Gs,e),Qs!==null&&nl(Qs,e),Js!==null&&nl(Js,e),Lp.forEach(t),jp.forEach(t),r=0;r<Hs.length;r++)n=Hs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)NI(r),r.blockedOn===null&&Hs.shift()}var ic=ks.ReactCurrentBatchConfig,kh=!0;function vj(e,t,r,n){var i=ht,s=ic.transition;ic.transition=null;try{ht=1,VC(e,t,r,n)}finally{ht=i,ic.transition=s}}function mj(e,t,r,n){var i=ht,s=ic.transition;ic.transition=null;try{ht=4,VC(e,t,r,n)}finally{ht=i,ic.transition=s}}function VC(e,t,r,n){if(kh){var i=KS(e,t,r,n);if(i===null)ny(e,t,n,Ih,r),O1(e,n);else if(fj(i,e,t,r,n))n.stopPropagation();else if(O1(e,n),t&4&&-1<dj.indexOf(e)){for(;i!==null;){var s=Sd(i);if(s!==null&&xI(s),s=KS(e,t,r,n),s===null&&ny(e,t,n,Ih,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else ny(e,t,n,null,r)}}var Ih=null;function KS(e,t,r,n){if(Ih=null,e=HC(n),e=Zo(e),e!==null)if(t=_a(e),t===null)e=null;else if(r=t.tag,r===13){if(e=PI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ih=e,null}function LI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nj()){case UC:return 1;case TI:return 4;case Rh:case ij:return 16;case kI:return 536870912;default:return 16}default:return 16}}var Ws=null,YC=null,Zf=null;function jI(){if(Zf)return Zf;var e,t=YC,r=t.length,n,i="value"in Ws?Ws.value:Ws.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Zf=i.slice(e,1<n?1-n:void 0)}function eh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mf(){return!0}function M1(){return!1}function Qn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mf:M1,this.isPropagationStopped=M1,this}return Yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),t}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KC=Qn(jc),yd=Yt({},jc,{view:0,detail:0}),gj=Qn(yd),Kg,Gg,il,Ov=Yt({},yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==il&&(il&&e.type==="mousemove"?(Kg=e.screenX-il.screenX,Gg=e.screenY-il.screenY):Gg=Kg=0,il=e),Kg)},movementY:function(e){return"movementY"in e?e.movementY:Gg}}),N1=Qn(Ov),yj=Yt({},Ov,{dataTransfer:0}),Sj=Qn(yj),Cj=Yt({},yd,{relatedTarget:0}),Qg=Qn(Cj),wj=Yt({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),bj=Qn(wj),Pj=Yt({},jc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_j=Qn(Pj),Ej=Yt({},jc,{data:0}),L1=Qn(Ej),Rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ij(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kj[e])?!!t[e]:!1}function GC(){return Ij}var Aj=Yt({},yd,{key:function(e){if(e.key){var t=Rj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GC,charCode:function(e){return e.type==="keypress"?eh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xj=Qn(Aj),Oj=Yt({},Ov,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=Qn(Oj),Dj=Yt({},yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GC}),Mj=Qn(Dj),Nj=Yt({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lj=Qn(Nj),jj=Yt({},Ov,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zj=Qn(jj),$j=[9,13,27,32],QC=bs&&"CompositionEvent"in window,Cp=null;bs&&"documentMode"in document&&(Cp=document.documentMode);var Fj=bs&&"TextEvent"in window&&!Cp,zI=bs&&(!QC||Cp&&8<Cp&&11>=Cp),z1=" ",$1=!1;function $I(e,t){switch(e){case"keyup":return $j.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function Bj(e,t){switch(e){case"compositionend":return FI(t);case"keypress":return t.which!==32?null:($1=!0,z1);case"textInput":return e=t.data,e===z1&&$1?null:e;default:return null}}function Hj(e,t){if(Wa)return e==="compositionend"||!QC&&$I(e,t)?(e=jI(),Zf=YC=Ws=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zI&&t.locale!=="ko"?null:t.data;default:return null}}var Uj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uj[e.type]:t==="textarea"}function BI(e,t,r,n){yI(n),t=Ah(t,"onChange"),0<t.length&&(r=new KC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wp=null,$p=null;function qj(e){XI(e,0)}function Dv(e){var t=Ka(e);if(pI(t))return e}function Wj(e,t){if(e==="change")return t}var HI=!1;if(bs){var Jg;if(bs){var Xg="oninput"in document;if(!Xg){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),Xg=typeof B1.oninput=="function"}Jg=Xg}else Jg=!1;HI=Jg&&(!document.documentMode||9<document.documentMode)}function H1(){wp&&(wp.detachEvent("onpropertychange",UI),$p=wp=null)}function UI(e){if(e.propertyName==="value"&&Dv($p)){var t=[];BI(t,$p,e,HC(e)),bI(qj,t)}}function Vj(e,t,r){e==="focusin"?(H1(),wp=t,$p=r,wp.attachEvent("onpropertychange",UI)):e==="focusout"&&H1()}function Yj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dv($p)}function Kj(e,t){if(e==="click")return Dv(t)}function Gj(e,t){if(e==="input"||e==="change")return Dv(t)}function Qj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ei=typeof Object.is=="function"?Object.is:Qj;function Fp(e,t){if(Ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!AS.call(t,i)||!Ei(e[i],t[i]))return!1}return!0}function U1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q1(e,t){var r=U1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U1(r)}}function qI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function WI(){for(var e=window,t=Ph();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ph(e.document)}return t}function JC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jj(e){var t=WI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qI(r.ownerDocument.documentElement,r)){if(n!==null&&JC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=q1(r,s);var o=q1(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xj=bs&&"documentMode"in document&&11>=document.documentMode,Va=null,GS=null,bp=null,QS=!1;function W1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QS||Va==null||Va!==Ph(n)||(n=Va,"selectionStart"in n&&JC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bp&&Fp(bp,n)||(bp=n,n=Ah(GS,"onSelect"),0<n.length&&(t=new KC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Va)))}function gf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ya={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},Zg={},VI={};bs&&(VI=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Mv(e){if(Zg[e])return Zg[e];if(!Ya[e])return e;var t=Ya[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in VI)return Zg[e]=t[r];return e}var YI=Mv("animationend"),KI=Mv("animationiteration"),GI=Mv("animationstart"),QI=Mv("transitionend"),JI=new Map,V1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(e,t){JI.set(e,t),Pa(t,[e])}for(var ey=0;ey<V1.length;ey++){var ty=V1[ey],Zj=ty.toLowerCase(),e3=ty[0].toUpperCase()+ty.slice(1);Co(Zj,"on"+e3)}Co(YI,"onAnimationEnd");Co(KI,"onAnimationIteration");Co(GI,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(QI,"onTransitionEnd");hc("onMouseEnter",["mouseout","mouseover"]);hc("onMouseLeave",["mouseout","mouseover"]);hc("onPointerEnter",["pointerout","pointerover"]);hc("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t3=new Set("cancel close invalid load scroll toggle".split(" ").concat(up));function Y1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ZL(n,t,void 0,e),e.currentTarget=null}function XI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Y1(i,a,l),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Y1(i,a,l),s=c}}}if(Eh)throw e=WS,Eh=!1,WS=null,e}function At(e,t){var r=t[t0];r===void 0&&(r=t[t0]=new Set);var n=e+"__bubble";r.has(n)||(ZI(t,e,2,!1),r.add(n))}function ry(e,t,r){var n=0;t&&(n|=4),ZI(r,e,n,t)}var yf="_reactListening"+Math.random().toString(36).slice(2);function Bp(e){if(!e[yf]){e[yf]=!0,oI.forEach(function(r){r!=="selectionchange"&&(t3.has(r)||ry(r,!1,e),ry(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yf]||(t[yf]=!0,ry("selectionchange",!1,t))}}function ZI(e,t,r,n){switch(LI(t)){case 1:var i=vj;break;case 4:i=mj;break;default:i=VC}r=i.bind(null,t,r,e),i=void 0,!qS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ny(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zo(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}bI(function(){var l=s,u=HC(r),p=[];e:{var d=JI.get(e);if(d!==void 0){var f=KC,h=e;switch(e){case"keypress":if(eh(r)===0)break e;case"keydown":case"keyup":f=xj;break;case"focusin":h="focus",f=Qg;break;case"focusout":h="blur",f=Qg;break;case"beforeblur":case"afterblur":f=Qg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Sj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Mj;break;case YI:case KI:case GI:f=bj;break;case QI:f=Lj;break;case"scroll":f=gj;break;case"wheel":f=zj;break;case"copy":case"cut":case"paste":f=_j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=j1}var v=(t&4)!==0,g=!v&&e==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var y=l,S;y!==null;){S=y;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,m!==null&&(C=Np(y,m),C!=null&&v.push(Hp(y,C,S)))),g)break;y=y.return}0<v.length&&(d=new f(d,h,null,r,u),p.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&r!==HS&&(h=r.relatedTarget||r.fromElement)&&(Zo(h)||h[Ps]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(h=r.relatedTarget||r.toElement,f=l,h=h?Zo(h):null,h!==null&&(g=_a(h),h!==g||h.tag!==5&&h.tag!==6)&&(h=null)):(f=null,h=l),f!==h)){if(v=N1,C="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=j1,C="onPointerLeave",m="onPointerEnter",y="pointer"),g=f==null?d:Ka(f),S=h==null?d:Ka(h),d=new v(C,y+"leave",f,r,u),d.target=g,d.relatedTarget=S,C=null,Zo(u)===l&&(v=new v(m,y+"enter",h,r,u),v.target=S,v.relatedTarget=g,C=v),g=C,f&&h)t:{for(v=f,m=h,y=0,S=v;S;S=xa(S))y++;for(S=0,C=m;C;C=xa(C))S++;for(;0<y-S;)v=xa(v),y--;for(;0<S-y;)m=xa(m),S--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=xa(v),m=xa(m)}v=null}else v=null;f!==null&&K1(p,d,f,v,!1),h!==null&&g!==null&&K1(p,g,h,v,!0)}}e:{if(d=l?Ka(l):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=Wj;else if(F1(d))if(HI)b=Gj;else{b=Yj;var T=Vj}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=Kj);if(b&&(b=b(e,l))){BI(p,b,r,u);break e}T&&T(e,d,l),e==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&jS(d,"number",d.value)}switch(T=l?Ka(l):window,e){case"focusin":(F1(T)||T.contentEditable==="true")&&(Va=T,GS=l,bp=null);break;case"focusout":bp=GS=Va=null;break;case"mousedown":QS=!0;break;case"contextmenu":case"mouseup":case"dragend":QS=!1,W1(p,r,u);break;case"selectionchange":if(Xj)break;case"keydown":case"keyup":W1(p,r,u)}var _;if(QC)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Wa?$I(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(zI&&r.locale!=="ko"&&(Wa||R!=="onCompositionStart"?R==="onCompositionEnd"&&Wa&&(_=jI()):(Ws=u,YC="value"in Ws?Ws.value:Ws.textContent,Wa=!0)),T=Ah(l,R),0<T.length&&(R=new L1(R,e,null,r,u),p.push({event:R,listeners:T}),_?R.data=_:(_=FI(r),_!==null&&(R.data=_)))),(_=Fj?Bj(e,r):Hj(e,r))&&(l=Ah(l,"onBeforeInput"),0<l.length&&(u=new L1("onBeforeInput","beforeinput",null,r,u),p.push({event:u,listeners:l}),u.data=_))}XI(p,t)})}function Hp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ah(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Np(e,r),s!=null&&n.unshift(Hp(e,s,i)),s=Np(e,t),s!=null&&n.push(Hp(e,s,i))),e=e.return}return n}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K1(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,i?(c=Np(r,s),c!=null&&o.unshift(Hp(r,c,a))):i||(c=Np(r,s),c!=null&&o.push(Hp(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var r3=/\r\n?/g,n3=/\u0000|\uFFFD/g;function G1(e){return(typeof e=="string"?e:""+e).replace(r3,`
`).replace(n3,"")}function Sf(e,t,r){if(t=G1(t),G1(e)!==t&&r)throw Error(U(425))}function xh(){}var JS=null,XS=null;function ZS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var e0=typeof setTimeout=="function"?setTimeout:void 0,i3=typeof clearTimeout=="function"?clearTimeout:void 0,Q1=typeof Promise=="function"?Promise:void 0,s3=typeof queueMicrotask=="function"?queueMicrotask:typeof Q1<"u"?function(e){return Q1.resolve(null).then(e).catch(o3)}:e0;function o3(e){setTimeout(function(){throw e})}function iy(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),zp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);zp(t)}function Xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zc=Math.random().toString(36).slice(2),Ui="__reactFiber$"+zc,Up="__reactProps$"+zc,Ps="__reactContainer$"+zc,t0="__reactEvents$"+zc,a3="__reactListeners$"+zc,c3="__reactHandles$"+zc;function Zo(e){var t=e[Ui];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ps]||r[Ui]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=J1(e);e!==null;){if(r=e[Ui])return r;e=J1(e)}return t}e=r,r=e.parentNode}return null}function Sd(e){return e=e[Ui]||e[Ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Nv(e){return e[Up]||null}var r0=[],Ga=-1;function wo(e){return{current:e}}function Ot(e){0>Ga||(e.current=r0[Ga],r0[Ga]=null,Ga--)}function Tt(e,t){Ga++,r0[Ga]=e.current,e.current=t}var lo={},pn=wo(lo),xn=wo(!1),ca=lo;function vc(e,t){var r=e.type.contextTypes;if(!r)return lo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function On(e){return e=e.childContextTypes,e!=null}function Oh(){Ot(xn),Ot(pn)}function X1(e,t,r){if(pn.current!==lo)throw Error(U(168));Tt(pn,t),Tt(xn,r)}function eA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(U(108,VL(e)||"Unknown",i));return Yt({},r,n)}function Dh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,ca=pn.current,Tt(pn,e),Tt(xn,xn.current),!0}function Z1(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=eA(e,t,ca),n.__reactInternalMemoizedMergedChildContext=e,Ot(xn),Ot(pn),Tt(pn,e)):Ot(xn),Tt(xn,r)}var ds=null,Lv=!1,sy=!1;function tA(e){ds===null?ds=[e]:ds.push(e)}function l3(e){Lv=!0,tA(e)}function bo(){if(!sy&&ds!==null){sy=!0;var e=0,t=ht;try{var r=ds;for(ht=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ds=null,Lv=!1}catch(i){throw ds!==null&&(ds=ds.slice(e+1)),RI(UC,bo),i}finally{ht=t,sy=!1}}return null}var Qa=[],Ja=0,Mh=null,Nh=0,ni=[],ii=0,la=null,hs=1,vs="";function Yo(e,t){Qa[Ja++]=Nh,Qa[Ja++]=Mh,Mh=e,Nh=t}function rA(e,t,r){ni[ii++]=hs,ni[ii++]=vs,ni[ii++]=la,la=e;var n=hs;e=vs;var i=32-Pi(n)-1;n&=~(1<<i),r+=1;var s=32-Pi(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,hs=1<<32-Pi(t)+i|r<<i|n,vs=s+e}else hs=1<<s|r<<i|n,vs=e}function XC(e){e.return!==null&&(Yo(e,1),rA(e,1,0))}function ZC(e){for(;e===Mh;)Mh=Qa[--Ja],Qa[Ja]=null,Nh=Qa[--Ja],Qa[Ja]=null;for(;e===la;)la=ni[--ii],ni[ii]=null,vs=ni[--ii],ni[ii]=null,hs=ni[--ii],ni[ii]=null}var Un=null,Hn=null,Ft=!1,wi=null;function nA(e,t){var r=oi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Un=e,Hn=Xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Un=e,Hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=la!==null?{id:hs,overflow:vs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=oi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Un=e,Hn=null,!0):!1;default:return!1}}function n0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function i0(e){if(Ft){var t=Hn;if(t){var r=t;if(!eP(e,t)){if(n0(e))throw Error(U(418));t=Xs(r.nextSibling);var n=Un;t&&eP(e,t)?nA(n,r):(e.flags=e.flags&-4097|2,Ft=!1,Un=e)}}else{if(n0(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ft=!1,Un=e}}}function tP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Un=e}function Cf(e){if(e!==Un)return!1;if(!Ft)return tP(e),Ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ZS(e.type,e.memoizedProps)),t&&(t=Hn)){if(n0(e))throw iA(),Error(U(418));for(;t;)nA(e,t),t=Xs(t.nextSibling)}if(tP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hn=Xs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hn=null}}else Hn=Un?Xs(e.stateNode.nextSibling):null;return!0}function iA(){for(var e=Hn;e;)e=Xs(e.nextSibling)}function mc(){Hn=Un=null,Ft=!1}function ew(e){wi===null?wi=[e]:wi.push(e)}var u3=ks.ReactCurrentBatchConfig;function sl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function wf(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rP(e){var t=e._init;return t(e._payload)}function sA(e){function t(m,y){if(e){var S=m.deletions;S===null?(m.deletions=[y],m.flags|=16):S.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=ro(m,y),m.index=0,m.sibling=null,m}function s(m,y,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<y?(m.flags|=2,y):S):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,S,C){return y===null||y.tag!==6?(y=dy(S,m.mode,C),y.return=m,y):(y=i(y,S),y.return=m,y)}function c(m,y,S,C){var b=S.type;return b===qa?u(m,y,S.props.children,C,S.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ls&&rP(b)===y.type)?(C=i(y,S.props),C.ref=sl(m,y,S),C.return=m,C):(C=ah(S.type,S.key,S.props,null,m.mode,C),C.ref=sl(m,y,S),C.return=m,C)}function l(m,y,S,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=fy(S,m.mode,C),y.return=m,y):(y=i(y,S.children||[]),y.return=m,y)}function u(m,y,S,C,b){return y===null||y.tag!==7?(y=ia(S,m.mode,C,b),y.return=m,y):(y=i(y,S),y.return=m,y)}function p(m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dy(""+y,m.mode,S),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uf:return S=ah(y.type,y.key,y.props,null,m.mode,S),S.ref=sl(m,null,y),S.return=m,S;case Ua:return y=fy(y,m.mode,S),y.return=m,y;case Ls:var C=y._init;return p(m,C(y._payload),S)}if(cp(y)||el(y))return y=ia(y,m.mode,S,null),y.return=m,y;wf(m,y)}return null}function d(m,y,S,C){var b=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(m,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uf:return S.key===b?c(m,y,S,C):null;case Ua:return S.key===b?l(m,y,S,C):null;case Ls:return b=S._init,d(m,y,b(S._payload),C)}if(cp(S)||el(S))return b!==null?null:u(m,y,S,C,null);wf(m,S)}return null}function f(m,y,S,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(S)||null,a(y,m,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case uf:return m=m.get(C.key===null?S:C.key)||null,c(y,m,C,b);case Ua:return m=m.get(C.key===null?S:C.key)||null,l(y,m,C,b);case Ls:var T=C._init;return f(m,y,S,T(C._payload),b)}if(cp(C)||el(C))return m=m.get(S)||null,u(y,m,C,b,null);wf(y,C)}return null}function h(m,y,S,C){for(var b=null,T=null,_=y,R=y=0,O=null;_!==null&&R<S.length;R++){_.index>R?(O=_,_=null):O=_.sibling;var D=d(m,_,S[R],C);if(D===null){_===null&&(_=O);break}e&&_&&D.alternate===null&&t(m,_),y=s(D,y,R),T===null?b=D:T.sibling=D,T=D,_=O}if(R===S.length)return r(m,_),Ft&&Yo(m,R),b;if(_===null){for(;R<S.length;R++)_=p(m,S[R],C),_!==null&&(y=s(_,y,R),T===null?b=_:T.sibling=_,T=_);return Ft&&Yo(m,R),b}for(_=n(m,_);R<S.length;R++)O=f(_,m,R,S[R],C),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?R:O.key),y=s(O,y,R),T===null?b=O:T.sibling=O,T=O);return e&&_.forEach(function($){return t(m,$)}),Ft&&Yo(m,R),b}function v(m,y,S,C){var b=el(S);if(typeof b!="function")throw Error(U(150));if(S=b.call(S),S==null)throw Error(U(151));for(var T=b=null,_=y,R=y=0,O=null,D=S.next();_!==null&&!D.done;R++,D=S.next()){_.index>R?(O=_,_=null):O=_.sibling;var $=d(m,_,D.value,C);if($===null){_===null&&(_=O);break}e&&_&&$.alternate===null&&t(m,_),y=s($,y,R),T===null?b=$:T.sibling=$,T=$,_=O}if(D.done)return r(m,_),Ft&&Yo(m,R),b;if(_===null){for(;!D.done;R++,D=S.next())D=p(m,D.value,C),D!==null&&(y=s(D,y,R),T===null?b=D:T.sibling=D,T=D);return Ft&&Yo(m,R),b}for(_=n(m,_);!D.done;R++,D=S.next())D=f(_,m,R,D.value,C),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?R:D.key),y=s(D,y,R),T===null?b=D:T.sibling=D,T=D);return e&&_.forEach(function(W){return t(m,W)}),Ft&&Yo(m,R),b}function g(m,y,S,C){if(typeof S=="object"&&S!==null&&S.type===qa&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case uf:e:{for(var b=S.key,T=y;T!==null;){if(T.key===b){if(b=S.type,b===qa){if(T.tag===7){r(m,T.sibling),y=i(T,S.props.children),y.return=m,m=y;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ls&&rP(b)===T.type){r(m,T.sibling),y=i(T,S.props),y.ref=sl(m,T,S),y.return=m,m=y;break e}r(m,T);break}else t(m,T);T=T.sibling}S.type===qa?(y=ia(S.props.children,m.mode,C,S.key),y.return=m,m=y):(C=ah(S.type,S.key,S.props,null,m.mode,C),C.ref=sl(m,y,S),C.return=m,m=C)}return o(m);case Ua:e:{for(T=S.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){r(m,y.sibling),y=i(y,S.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=fy(S,m.mode,C),y.return=m,m=y}return o(m);case Ls:return T=S._init,g(m,y,T(S._payload),C)}if(cp(S))return h(m,y,S,C);if(el(S))return v(m,y,S,C);wf(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(r(m,y.sibling),y=i(y,S),y.return=m,m=y):(r(m,y),y=dy(S,m.mode,C),y.return=m,m=y),o(m)):r(m,y)}return g}var gc=sA(!0),oA=sA(!1),Lh=wo(null),jh=null,Xa=null,tw=null;function rw(){tw=Xa=jh=null}function nw(e){var t=Lh.current;Ot(Lh),e._currentValue=t}function s0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function sc(e,t){jh=e,tw=Xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(In=!0),e.firstContext=null)}function li(e){var t=e._currentValue;if(tw!==e)if(e={context:e,memoizedValue:t,next:null},Xa===null){if(jh===null)throw Error(U(308));Xa=e,jh.dependencies={lanes:0,firstContext:e}}else Xa=Xa.next=e;return t}var ea=null;function iw(e){ea===null?ea=[e]:ea.push(e)}function aA(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,iw(t)):(r.next=i.next,i.next=r),t.interleaved=r,_s(e,n)}function _s(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var js=!1;function sw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ze&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,_s(e,r)}return i=n.interleaved,i===null?(t.next=t,iw(n)):(t.next=i.next,i.next=t),n.interleaved=t,_s(e,r)}function th(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qC(e,r)}}function nP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zh(e,t,r,n){var i=e.updateQueue;js=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,u=l=c=null,a=s;do{var d=a.lane,f=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,v=a;switch(d=t,f=r,v.tag){case 1:if(h=v.payload,typeof h=="function"){p=h.call(f,p,d);break e}p=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,d=typeof h=="function"?h.call(f,p,d):h,d==null)break e;p=Yt({},p,d);break e;case 2:js=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=p):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(c=p),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);pa|=o,e.lanes=o,e.memoizedState=p}}function iP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(U(191,i));i.call(n)}}}var Cd={},Qi=wo(Cd),qp=wo(Cd),Wp=wo(Cd);function ta(e){if(e===Cd)throw Error(U(174));return e}function ow(e,t){switch(Tt(Wp,t),Tt(qp,e),Tt(Qi,Cd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$S(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$S(t,e)}Ot(Qi),Tt(Qi,t)}function yc(){Ot(Qi),Ot(qp),Ot(Wp)}function lA(e){ta(Wp.current);var t=ta(Qi.current),r=$S(t,e.type);t!==r&&(Tt(qp,e),Tt(Qi,r))}function aw(e){qp.current===e&&(Ot(Qi),Ot(qp))}var qt=wo(0);function $h(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oy=[];function cw(){for(var e=0;e<oy.length;e++)oy[e]._workInProgressVersionPrimary=null;oy.length=0}var rh=ks.ReactCurrentDispatcher,ay=ks.ReactCurrentBatchConfig,ua=0,Vt=null,yr=null,Er=null,Fh=!1,Pp=!1,Vp=0,p3=0;function Xr(){throw Error(U(321))}function lw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ei(e[r],t[r]))return!1;return!0}function uw(e,t,r,n,i,s){if(ua=s,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rh.current=e===null||e.memoizedState===null?v3:m3,e=r(n,i),Pp){s=0;do{if(Pp=!1,Vp=0,25<=s)throw Error(U(301));s+=1,Er=yr=null,t.updateQueue=null,rh.current=g3,e=r(n,i)}while(Pp)}if(rh.current=Bh,t=yr!==null&&yr.next!==null,ua=0,Er=yr=Vt=null,Fh=!1,t)throw Error(U(300));return e}function pw(){var e=Vp!==0;return Vp=0,e}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Vt.memoizedState=Er=e:Er=Er.next=e,Er}function ui(){if(yr===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=Er===null?Vt.memoizedState:Er.next;if(t!==null)Er=t,yr=e;else{if(e===null)throw Error(U(310));yr=e,e={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Er===null?Vt.memoizedState=Er=e:Er=Er.next=e}return Er}function Yp(e,t){return typeof t=="function"?t(e):t}function cy(e){var t=ui(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=yr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((ua&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var p={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=p,o=n):c=c.next=p,Vt.lanes|=u,pa|=u}l=l.next}while(l!==null&&l!==s);c===null?o=n:c.next=a,Ei(n,t.memoizedState)||(In=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Vt.lanes|=s,pa|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ly(e){var t=ui(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ei(s,t.memoizedState)||(In=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function uA(){}function pA(e,t){var r=Vt,n=ui(),i=t(),s=!Ei(n.memoizedState,i);if(s&&(n.memoizedState=i,In=!0),n=n.queue,dw(hA.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Er!==null&&Er.memoizedState.tag&1){if(r.flags|=2048,Kp(9,fA.bind(null,r,n,i,t),void 0,null),Rr===null)throw Error(U(349));ua&30||dA(r,t,i)}return i}function dA(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fA(e,t,r,n){t.value=r,t.getSnapshot=n,vA(t)&&mA(e)}function hA(e,t,r){return r(function(){vA(t)&&mA(e)})}function vA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ei(e,r)}catch{return!0}}function mA(e){var t=_s(e,1);t!==null&&_i(t,e,1,-1)}function sP(e){var t=Ni();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:e},t.queue=e,e=e.dispatch=h3.bind(null,Vt,e),[t.memoizedState,e]}function Kp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gA(){return ui().memoizedState}function nh(e,t,r,n){var i=Ni();Vt.flags|=e,i.memoizedState=Kp(1|t,r,void 0,n===void 0?null:n)}function jv(e,t,r,n){var i=ui();n=n===void 0?null:n;var s=void 0;if(yr!==null){var o=yr.memoizedState;if(s=o.destroy,n!==null&&lw(n,o.deps)){i.memoizedState=Kp(t,r,s,n);return}}Vt.flags|=e,i.memoizedState=Kp(1|t,r,s,n)}function oP(e,t){return nh(8390656,8,e,t)}function dw(e,t){return jv(2048,8,e,t)}function yA(e,t){return jv(4,2,e,t)}function SA(e,t){return jv(4,4,e,t)}function CA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wA(e,t,r){return r=r!=null?r.concat([e]):null,jv(4,4,CA.bind(null,t,e),r)}function fw(){}function bA(e,t){var r=ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function PA(e,t){var r=ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _A(e,t,r){return ua&21?(Ei(r,t)||(r=II(),Vt.lanes|=r,pa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,In=!0),e.memoizedState=r)}function d3(e,t){var r=ht;ht=r!==0&&4>r?r:4,e(!0);var n=ay.transition;ay.transition={};try{e(!1),t()}finally{ht=r,ay.transition=n}}function EA(){return ui().memoizedState}function f3(e,t,r){var n=to(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RA(e))TA(t,r);else if(r=aA(e,t,r,n),r!==null){var i=bn();_i(r,e,n,i),kA(r,t,n)}}function h3(e,t,r){var n=to(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RA(e))TA(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ei(a,o)){var c=t.interleaved;c===null?(i.next=i,iw(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=aA(e,t,i,n),r!==null&&(i=bn(),_i(r,e,n,i),kA(r,t,n))}}function RA(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function TA(e,t){Pp=Fh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qC(e,r)}}var Bh={readContext:li,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},v3={readContext:li,useCallback:function(e,t){return Ni().memoizedState=[e,t===void 0?null:t],e},useContext:li,useEffect:oP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nh(4194308,4,CA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nh(4194308,4,e,t)},useInsertionEffect:function(e,t){return nh(4,2,e,t)},useMemo:function(e,t){var r=Ni();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ni();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=f3.bind(null,Vt,e),[n.memoizedState,e]},useRef:function(e){var t=Ni();return e={current:e},t.memoizedState=e},useState:sP,useDebugValue:fw,useDeferredValue:function(e){return Ni().memoizedState=e},useTransition:function(){var e=sP(!1),t=e[0];return e=d3.bind(null,e[1]),Ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Vt,i=Ni();if(Ft){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),Rr===null)throw Error(U(349));ua&30||dA(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,oP(hA.bind(null,n,s,e),[e]),n.flags|=2048,Kp(9,fA.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ni(),t=Rr.identifierPrefix;if(Ft){var r=vs,n=hs;r=(n&~(1<<32-Pi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=p3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m3={readContext:li,useCallback:bA,useContext:li,useEffect:dw,useImperativeHandle:wA,useInsertionEffect:yA,useLayoutEffect:SA,useMemo:PA,useReducer:cy,useRef:gA,useState:function(){return cy(Yp)},useDebugValue:fw,useDeferredValue:function(e){var t=ui();return _A(t,yr.memoizedState,e)},useTransition:function(){var e=cy(Yp)[0],t=ui().memoizedState;return[e,t]},useMutableSource:uA,useSyncExternalStore:pA,useId:EA,unstable_isNewReconciler:!1},g3={readContext:li,useCallback:bA,useContext:li,useEffect:dw,useImperativeHandle:wA,useInsertionEffect:yA,useLayoutEffect:SA,useMemo:PA,useReducer:ly,useRef:gA,useState:function(){return ly(Yp)},useDebugValue:fw,useDeferredValue:function(e){var t=ui();return yr===null?t.memoizedState=e:_A(t,yr.memoizedState,e)},useTransition:function(){var e=ly(Yp)[0],t=ui().memoizedState;return[e,t]},useMutableSource:uA,useSyncExternalStore:pA,useId:EA,unstable_isNewReconciler:!1};function Si(e,t){if(e&&e.defaultProps){t=Yt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function o0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Yt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zv={isMounted:function(e){return(e=e._reactInternals)?_a(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bn(),i=to(e),s=ms(n,i);s.payload=t,r!=null&&(s.callback=r),t=Zs(e,s,i),t!==null&&(_i(t,e,i,n),th(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bn(),i=to(e),s=ms(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Zs(e,s,i),t!==null&&(_i(t,e,i,n),th(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bn(),n=to(e),i=ms(r,n);i.tag=2,t!=null&&(i.callback=t),t=Zs(e,i,n),t!==null&&(_i(t,e,n,r),th(t,e,n))}};function aP(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Fp(r,n)||!Fp(i,s):!0}function IA(e,t,r){var n=!1,i=lo,s=t.contextType;return typeof s=="object"&&s!==null?s=li(s):(i=On(t)?ca:pn.current,n=t.contextTypes,s=(n=n!=null)?vc(e,i):lo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function cP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zv.enqueueReplaceState(t,t.state,null)}function a0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},sw(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=li(s):(s=On(t)?ca:pn.current,i.context=vc(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(o0(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&zv.enqueueReplaceState(i,i.state,null),zh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sc(e,t){try{var r="",n=t;do r+=WL(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function uy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function c0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var y3=typeof WeakMap=="function"?WeakMap:Map;function AA(e,t,r){r=ms(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Uh||(Uh=!0,y0=n),c0(e,t)},r}function xA(e,t,r){r=ms(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){c0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){c0(e,t),typeof n!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function lP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new y3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=O3.bind(null,e,t,r),t.then(e,e))}function uP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pP(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ms(-1,1),t.tag=2,Zs(r,t,1))),r.lanes|=1),e)}var S3=ks.ReactCurrentOwner,In=!1;function yn(e,t,r,n){t.child=e===null?oA(t,null,r,n):gc(t,e.child,r,n)}function dP(e,t,r,n,i){r=r.render;var s=t.ref;return sc(t,i),n=uw(e,t,r,n,s,i),r=pw(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Es(e,t,i)):(Ft&&r&&XC(t),t.flags|=1,yn(e,t,n,i),t.child)}function fP(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!ww(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,OA(e,t,s,n,i)):(e=ah(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Fp,r(o,n)&&e.ref===t.ref)return Es(e,t,i)}return t.flags|=1,e=ro(s,n),e.ref=t.ref,e.return=t,t.child=e}function OA(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Fp(s,n)&&e.ref===t.ref)if(In=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(In=!0);else return t.lanes=e.lanes,Es(e,t,i)}return l0(e,t,r,n,i)}function DA(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(ec,$n),$n|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt(ec,$n),$n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Tt(ec,$n),$n|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Tt(ec,$n),$n|=n;return yn(e,t,i,r),t.child}function MA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function l0(e,t,r,n,i){var s=On(r)?ca:pn.current;return s=vc(t,s),sc(t,i),r=uw(e,t,r,n,s,i),n=pw(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Es(e,t,i)):(Ft&&n&&XC(t),t.flags|=1,yn(e,t,r,i),t.child)}function hP(e,t,r,n,i){if(On(r)){var s=!0;Dh(t)}else s=!1;if(sc(t,i),t.stateNode===null)ih(e,t),IA(t,r,n),a0(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=li(l):(l=On(r)?ca:pn.current,l=vc(t,l));var u=r.getDerivedStateFromProps,p=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&cP(t,o,n,l),js=!1;var d=t.memoizedState;o.state=d,zh(t,n,o,i),c=t.memoizedState,a!==n||d!==c||xn.current||js?(typeof u=="function"&&(o0(t,r,u,n),c=t.memoizedState),(a=js||aP(t,r,a,n,d,c,l))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,cA(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Si(t.type,a),o.props=l,p=t.pendingProps,d=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=li(c):(c=On(r)?ca:pn.current,c=vc(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||d!==c)&&cP(t,o,n,c),js=!1,d=t.memoizedState,o.state=d,zh(t,n,o,i);var h=t.memoizedState;a!==p||d!==h||xn.current||js?(typeof f=="function"&&(o0(t,r,f,n),h=t.memoizedState),(l=js||aP(t,r,l,n,d,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return u0(e,t,r,n,s,i)}function u0(e,t,r,n,i,s){MA(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Z1(t,r,!1),Es(e,t,s);n=t.stateNode,S3.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=gc(t,e.child,null,s),t.child=gc(t,null,a,s)):yn(e,t,a,s),t.memoizedState=n.state,i&&Z1(t,r,!0),t.child}function NA(e){var t=e.stateNode;t.pendingContext?X1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&X1(e,t.context,!1),ow(e,t.containerInfo)}function vP(e,t,r,n,i){return mc(),ew(i),t.flags|=256,yn(e,t,r,n),t.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function d0(e){return{baseLanes:e,cachePool:null,transitions:null}}function LA(e,t,r){var n=t.pendingProps,i=qt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Tt(qt,i&1),e===null)return i0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bv(o,n,0,null),e=ia(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=d0(r),t.memoizedState=p0,e):hw(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return C3(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ro(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ro(a,s):(s=ia(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?d0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=p0,n}return s=e.child,e=s.sibling,n=ro(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hw(e,t){return t=Bv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bf(e,t,r,n){return n!==null&&ew(n),gc(t,e.child,null,r),e=hw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C3(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=uy(Error(U(422))),bf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Bv({mode:"visible",children:n.children},i,0,null),s=ia(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&gc(t,e.child,null,o),t.child.memoizedState=d0(o),t.memoizedState=p0,s);if(!(t.mode&1))return bf(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(U(419)),n=uy(s,n,void 0),bf(e,t,o,n)}if(a=(o&e.childLanes)!==0,In||a){if(n=Rr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_s(e,i),_i(n,e,i,-1))}return Cw(),n=uy(Error(U(421))),bf(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=D3.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Hn=Xs(i.nextSibling),Un=t,Ft=!0,wi=null,e!==null&&(ni[ii++]=hs,ni[ii++]=vs,ni[ii++]=la,hs=e.id,vs=e.overflow,la=t),t=hw(t,n.children),t.flags|=4096,t)}function mP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),s0(e.return,t,r)}function py(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function jA(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(yn(e,t,n.children,r),n=qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mP(e,r,t);else if(e.tag===19)mP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Tt(qt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&$h(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),py(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$h(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}py(t,!0,r,null,s);break;case"together":py(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ih(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Es(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=ro(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ro(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function w3(e,t,r){switch(t.tag){case 3:NA(t),mc();break;case 5:lA(t);break;case 1:On(t.type)&&Dh(t);break;case 4:ow(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Tt(Lh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Tt(qt,qt.current&1),t.flags|=128,null):r&t.child.childLanes?LA(e,t,r):(Tt(qt,qt.current&1),e=Es(e,t,r),e!==null?e.sibling:null);Tt(qt,qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jA(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(qt,qt.current),n)break;return null;case 22:case 23:return t.lanes=0,DA(e,t,r)}return Es(e,t,r)}var zA,f0,$A,FA;zA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};f0=function(){};$A=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ta(Qi.current);var s=null;switch(r){case"input":i=NS(e,i),n=NS(e,n),s=[];break;case"select":i=Yt({},i,{value:void 0}),n=Yt({},n,{value:void 0}),s=[];break;case"textarea":i=zS(e,i),n=zS(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xh)}FS(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Dp.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var c=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Dp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&At("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}r&&(s=s||[]).push("style",r);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};FA=function(e,t,r,n){r!==n&&(t.flags|=4)};function ol(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function b3(e,t,r){var n=t.pendingProps;switch(ZC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(t),null;case 1:return On(t.type)&&Oh(),Zr(t),null;case 3:return n=t.stateNode,yc(),Ot(xn),Ot(pn),cw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wi!==null&&(w0(wi),wi=null))),f0(e,t),Zr(t),null;case 5:aw(t);var i=ta(Wp.current);if(r=t.type,e!==null&&t.stateNode!=null)$A(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return Zr(t),null}if(e=ta(Qi.current),Cf(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ui]=t,n[Up]=s,e=(t.mode&1)!==0,r){case"dialog":At("cancel",n),At("close",n);break;case"iframe":case"object":case"embed":At("load",n);break;case"video":case"audio":for(i=0;i<up.length;i++)At(up[i],n);break;case"source":At("error",n);break;case"img":case"image":case"link":At("error",n),At("load",n);break;case"details":At("toggle",n);break;case"input":E1(n,s),At("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},At("invalid",n);break;case"textarea":T1(n,s),At("invalid",n)}FS(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sf(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sf(n.textContent,a,e),i=["children",""+a]):Dp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&At("scroll",n)}switch(r){case"input":pf(n),R1(n,s,!0);break;case"textarea":pf(n),k1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=xh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ui]=t,e[Up]=n,zA(e,t,!1,!1),t.stateNode=e;e:{switch(o=BS(r,n),r){case"dialog":At("cancel",e),At("close",e),i=n;break;case"iframe":case"object":case"embed":At("load",e),i=n;break;case"video":case"audio":for(i=0;i<up.length;i++)At(up[i],e);i=n;break;case"source":At("error",e),i=n;break;case"img":case"image":case"link":At("error",e),At("load",e),i=n;break;case"details":At("toggle",e),i=n;break;case"input":E1(e,n),i=NS(e,n),At("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Yt({},n,{value:void 0}),At("invalid",e);break;case"textarea":T1(e,n),i=zS(e,n),At("invalid",e);break;default:i=n}FS(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?gI(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vI(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mp(e,c):typeof c=="number"&&Mp(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&At("scroll",e):c!=null&&zC(e,s,c,o))}switch(r){case"input":pf(e),R1(e,n,!1);break;case"textarea":pf(e),k1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+co(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?tc(e,!!n.multiple,s,!1):n.defaultValue!=null&&tc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zr(t),null;case 6:if(e&&t.stateNode!=null)FA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=ta(Wp.current),ta(Qi.current),Cf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ui]=t,(s=n.nodeValue!==r)&&(e=Un,e!==null))switch(e.tag){case 3:Sf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sf(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ui]=t,t.stateNode=n}return Zr(t),null;case 13:if(Ot(qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&Hn!==null&&t.mode&1&&!(t.flags&128))iA(),mc(),t.flags|=98560,s=!1;else if(s=Cf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Ui]=t}else mc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zr(t),s=!1}else wi!==null&&(w0(wi),wi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?Sr===0&&(Sr=3):Cw())),t.updateQueue!==null&&(t.flags|=4),Zr(t),null);case 4:return yc(),f0(e,t),e===null&&Bp(t.stateNode.containerInfo),Zr(t),null;case 10:return nw(t.type._context),Zr(t),null;case 17:return On(t.type)&&Oh(),Zr(t),null;case 19:if(Ot(qt),s=t.memoizedState,s===null)return Zr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ol(s,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$h(e),o!==null){for(t.flags|=128,ol(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Tt(qt,qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&ar()>Cc&&(t.flags|=128,n=!0,ol(s,!1),t.lanes=4194304)}else{if(!n)if(e=$h(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return Zr(t),null}else 2*ar()-s.renderingStartTime>Cc&&r!==1073741824&&(t.flags|=128,n=!0,ol(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ar(),t.sibling=null,r=qt.current,Tt(qt,n?r&1|2:r&1),t):(Zr(t),null);case 22:case 23:return Sw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$n&1073741824&&(Zr(t),t.subtreeFlags&6&&(t.flags|=8192)):Zr(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function P3(e,t){switch(ZC(t),t.tag){case 1:return On(t.type)&&Oh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yc(),Ot(xn),Ot(pn),cw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aw(t),null;case 13:if(Ot(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));mc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ot(qt),null;case 4:return yc(),null;case 10:return nw(t.type._context),null;case 22:case 23:return Sw(),null;case 24:return null;default:return null}}var Pf=!1,un=!1,_3=typeof WeakSet=="function"?WeakSet:Set,X=null;function Za(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xt(e,t,n)}else r.current=null}function h0(e,t,r){try{r()}catch(n){Xt(e,t,n)}}var gP=!1;function E3(e,t){if(JS=kh,e=WI(),JC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,u=0,p=e,d=null;t:for(;;){for(var f;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(f=p.firstChild)!==null;)d=p,p=f;for(;;){if(p===e)break t;if(d===r&&++l===i&&(a=o),d===s&&++u===n&&(c=o),(f=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=f}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XS={focusedElem:e,selectionRange:r},kh=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,g=h.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Si(t.type,v),g);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){Xt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return h=gP,gP=!1,h}function _p(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&h0(t,r,s)}i=i.next}while(i!==n)}}function $v(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function v0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function BA(e){var t=e.alternate;t!==null&&(e.alternate=null,BA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ui],delete t[Up],delete t[t0],delete t[a3],delete t[c3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HA(e){return e.tag===5||e.tag===3||e.tag===4}function yP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function m0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xh));else if(n!==4&&(e=e.child,e!==null))for(m0(e,t,r),e=e.sibling;e!==null;)m0(e,t,r),e=e.sibling}function g0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(g0(e,t,r),e=e.sibling;e!==null;)g0(e,t,r),e=e.sibling}var Fr=null,Ci=!1;function Ds(e,t,r){for(r=r.child;r!==null;)UA(e,t,r),r=r.sibling}function UA(e,t,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(xv,r)}catch{}switch(r.tag){case 5:un||Za(r,t);case 6:var n=Fr,i=Ci;Fr=null,Ds(e,t,r),Fr=n,Ci=i,Fr!==null&&(Ci?(e=Fr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fr.removeChild(r.stateNode));break;case 18:Fr!==null&&(Ci?(e=Fr,r=r.stateNode,e.nodeType===8?iy(e.parentNode,r):e.nodeType===1&&iy(e,r),zp(e)):iy(Fr,r.stateNode));break;case 4:n=Fr,i=Ci,Fr=r.stateNode.containerInfo,Ci=!0,Ds(e,t,r),Fr=n,Ci=i;break;case 0:case 11:case 14:case 15:if(!un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h0(r,t,o),i=i.next}while(i!==n)}Ds(e,t,r);break;case 1:if(!un&&(Za(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Xt(r,t,a)}Ds(e,t,r);break;case 21:Ds(e,t,r);break;case 22:r.mode&1?(un=(n=un)||r.memoizedState!==null,Ds(e,t,r),un=n):Ds(e,t,r);break;default:Ds(e,t,r)}}function SP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _3),t.forEach(function(n){var i=M3.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fr=a.stateNode,Ci=!1;break e;case 3:Fr=a.stateNode.containerInfo,Ci=!0;break e;case 4:Fr=a.stateNode.containerInfo,Ci=!0;break e}a=a.return}if(Fr===null)throw Error(U(160));UA(s,o,i),Fr=null,Ci=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Xt(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qA(t,e),t=t.sibling}function qA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mi(t,e),Di(e),n&4){try{_p(3,e,e.return),$v(3,e)}catch(v){Xt(e,e.return,v)}try{_p(5,e,e.return)}catch(v){Xt(e,e.return,v)}}break;case 1:mi(t,e),Di(e),n&512&&r!==null&&Za(r,r.return);break;case 5:if(mi(t,e),Di(e),n&512&&r!==null&&Za(r,r.return),e.flags&32){var i=e.stateNode;try{Mp(i,"")}catch(v){Xt(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dI(i,s),BS(a,o);var l=BS(a,s);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];u==="style"?gI(i,p):u==="dangerouslySetInnerHTML"?vI(i,p):u==="children"?Mp(i,p):zC(i,u,p,l)}switch(a){case"input":LS(i,s);break;case"textarea":fI(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?tc(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?tc(i,!!s.multiple,s.defaultValue,!0):tc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Up]=s}catch(v){Xt(e,e.return,v)}}break;case 6:if(mi(t,e),Di(e),n&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Xt(e,e.return,v)}}break;case 3:if(mi(t,e),Di(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zp(t.containerInfo)}catch(v){Xt(e,e.return,v)}break;case 4:mi(t,e),Di(e);break;case 13:mi(t,e),Di(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gw=ar())),n&4&&SP(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(un=(l=un)||u,mi(t,e),un=l):mi(t,e),Di(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(X=e,u=e.child;u!==null;){for(p=X=u;X!==null;){switch(d=X,f=d.child,d.tag){case 0:case 11:case 14:case 15:_p(4,d,d.return);break;case 1:Za(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Xt(n,r,v)}}break;case 5:Za(d,d.return);break;case 22:if(d.memoizedState!==null){wP(p);continue}}f!==null?(f.return=d,X=f):wP(p)}u=u.sibling}e:for(u=null,p=e;;){if(p.tag===5){if(u===null){u=p;try{i=p.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=mI("display",o))}catch(v){Xt(e,e.return,v)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(v){Xt(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mi(t,e),Di(e),n&4&&SP(e);break;case 21:break;default:mi(t,e),Di(e)}}function Di(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(HA(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mp(i,""),n.flags&=-33);var s=yP(e);g0(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=yP(e);m0(e,a,o);break;default:throw Error(U(161))}}catch(c){Xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R3(e,t,r){X=e,WA(e)}function WA(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Pf;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||un;a=Pf;var l=un;if(Pf=o,(un=c)&&!l)for(X=i;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?bP(i):c!==null?(c.return=o,X=c):bP(i);for(;s!==null;)X=s,WA(s),s=s.sibling;X=i,Pf=a,un=l}CP(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):CP(e)}}function CP(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:un||$v(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!un)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Si(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&iP(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iP(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&zp(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}un||t.flags&512&&v0(t)}catch(d){Xt(t,t.return,d)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function wP(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function bP(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$v(4,t)}catch(c){Xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Xt(t,i,c)}}var s=t.return;try{v0(t)}catch(c){Xt(t,s,c)}break;case 5:var o=t.return;try{v0(t)}catch(c){Xt(t,o,c)}}}catch(c){Xt(t,t.return,c)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var T3=Math.ceil,Hh=ks.ReactCurrentDispatcher,vw=ks.ReactCurrentOwner,ai=ks.ReactCurrentBatchConfig,Ze=0,Rr=null,hr=null,Wr=0,$n=0,ec=wo(0),Sr=0,Gp=null,pa=0,Fv=0,mw=0,Ep=null,kn=null,gw=0,Cc=1/0,ps=null,Uh=!1,y0=null,eo=null,_f=!1,Vs=null,qh=0,Rp=0,S0=null,sh=-1,oh=0;function bn(){return Ze&6?ar():sh!==-1?sh:sh=ar()}function to(e){return e.mode&1?Ze&2&&Wr!==0?Wr&-Wr:u3.transition!==null?(oh===0&&(oh=II()),oh):(e=ht,e!==0||(e=window.event,e=e===void 0?16:LI(e.type)),e):1}function _i(e,t,r,n){if(50<Rp)throw Rp=0,S0=null,Error(U(185));gd(e,r,n),(!(Ze&2)||e!==Rr)&&(e===Rr&&(!(Ze&2)&&(Fv|=r),Sr===4&&Us(e,Wr)),Dn(e,n),r===1&&Ze===0&&!(t.mode&1)&&(Cc=ar()+500,Lv&&bo()))}function Dn(e,t){var r=e.callbackNode;uj(e,t);var n=Th(e,e===Rr?Wr:0);if(n===0)r!==null&&x1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&x1(r),t===1)e.tag===0?l3(PP.bind(null,e)):tA(PP.bind(null,e)),s3(function(){!(Ze&6)&&bo()}),r=null;else{switch(AI(n)){case 1:r=UC;break;case 4:r=TI;break;case 16:r=Rh;break;case 536870912:r=kI;break;default:r=Rh}r=ZA(r,VA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function VA(e,t){if(sh=-1,oh=0,Ze&6)throw Error(U(327));var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var n=Th(e,e===Rr?Wr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wh(e,n);else{t=n;var i=Ze;Ze|=2;var s=KA();(Rr!==e||Wr!==t)&&(ps=null,Cc=ar()+500,na(e,t));do try{A3();break}catch(a){YA(e,a)}while(!0);rw(),Hh.current=s,Ze=i,hr!==null?t=0:(Rr=null,Wr=0,t=Sr)}if(t!==0){if(t===2&&(i=VS(e),i!==0&&(n=i,t=C0(e,i))),t===1)throw r=Gp,na(e,0),Us(e,n),Dn(e,ar()),r;if(t===6)Us(e,n);else{if(i=e.current.alternate,!(n&30)&&!k3(i)&&(t=Wh(e,n),t===2&&(s=VS(e),s!==0&&(n=s,t=C0(e,s))),t===1))throw r=Gp,na(e,0),Us(e,n),Dn(e,ar()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:Ko(e,kn,ps);break;case 3:if(Us(e,n),(n&130023424)===n&&(t=gw+500-ar(),10<t)){if(Th(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){bn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=e0(Ko.bind(null,e,kn,ps),t);break}Ko(e,kn,ps);break;case 4:if(Us(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Pi(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T3(n/1960))-n,10<n){e.timeoutHandle=e0(Ko.bind(null,e,kn,ps),n);break}Ko(e,kn,ps);break;case 5:Ko(e,kn,ps);break;default:throw Error(U(329))}}}return Dn(e,ar()),e.callbackNode===r?VA.bind(null,e):null}function C0(e,t){var r=Ep;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=Wh(e,t),e!==2&&(t=kn,kn=r,t!==null&&w0(t)),e}function w0(e){kn===null?kn=e:kn.push.apply(kn,e)}function k3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Us(e,t){for(t&=~mw,t&=~Fv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pi(t),n=1<<r;e[r]=-1,t&=~n}}function PP(e){if(Ze&6)throw Error(U(327));oc();var t=Th(e,0);if(!(t&1))return Dn(e,ar()),null;var r=Wh(e,t);if(e.tag!==0&&r===2){var n=VS(e);n!==0&&(t=n,r=C0(e,n))}if(r===1)throw r=Gp,na(e,0),Us(e,t),Dn(e,ar()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ko(e,kn,ps),Dn(e,ar()),null}function yw(e,t){var r=Ze;Ze|=1;try{return e(t)}finally{Ze=r,Ze===0&&(Cc=ar()+500,Lv&&bo())}}function da(e){Vs!==null&&Vs.tag===0&&!(Ze&6)&&oc();var t=Ze;Ze|=1;var r=ai.transition,n=ht;try{if(ai.transition=null,ht=1,e)return e()}finally{ht=n,ai.transition=r,Ze=t,!(Ze&6)&&bo()}}function Sw(){$n=ec.current,Ot(ec)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,i3(r)),hr!==null)for(r=hr.return;r!==null;){var n=r;switch(ZC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oh();break;case 3:yc(),Ot(xn),Ot(pn),cw();break;case 5:aw(n);break;case 4:yc();break;case 13:Ot(qt);break;case 19:Ot(qt);break;case 10:nw(n.type._context);break;case 22:case 23:Sw()}r=r.return}if(Rr=e,hr=e=ro(e.current,null),Wr=$n=t,Sr=0,Gp=null,mw=Fv=pa=0,kn=Ep=null,ea!==null){for(t=0;t<ea.length;t++)if(r=ea[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ea=null}return e}function YA(e,t){do{var r=hr;try{if(rw(),rh.current=Bh,Fh){for(var n=Vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Fh=!1}if(ua=0,Er=yr=Vt=null,Pp=!1,Vp=0,vw.current=null,r===null||r.return===null){Sr=1,Gp=t,hr=null;break}e:{var s=e,o=r.return,a=r,c=t;if(t=Wr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=uP(o);if(f!==null){f.flags&=-257,pP(f,o,a,s,t),f.mode&1&&lP(s,l,t),t=f,c=l;var h=t.updateQueue;if(h===null){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}else{if(!(t&1)){lP(s,l,t),Cw();break e}c=Error(U(426))}}else if(Ft&&a.mode&1){var g=uP(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),pP(g,o,a,s,t),ew(Sc(c,a));break e}}s=c=Sc(c,a),Sr!==4&&(Sr=2),Ep===null?Ep=[s]:Ep.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=AA(s,c,t);nP(s,m);break e;case 1:a=c;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(eo===null||!eo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=xA(s,a,t);nP(s,C);break e}}s=s.return}while(s!==null)}QA(r)}catch(b){t=b,hr===r&&r!==null&&(hr=r=r.return);continue}break}while(!0)}function KA(){var e=Hh.current;return Hh.current=Bh,e===null?Bh:e}function Cw(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Rr===null||!(pa&268435455)&&!(Fv&268435455)||Us(Rr,Wr)}function Wh(e,t){var r=Ze;Ze|=2;var n=KA();(Rr!==e||Wr!==t)&&(ps=null,na(e,t));do try{I3();break}catch(i){YA(e,i)}while(!0);if(rw(),Ze=r,Hh.current=n,hr!==null)throw Error(U(261));return Rr=null,Wr=0,Sr}function I3(){for(;hr!==null;)GA(hr)}function A3(){for(;hr!==null&&!tj();)GA(hr)}function GA(e){var t=XA(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?QA(e):hr=t,vw.current=null}function QA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=P3(r,t),r!==null){r.flags&=32767,hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,hr=null;return}}else if(r=b3(r,t,$n),r!==null){hr=r;return}if(t=t.sibling,t!==null){hr=t;return}hr=t=e}while(t!==null);Sr===0&&(Sr=5)}function Ko(e,t,r){var n=ht,i=ai.transition;try{ai.transition=null,ht=1,x3(e,t,r,n)}finally{ai.transition=i,ht=n}return null}function x3(e,t,r,n){do oc();while(Vs!==null);if(Ze&6)throw Error(U(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(pj(e,s),e===Rr&&(hr=Rr=null,Wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_f||(_f=!0,ZA(Rh,function(){return oc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ai.transition,ai.transition=null;var o=ht;ht=1;var a=Ze;Ze|=4,vw.current=null,E3(e,r),qA(r,e),Jj(XS),kh=!!JS,XS=JS=null,e.current=r,R3(r),rj(),Ze=a,ht=o,ai.transition=s}else e.current=r;if(_f&&(_f=!1,Vs=e,qh=i),s=e.pendingLanes,s===0&&(eo=null),sj(r.stateNode),Dn(e,ar()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uh)throw Uh=!1,e=y0,y0=null,e;return qh&1&&e.tag!==0&&oc(),s=e.pendingLanes,s&1?e===S0?Rp++:(Rp=0,S0=e):Rp=0,bo(),null}function oc(){if(Vs!==null){var e=AI(qh),t=ai.transition,r=ht;try{if(ai.transition=null,ht=16>e?16:e,Vs===null)var n=!1;else{if(e=Vs,Vs=null,qh=0,Ze&6)throw Error(U(331));var i=Ze;for(Ze|=4,X=e.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(X=l;X!==null;){var u=X;switch(u.tag){case 0:case 11:case 15:_p(8,u,s)}var p=u.child;if(p!==null)p.return=u,X=p;else for(;X!==null;){u=X;var d=u.sibling,f=u.return;if(BA(u),u===l){X=null;break}if(d!==null){d.return=f,X=d;break}X=f}}}var h=s.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_p(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,X=m;break e}X=s.return}}var y=e.current;for(X=y;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$v(9,a)}}catch(b){Xt(a,a.return,b)}if(a===o){X=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,X=C;break e}X=a.return}}if(Ze=i,bo(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(xv,e)}catch{}n=!0}return n}finally{ht=r,ai.transition=t}}return!1}function _P(e,t,r){t=Sc(r,t),t=AA(e,t,1),e=Zs(e,t,1),t=bn(),e!==null&&(gd(e,1,t),Dn(e,t))}function Xt(e,t,r){if(e.tag===3)_P(e,e,r);else for(;t!==null;){if(t.tag===3){_P(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(eo===null||!eo.has(n))){e=Sc(r,e),e=xA(t,e,1),t=Zs(t,e,1),e=bn(),t!==null&&(gd(t,1,e),Dn(t,e));break}}t=t.return}}function O3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&r,Rr===e&&(Wr&r)===r&&(Sr===4||Sr===3&&(Wr&130023424)===Wr&&500>ar()-gw?na(e,0):mw|=r),Dn(e,t)}function JA(e,t){t===0&&(e.mode&1?(t=hf,hf<<=1,!(hf&130023424)&&(hf=4194304)):t=1);var r=bn();e=_s(e,t),e!==null&&(gd(e,t,r),Dn(e,r))}function D3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),JA(e,r)}function M3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),JA(e,r)}var XA;XA=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)In=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return In=!1,w3(e,t,r);In=!!(e.flags&131072)}else In=!1,Ft&&t.flags&1048576&&rA(t,Nh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ih(e,t),e=t.pendingProps;var i=vc(t,pn.current);sc(t,r),i=uw(null,t,n,e,i,r);var s=pw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,On(n)?(s=!0,Dh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sw(t),i.updater=zv,t.stateNode=i,i._reactInternals=t,a0(t,n,e,r),t=u0(null,t,n,!0,s,r)):(t.tag=0,Ft&&s&&XC(t),yn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ih(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=L3(n),e=Si(n,e),i){case 0:t=l0(null,t,n,e,r);break e;case 1:t=hP(null,t,n,e,r);break e;case 11:t=dP(null,t,n,e,r);break e;case 14:t=fP(null,t,n,Si(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Si(n,i),l0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Si(n,i),hP(e,t,n,i,r);case 3:e:{if(NA(t),e===null)throw Error(U(387));n=t.pendingProps,s=t.memoizedState,i=s.element,cA(e,t),zh(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Sc(Error(U(423)),t),t=vP(e,t,n,r,i);break e}else if(n!==i){i=Sc(Error(U(424)),t),t=vP(e,t,n,r,i);break e}else for(Hn=Xs(t.stateNode.containerInfo.firstChild),Un=t,Ft=!0,wi=null,r=oA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mc(),n===i){t=Es(e,t,r);break e}yn(e,t,n,r)}t=t.child}return t;case 5:return lA(t),e===null&&i0(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ZS(n,i)?o=null:s!==null&&ZS(n,s)&&(t.flags|=32),MA(e,t),yn(e,t,o,r),t.child;case 6:return e===null&&i0(t),null;case 13:return LA(e,t,r);case 4:return ow(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gc(t,null,n,r):yn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Si(n,i),dP(e,t,n,i,r);case 7:return yn(e,t,t.pendingProps,r),t.child;case 8:return yn(e,t,t.pendingProps.children,r),t.child;case 12:return yn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Tt(Lh,n._currentValue),n._currentValue=o,s!==null)if(Ei(s.value,o)){if(s.children===i.children&&!xn.current){t=Es(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ms(-1,r&-r),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),s0(s.return,r,t),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),s0(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,sc(t,r),i=li(i),n=n(i),t.flags|=1,yn(e,t,n,r),t.child;case 14:return n=t.type,i=Si(n,t.pendingProps),i=Si(n.type,i),fP(e,t,n,i,r);case 15:return OA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Si(n,i),ih(e,t),t.tag=1,On(n)?(e=!0,Dh(t)):e=!1,sc(t,r),IA(t,n,i),a0(t,n,i,r),u0(null,t,n,!0,e,r);case 19:return jA(e,t,r);case 22:return DA(e,t,r)}throw Error(U(156,t.tag))};function ZA(e,t){return RI(e,t)}function N3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,t,r,n){return new N3(e,t,r,n)}function ww(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L3(e){if(typeof e=="function")return ww(e)?1:0;if(e!=null){if(e=e.$$typeof,e===FC)return 11;if(e===BC)return 14}return 2}function ro(e,t){var r=e.alternate;return r===null?(r=oi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ah(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")ww(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qa:return ia(r.children,i,s,t);case $C:o=8,i|=8;break;case xS:return e=oi(12,r,t,i|2),e.elementType=xS,e.lanes=s,e;case OS:return e=oi(13,r,t,i),e.elementType=OS,e.lanes=s,e;case DS:return e=oi(19,r,t,i),e.elementType=DS,e.lanes=s,e;case lI:return Bv(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aI:o=10;break e;case cI:o=9;break e;case FC:o=11;break e;case BC:o=14;break e;case Ls:o=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=oi(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ia(e,t,r,n){return e=oi(7,e,n,t),e.lanes=r,e}function Bv(e,t,r,n){return e=oi(22,e,n,t),e.elementType=lI,e.lanes=r,e.stateNode={isHidden:!1},e}function dy(e,t,r){return e=oi(6,e,null,t),e.lanes=r,e}function fy(e,t,r){return t=oi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j3(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yg(0),this.expirationTimes=Yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bw(e,t,r,n,i,s,o,a,c){return e=new j3(e,t,r,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=oi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sw(s),e}function z3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ua,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ex(e){if(!e)return lo;e=e._reactInternals;e:{if(_a(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(On(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(On(r))return eA(e,r,t)}return t}function tx(e,t,r,n,i,s,o,a,c){return e=bw(r,n,!0,e,i,s,o,a,c),e.context=ex(null),r=e.current,n=bn(),i=to(r),s=ms(n,i),s.callback=t??null,Zs(r,s,i),e.current.lanes=i,gd(e,i,n),Dn(e,n),e}function Hv(e,t,r,n){var i=t.current,s=bn(),o=to(i);return r=ex(r),t.context===null?t.context=r:t.pendingContext=r,t=ms(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zs(i,t,o),e!==null&&(_i(e,i,o,s),th(e,i,o)),o}function Vh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function EP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Pw(e,t){EP(e,t),(e=e.alternate)&&EP(e,t)}function $3(){return null}var rx=typeof reportError=="function"?reportError:function(e){console.error(e)};function _w(e){this._internalRoot=e}Uv.prototype.render=_w.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Hv(e,t,null,null)};Uv.prototype.unmount=_w.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;da(function(){Hv(null,e,null,null)}),t[Ps]=null}};function Uv(e){this._internalRoot=e}Uv.prototype.unstable_scheduleHydration=function(e){if(e){var t=DI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hs.length&&t!==0&&t<Hs[r].priority;r++);Hs.splice(r,0,e),r===0&&NI(e)}};function Ew(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RP(){}function F3(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Vh(o);s.call(l)}}var o=tx(t,n,e,0,null,!1,!1,"",RP);return e._reactRootContainer=o,e[Ps]=o.current,Bp(e.nodeType===8?e.parentNode:e),da(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=Vh(c);a.call(l)}}var c=bw(e,0,!1,null,null,!1,!1,"",RP);return e._reactRootContainer=c,e[Ps]=c.current,Bp(e.nodeType===8?e.parentNode:e),da(function(){Hv(t,c,r,n)}),c}function Wv(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Vh(o);a.call(c)}}Hv(t,o,e,i)}else o=F3(r,t,e,i,n);return Vh(o)}xI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lp(t.pendingLanes);r!==0&&(qC(t,r|1),Dn(t,ar()),!(Ze&6)&&(Cc=ar()+500,bo()))}break;case 13:da(function(){var n=_s(e,1);if(n!==null){var i=bn();_i(n,e,1,i)}}),Pw(e,1)}};WC=function(e){if(e.tag===13){var t=_s(e,134217728);if(t!==null){var r=bn();_i(t,e,134217728,r)}Pw(e,134217728)}};OI=function(e){if(e.tag===13){var t=to(e),r=_s(e,t);if(r!==null){var n=bn();_i(r,e,t,n)}Pw(e,t)}};DI=function(){return ht};MI=function(e,t){var r=ht;try{return ht=e,t()}finally{ht=r}};US=function(e,t,r){switch(t){case"input":if(LS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Nv(n);if(!i)throw Error(U(90));pI(n),LS(n,i)}}}break;case"textarea":fI(e,r);break;case"select":t=r.value,t!=null&&tc(e,!!r.multiple,t,!1)}};CI=yw;wI=da;var B3={usingClientEntryPoint:!1,Events:[Sd,Ka,Nv,yI,SI,yw]},al={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H3={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_I(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||$3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{xv=Ef.inject(H3),Gi=Ef}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B3;Gn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ew(t))throw Error(U(200));return z3(e,t,null,r)};Gn.createRoot=function(e,t){if(!Ew(e))throw Error(U(299));var r=!1,n="",i=rx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bw(e,1,!1,null,null,r,!1,n,i),e[Ps]=t.current,Bp(e.nodeType===8?e.parentNode:e),new _w(t)};Gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=_I(t),e=e===null?null:e.stateNode,e};Gn.flushSync=function(e){return da(e)};Gn.hydrate=function(e,t,r){if(!qv(t))throw Error(U(200));return Wv(null,e,t,!0,r)};Gn.hydrateRoot=function(e,t,r){if(!Ew(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=rx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=tx(t,null,e,1,r??null,i,!1,s,o),e[Ps]=t.current,Bp(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Uv(t)};Gn.render=function(e,t,r){if(!qv(t))throw Error(U(200));return Wv(null,e,t,!1,r)};Gn.unmountComponentAtNode=function(e){if(!qv(e))throw Error(U(40));return e._reactRootContainer?(da(function(){Wv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ps]=null})}),!0):!1};Gn.unstable_batchedUpdates=yw;Gn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qv(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Wv(e,t,r,!1,n)};Gn.version="18.3.1-next-f1338f8080-20240426";function nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nx)}catch(e){console.error(e)}}nx(),nI.exports=Gn;var $c=nI.exports;const U3=So($c);var TP=$c;bh.createRoot=TP.createRoot,bh.hydrateRoot=TP.hydrateRoot;var ix={exports:{}},q3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W3=q3,V3=W3;function sx(){}function ox(){}ox.resetWarningCache=sx;var Y3=function(){function e(n,i,s,o,a,c){if(c!==V3){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ox,resetWarningCache:sx};return r.PropTypes=r,r};ix.exports=Y3();var ax=ix.exports;const bt=So(ax);var uo=x.createContext(null);function K3(e){e()}var cx=K3,G3=function(t){return cx=t},Q3=function(){return cx};function J3(){var e=Q3(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=t;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var kP={notify:function(){},get:function(){return[]}};function lx(e,t){var r,n=kP;function i(p){return c(),n.subscribe(p)}function s(){n.notify()}function o(){u.onStateChange&&u.onStateChange()}function a(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=J3())}function l(){r&&(r(),r=void 0,n.clear(),n=kP)}var u={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:c,tryUnsubscribe:l,getListeners:function(){return n}};return u}var b0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function X3(e){var t=e.store,r=e.context,n=e.children,i=P.useMemo(function(){var a=lx(t);return{store:t,subscription:a}},[t]),s=P.useMemo(function(){return t.getState()},[t]);b0(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=r||uo;return x.createElement(o.Provider,{value:i},n)}var ux={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=typeof Symbol=="function"&&Symbol.for,Rw=Tr?Symbol.for("react.element"):60103,Tw=Tr?Symbol.for("react.portal"):60106,Vv=Tr?Symbol.for("react.fragment"):60107,Yv=Tr?Symbol.for("react.strict_mode"):60108,Kv=Tr?Symbol.for("react.profiler"):60114,Gv=Tr?Symbol.for("react.provider"):60109,Qv=Tr?Symbol.for("react.context"):60110,kw=Tr?Symbol.for("react.async_mode"):60111,Jv=Tr?Symbol.for("react.concurrent_mode"):60111,Xv=Tr?Symbol.for("react.forward_ref"):60112,Zv=Tr?Symbol.for("react.suspense"):60113,Z3=Tr?Symbol.for("react.suspense_list"):60120,em=Tr?Symbol.for("react.memo"):60115,tm=Tr?Symbol.for("react.lazy"):60116,e4=Tr?Symbol.for("react.block"):60121,t4=Tr?Symbol.for("react.fundamental"):60117,r4=Tr?Symbol.for("react.responder"):60118,n4=Tr?Symbol.for("react.scope"):60119;function Jn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Rw:switch(e=e.type,e){case kw:case Jv:case Vv:case Kv:case Yv:case Zv:return e;default:switch(e=e&&e.$$typeof,e){case Qv:case Xv:case tm:case em:case Gv:return e;default:return t}}case Tw:return t}}}function px(e){return Jn(e)===Jv}vt.AsyncMode=kw;vt.ConcurrentMode=Jv;vt.ContextConsumer=Qv;vt.ContextProvider=Gv;vt.Element=Rw;vt.ForwardRef=Xv;vt.Fragment=Vv;vt.Lazy=tm;vt.Memo=em;vt.Portal=Tw;vt.Profiler=Kv;vt.StrictMode=Yv;vt.Suspense=Zv;vt.isAsyncMode=function(e){return px(e)||Jn(e)===kw};vt.isConcurrentMode=px;vt.isContextConsumer=function(e){return Jn(e)===Qv};vt.isContextProvider=function(e){return Jn(e)===Gv};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rw};vt.isForwardRef=function(e){return Jn(e)===Xv};vt.isFragment=function(e){return Jn(e)===Vv};vt.isLazy=function(e){return Jn(e)===tm};vt.isMemo=function(e){return Jn(e)===em};vt.isPortal=function(e){return Jn(e)===Tw};vt.isProfiler=function(e){return Jn(e)===Kv};vt.isStrictMode=function(e){return Jn(e)===Yv};vt.isSuspense=function(e){return Jn(e)===Zv};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vv||e===Jv||e===Kv||e===Yv||e===Zv||e===Z3||typeof e=="object"&&e!==null&&(e.$$typeof===tm||e.$$typeof===em||e.$$typeof===Gv||e.$$typeof===Qv||e.$$typeof===Xv||e.$$typeof===t4||e.$$typeof===r4||e.$$typeof===n4||e.$$typeof===e4)};vt.typeOf=Jn;ux.exports=vt;var i4=ux.exports,Iw=i4,s4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Aw={};Aw[Iw.ForwardRef]=a4;Aw[Iw.Memo]=dx;function IP(e){return Iw.isMemo(e)?dx:Aw[e.$$typeof]||s4}var c4=Object.defineProperty,l4=Object.getOwnPropertyNames,AP=Object.getOwnPropertySymbols,u4=Object.getOwnPropertyDescriptor,p4=Object.getPrototypeOf,xP=Object.prototype;function fx(e,t,r){if(typeof t!="string"){if(xP){var n=p4(t);n&&n!==xP&&fx(e,n,r)}var i=l4(t);AP&&(i=i.concat(AP(t)));for(var s=IP(e),o=IP(t),a=0;a<i.length;++a){var c=i[a];if(!o4[c]&&!(r&&r[c])&&!(o&&o[c])&&!(s&&s[c])){var l=u4(t,c);try{c4(e,c,l)}catch{}}}}return e}var d4=fx;const f4=So(d4);var kt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=60103,nm=60106,wd=60107,bd=60108,Pd=60114,_d=60109,Ed=60110,Rd=60112,Td=60113,xw=60120,kd=60115,Id=60116,hx=60121,vx=60122,mx=60117,gx=60129,yx=60131;if(typeof Symbol=="function"&&Symbol.for){var Nr=Symbol.for;rm=Nr("react.element"),nm=Nr("react.portal"),wd=Nr("react.fragment"),bd=Nr("react.strict_mode"),Pd=Nr("react.profiler"),_d=Nr("react.provider"),Ed=Nr("react.context"),Rd=Nr("react.forward_ref"),Td=Nr("react.suspense"),xw=Nr("react.suspense_list"),kd=Nr("react.memo"),Id=Nr("react.lazy"),hx=Nr("react.block"),vx=Nr("react.server.block"),mx=Nr("react.fundamental"),gx=Nr("react.debug_trace_mode"),yx=Nr("react.legacy_hidden")}function ki(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rm:switch(e=e.type,e){case wd:case Pd:case bd:case Td:case xw:return e;default:switch(e=e&&e.$$typeof,e){case Ed:case Rd:case Id:case kd:case _d:return e;default:return t}}case nm:return t}}}var h4=_d,v4=rm,m4=Rd,g4=wd,y4=Id,S4=kd,C4=nm,w4=Pd,b4=bd,P4=Td;kt.ContextConsumer=Ed;kt.ContextProvider=h4;kt.Element=v4;kt.ForwardRef=m4;kt.Fragment=g4;kt.Lazy=y4;kt.Memo=S4;kt.Portal=C4;kt.Profiler=w4;kt.StrictMode=b4;kt.Suspense=P4;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(e){return ki(e)===Ed};kt.isContextProvider=function(e){return ki(e)===_d};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rm};kt.isForwardRef=function(e){return ki(e)===Rd};kt.isFragment=function(e){return ki(e)===wd};kt.isLazy=function(e){return ki(e)===Id};kt.isMemo=function(e){return ki(e)===kd};kt.isPortal=function(e){return ki(e)===nm};kt.isProfiler=function(e){return ki(e)===Pd};kt.isStrictMode=function(e){return ki(e)===bd};kt.isSuspense=function(e){return ki(e)===Td};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wd||e===Pd||e===gx||e===bd||e===Td||e===xw||e===yx||typeof e=="object"&&e!==null&&(e.$$typeof===Id||e.$$typeof===kd||e.$$typeof===_d||e.$$typeof===Ed||e.$$typeof===Rd||e.$$typeof===mx||e.$$typeof===hx||e[0]===vx)};kt.typeOf=ki;function Sx(){var e=P.useContext(uo);return e}function Cx(e){e===void 0&&(e=uo);var t=e===uo?Sx:function(){return P.useContext(e)};return function(){var n=t(),i=n.store;return i}}var _4=Cx();function E4(e){e===void 0&&(e=uo);var t=e===uo?_4:Cx(e);return function(){var n=t();return n.dispatch}}var Po=E4(),R4=function(t,r){return t===r};function T4(e,t,r,n){var i=P.useReducer(function(h){return h+1},0),s=i[1],o=P.useMemo(function(){return lx(r,n)},[r,n]),a=P.useRef(),c=P.useRef(),l=P.useRef(),u=P.useRef(),p=r.getState(),d;try{if(e!==c.current||p!==l.current||a.current){var f=e(p);u.current===void 0||!t(f,u.current)?d=f:d=u.current}else d=u.current}catch(h){throw a.current&&(h.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),h}return b0(function(){c.current=e,l.current=p,u.current=d,a.current=void 0}),b0(function(){function h(){try{var v=r.getState();if(v===l.current)return;var g=c.current(v);if(t(g,u.current))return;u.current=g,l.current=v}catch(m){a.current=m}s()}return o.onStateChange=h,o.trySubscribe(),h(),function(){return o.tryUnsubscribe()}},[r,o]),d}function k4(e){e===void 0&&(e=uo);var t=e===uo?Sx:function(){return P.useContext(e)};return function(n,i){i===void 0&&(i=R4);var s=t(),o=s.store,a=s.subscription,c=T4(n,i,o,a);return P.useDebugValue(c),c}}var ie=k4();G3($c.unstable_batchedUpdates);function wx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=wx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ue(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=wx(e))&&(n&&(n+=" "),n+=t);return n}function I4(e){const t=new Date(e);let r=t.getHours(),n=t.getMinutes();return r=r.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),`${r}:${n}`}const bx=e=>new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=i=>r(i)});function Px(e){window.TeneoWebWidget={...window.TeneoWebWidget,...e,setSubmitFunction:t=>{window.TeneoWebWidget.submitClicked=t},setCancelFunction:t=>{window.TeneoWebWidget.cancelClicked=t},setSpeakFunction:t=>{window.TeneoWebWidget.speakCalled=t},setASRFunction:t=>{window.TeneoWebWidget.customASR=t},setSendFiles:t=>{window.TeneoWebWidget.sendFiles=t},setMenuItems:t=>{window.TeneoWebWidget.menuItems=t},setOnReceiveChatFunction:t=>{window.TeneoWebWidget.onReceiveChatFunction=t},setCommunicationLayerFunction:t=>{window.TeneoWebWidget.communicationLayerCalled=t}}}const _x=e=>(Array.isArray(e)?e.map(n=>n.trim()):e.split(",").map(n=>n.trim())).reduce((n,i)=>(n[i]=[],n),{});var P0=function(e,t){return P0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},P0(e,t)};function fi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");P0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var re=function(){return re=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},re.apply(this,arguments)};function wc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Fc(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(p){o(p)}}function c(u){try{l(n.throw(u))}catch(p){o(p)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function Bc(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function OP(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function si(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Ex(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}var Ye;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Ye||(Ye={}));var xt;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(xt||(xt={}));var bc;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(bc||(bc={}));function DP(e){return e.type===xt.literal}function A4(e){return e.type===xt.argument}function Rx(e){return e.type===xt.number}function Tx(e){return e.type===xt.date}function kx(e){return e.type===xt.time}function Ix(e){return e.type===xt.select}function Ax(e){return e.type===xt.plural}function x4(e){return e.type===xt.pound}function xx(e){return e.type===xt.tag}function Ox(e){return!!(e&&typeof e=="object"&&e.type===bc.number)}function _0(e){return!!(e&&typeof e=="object"&&e.type===bc.dateTime)}var Dx=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,O4=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function D4(e){var t={};return e.replace(O4,function(r){var n=r.length;switch(r[0]){case"G":t.era=n===4?"long":n===5?"narrow":"short";break;case"y":t.year=n===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=n===4?"long":n===5?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var M4=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function N4(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(M4).filter(function(d){return d.length>0}),r=[],n=0,i=t;n<i.length;n++){var s=i[n],o=s.split("/");if(o.length===0)throw new Error("Invalid number skeleton");for(var a=o[0],c=o.slice(1),l=0,u=c;l<u.length;l++){var p=u[l];if(p.length===0)throw new Error("Invalid number skeleton")}r.push({stem:a,options:c})}return r}function L4(e){return e.replace(/^(.*?)-/,"")}var MP=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Mx=/^(@+)?(\+|#+)?[rs]?$/g,j4=/(\*)(0+)|(#+)(0+)|(0+)/g,Nx=/^(0+)$/;function NP(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(Mx,function(r,n,i){return typeof i!="string"?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):i==="+"?t.minimumSignificantDigits=n.length:n[0]==="#"?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+(typeof i=="string"?i.length:0)),""}),t}function Lx(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function z4(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if(r==="+!"?(t.signDisplay="always",e=e.slice(2)):r==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!Nx.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function LP(e){var t={},r=Lx(e);return r||t}function $4(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=L4(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=re(re(re({},t),{notation:"scientific"}),i.options.reduce(function(c,l){return re(re({},c),LP(l))},{}));continue;case"engineering":t=re(re(re({},t),{notation:"engineering"}),i.options.reduce(function(c,l){return re(re({},c),LP(l))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(j4,function(c,l,u,p,d,f){if(l)t.minimumIntegerDigits=u.length;else{if(p&&d)throw new Error("We currently do not support maximum integer digits");if(f)throw new Error("We currently do not support exact integer digits")}return""});continue}if(Nx.test(i.stem)){t.minimumIntegerDigits=i.stem.length;continue}if(MP.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(MP,function(c,l,u,p,d,f){return u==="*"?t.minimumFractionDigits=l.length:p&&p[0]==="#"?t.maximumFractionDigits=p.length:d&&f?(t.minimumFractionDigits=d.length,t.maximumFractionDigits=d.length+f.length):(t.minimumFractionDigits=l.length,t.maximumFractionDigits=l.length),""});var s=i.options[0];s==="w"?t=re(re({},t),{trailingZeroDisplay:"stripIfInteger"}):s&&(t=re(re({},t),NP(s)));continue}if(Mx.test(i.stem)){t=re(re({},t),NP(i.stem));continue}var o=Lx(i.stem);o&&(t=re(re({},t),o));var a=z4(i.stem);a&&(t=re(re({},t),a))}return t}var Rf={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function F4(e,t){for(var r="",n=0;n<e.length;n++){var i=e.charAt(n);if(i==="j"){for(var s=0;n+1<e.length&&e.charAt(n+1)===i;)s++,n++;var o=1+(s&1),a=s<2?1:3+(s>>1),c="a",l=B4(t);for((l=="H"||l=="k")&&(a=0);a-- >0;)r+=c;for(;o-- >0;)r=l+r}else i==="J"?r+="H":r+=i}return r}function B4(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=e.language,n;r!=="root"&&(n=e.maximize().region);var i=Rf[n||""]||Rf[r||""]||Rf["".concat(r,"-001")]||Rf["001"];return i[0]}var hy,H4=new RegExp("^".concat(Dx.source,"*")),U4=new RegExp("".concat(Dx.source,"*$"));function Ge(e,t){return{start:e,end:t}}var q4=!!String.prototype.startsWith&&"_a".startsWith("a",1),W4=!!String.fromCodePoint,V4=!!Object.fromEntries,Y4=!!String.prototype.codePointAt,K4=!!String.prototype.trimStart,G4=!!String.prototype.trimEnd,Q4=!!Number.isSafeInteger,J4=Q4?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},E0=!0;try{var X4=zx("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");E0=((hy=X4.exec("a"))===null||hy===void 0?void 0:hy[0])==="a"}catch{E0=!1}var jP=q4?function(t,r,n){return t.startsWith(r,n)}:function(t,r,n){return t.slice(n,n+r.length)===r},R0=W4?String.fromCodePoint:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n="",i=t.length,s=0,o;i>s;){if(o=t[s++],o>1114111)throw RangeError(o+" is not a valid code point");n+=o<65536?String.fromCharCode(o):String.fromCharCode(((o-=65536)>>10)+55296,o%1024+56320)}return n},zP=V4?Object.fromEntries:function(t){for(var r={},n=0,i=t;n<i.length;n++){var s=i[n],o=s[0],a=s[1];r[o]=a}return r},jx=Y4?function(t,r){return t.codePointAt(r)}:function(t,r){var n=t.length;if(!(r<0||r>=n)){var i=t.charCodeAt(r),s;return i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?i:(i-55296<<10)+(s-56320)+65536}},Z4=K4?function(t){return t.trimStart()}:function(t){return t.replace(H4,"")},ez=G4?function(t){return t.trimEnd()}:function(t){return t.replace(U4,"")};function zx(e,t){return new RegExp(e,t)}var T0;if(E0){var $P=zx("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");T0=function(t,r){var n;$P.lastIndex=r;var i=$P.exec(t);return(n=i[1])!==null&&n!==void 0?n:""}}else T0=function(t,r){for(var n=[];;){var i=jx(t,r);if(i===void 0||$x(i)||iz(i))break;n.push(i),r+=i>=65536?2:1}return R0.apply(void 0,n)};var tz=function(){function e(t,r){r===void 0&&(r={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,r,n){for(var i=[];!this.isEOF();){var s=this.char();if(s===123){var o=this.parseArgument(t,n);if(o.err)return o;i.push(o.val)}else{if(s===125&&t>0)break;if(s===35&&(r==="plural"||r==="selectordinal")){var a=this.clonePosition();this.bump(),i.push({type:xt.pound,location:Ge(a,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(n)break;return this.error(Ye.UNMATCHED_CLOSING_TAG,Ge(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&k0(this.peek()||0)){var o=this.parseTag(t,r);if(o.err)return o;i.push(o.val)}else{var o=this.parseLiteral(t,r);if(o.err)return o;i.push(o.val)}}}return{val:i,err:null}},e.prototype.parseTag=function(t,r){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:xt.literal,value:"<".concat(i,"/>"),location:Ge(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(t+1,r,!0);if(s.err)return s;var o=s.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!k0(this.char()))return this.error(Ye.INVALID_TAG,Ge(a,this.clonePosition()));var c=this.clonePosition(),l=this.parseTagName();return i!==l?this.error(Ye.UNMATCHED_CLOSING_TAG,Ge(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:xt.tag,value:i,children:o,location:Ge(n,this.clonePosition())},err:null}:this.error(Ye.INVALID_TAG,Ge(a,this.clonePosition())))}else return this.error(Ye.UNCLOSED_TAG,Ge(n,this.clonePosition()))}else return this.error(Ye.INVALID_TAG,Ge(n,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&nz(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,r){for(var n=this.clonePosition(),i="";;){var s=this.tryParseQuote(r);if(s){i+=s;continue}var o=this.tryParseUnquoted(t,r);if(o){i+=o;continue}var a=this.tryParseLeftAngleBracket();if(a){i+=a;continue}break}var c=Ge(n,this.clonePosition());return{val:{type:xt.literal,value:i,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!rz(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(n===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(n);this.bump()}return R0.apply(void 0,r)},e.prototype.tryParseUnquoted=function(t,r){if(this.isEOF())return null;var n=this.char();return n===60||n===123||n===35&&(r==="plural"||r==="selectordinal")||n===125&&t>0?null:(this.bump(),R0(n))},e.prototype.parseArgument=function(t,r){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Ye.EXPECT_ARGUMENT_CLOSING_BRACE,Ge(n,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Ye.EMPTY_ARGUMENT,Ge(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(Ye.MALFORMED_ARGUMENT,Ge(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Ye.EXPECT_ARGUMENT_CLOSING_BRACE,Ge(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:xt.argument,value:i,location:Ge(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Ye.EXPECT_ARGUMENT_CLOSING_BRACE,Ge(n,this.clonePosition())):this.parseArgumentOptions(t,r,i,n);default:return this.error(Ye.MALFORMED_ARGUMENT,Ge(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),r=this.offset(),n=T0(this.message,r),i=r+n.length;this.bumpTo(i);var s=this.clonePosition(),o=Ge(t,s);return{value:n,location:o}},e.prototype.parseArgumentOptions=function(t,r,n,i){var s,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(a){case"":return this.error(Ye.EXPECT_ARGUMENT_TYPE,Ge(o,c));case"number":case"date":case"time":{this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition(),p=this.parseSimpleArgStyleIfPossible();if(p.err)return p;var d=ez(p.val);if(d.length===0)return this.error(Ye.EXPECT_ARGUMENT_STYLE,Ge(this.clonePosition(),this.clonePosition()));var f=Ge(u,this.clonePosition());l={style:d,styleLocation:f}}var h=this.tryParseArgumentClose(i);if(h.err)return h;var v=Ge(i,this.clonePosition());if(l&&jP(l==null?void 0:l.style,"::",0)){var g=Z4(l.style.slice(2));if(a==="number"){var p=this.parseNumberSkeletonFromString(g,l.styleLocation);return p.err?p:{val:{type:xt.number,value:n,location:v,style:p.val},err:null}}else{if(g.length===0)return this.error(Ye.EXPECT_DATE_TIME_SKELETON,v);var m=g;this.locale&&(m=F4(g,this.locale));var d={type:bc.dateTime,pattern:m,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?D4(m):{}},y=a==="date"?xt.date:xt.time;return{val:{type:y,value:n,location:v,style:d},err:null}}}return{val:{type:a==="number"?xt.number:a==="date"?xt.date:xt.time,value:n,location:v,style:(s=l==null?void 0:l.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var S=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Ye.EXPECT_SELECT_ARGUMENT_OPTIONS,Ge(S,re({},S)));this.bumpSpace();var C=this.parseIdentifierIfPossible(),b=0;if(a!=="select"&&C.value==="offset"){if(!this.bumpIf(":"))return this.error(Ye.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ge(this.clonePosition(),this.clonePosition()));this.bumpSpace();var p=this.tryParseDecimalInteger(Ye.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ye.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(p.err)return p;this.bumpSpace(),C=this.parseIdentifierIfPossible(),b=p.val}var T=this.tryParsePluralOrSelectOptions(t,a,r,C);if(T.err)return T;var h=this.tryParseArgumentClose(i);if(h.err)return h;var _=Ge(i,this.clonePosition());return a==="select"?{val:{type:xt.select,value:n,options:zP(T.val),location:_},err:null}:{val:{type:xt.plural,value:n,options:zP(T.val),offset:b,pluralType:a==="plural"?"cardinal":"ordinal",location:_},err:null}}default:return this.error(Ye.INVALID_ARGUMENT_TYPE,Ge(o,c))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Ye.EXPECT_ARGUMENT_CLOSING_BRACE,Ge(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,r=this.clonePosition();!this.isEOF();){var n=this.char();switch(n){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Ye.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ge(i,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,r){var n=[];try{n=N4(t)}catch{return this.error(Ye.INVALID_NUMBER_SKELETON,r)}return{val:{type:bc.number,tokens:n,location:r,parsedOptions:this.shouldParseSkeletons?$4(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,r,n,i){for(var s,o=!1,a=[],c=new Set,l=i.value,u=i.location;;){if(l.length===0){var p=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var d=this.tryParseDecimalInteger(Ye.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ye.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;u=Ge(p,this.clonePosition()),l=this.message.slice(p.offset,this.offset())}else break}if(c.has(l))return this.error(r==="select"?Ye.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Ye.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);l==="other"&&(o=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Ye.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Ye.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ge(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(t+1,r,n);if(h.err)return h;var v=this.tryParseArgumentClose(f);if(v.err)return v;a.push([l,{value:h.val,location:Ge(f,this.clonePosition())}]),c.add(l),this.bumpSpace(),s=this.parseIdentifierIfPossible(),l=s.value,u=s.location}return a.length===0?this.error(r==="select"?Ye.EXPECT_SELECT_ARGUMENT_SELECTOR:Ye.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ge(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(Ye.MISSING_OTHER_CLAUSE,Ge(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(t,r){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var s=!1,o=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)s=!0,o=o*10+(a-48),this.bump();else break}var c=Ge(i,this.clonePosition());return s?(o*=n,J4(o)?{val:o,err:null}:this.error(r,c)):this.error(t,c)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var r=jx(this.message,t);if(r===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return r},e.prototype.error=function(t,r){return{val:null,err:{kind:t,message:this.message,location:r}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(jP(this.message,t,this.offset())){for(var r=0;r<t.length;r++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var r=this.offset(),n=this.message.indexOf(t,r);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var r=this.offset();if(r===t)break;if(r>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&$x(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),r=this.offset(),n=this.message.charCodeAt(r+(t>=65536?2:1));return n??null},e}();function k0(e){return e>=97&&e<=122||e>=65&&e<=90}function rz(e){return k0(e)||e===47}function nz(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function $x(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function iz(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function I0(e){e.forEach(function(t){if(delete t.location,Ix(t)||Ax(t))for(var r in t.options)delete t.options[r].location,I0(t.options[r].value);else Rx(t)&&Ox(t.style)||(Tx(t)||kx(t))&&_0(t.style)?delete t.style.location:xx(t)&&I0(t.children)})}function sz(e,t){t===void 0&&(t={}),t=re({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new tz(e,t).parse();if(r.err){var n=SyntaxError(Ye[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return t!=null&&t.captureLocation||I0(r.val),r.val}function Li(e,t){var r=t&&t.cache?t.cache:pz,n=t&&t.serializer?t.serializer:uz,i=t&&t.strategy?t.strategy:az;return i(e,{cache:r,serializer:n})}function oz(e){return e==null||typeof e=="number"||typeof e=="boolean"}function Fx(e,t,r,n){var i=oz(n)?n:r(n),s=t.get(i);return typeof s>"u"&&(s=e.call(this,n),t.set(i,s)),s}function Bx(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),s=t.get(i);return typeof s>"u"&&(s=e.apply(this,n),t.set(i,s)),s}function Ow(e,t,r,n,i){return r.bind(t,e,n,i)}function az(e,t){var r=e.length===1?Fx:Bx;return Ow(e,this,r,t.cache.create(),t.serializer)}function cz(e,t){return Ow(e,this,Bx,t.cache.create(),t.serializer)}function lz(e,t){return Ow(e,this,Fx,t.cache.create(),t.serializer)}var uz=function(){return JSON.stringify(arguments)};function Dw(){this.cache=Object.create(null)}Dw.prototype.get=function(e){return this.cache[e]};Dw.prototype.set=function(e,t){this.cache[e]=t};var pz={create:function(){return new Dw}},ji={variadic:cz,monadic:lz},rs;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(rs||(rs={}));var _o=function(e){fi(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.code=n,s.originalMessage=i,s}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),FP=function(e){fi(t,e);function t(r,n,i,s){return e.call(this,'Invalid values for "'.concat(r,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),rs.INVALID_VALUE,s)||this}return t}(_o),dz=function(e){fi(t,e);function t(r,n,i){return e.call(this,'Value for "'.concat(r,'" must be of type ').concat(n),rs.INVALID_VALUE,i)||this}return t}(_o),fz=function(e){fi(t,e);function t(r,n){return e.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(n,'"'),rs.MISSING_VALUE,n)||this}return t}(_o),gn;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(gn||(gn={}));function hz(e){return e.length<2?e:e.reduce(function(t,r){var n=t[t.length-1];return!n||n.type!==gn.literal||r.type!==gn.literal?t.push(r):n.value+=r.value,t},[])}function Hx(e){return typeof e=="function"}function ch(e,t,r,n,i,s,o){if(e.length===1&&DP(e[0]))return[{type:gn.literal,value:e[0].value}];for(var a=[],c=0,l=e;c<l.length;c++){var u=l[c];if(DP(u)){a.push({type:gn.literal,value:u.value});continue}if(x4(u)){typeof s=="number"&&a.push({type:gn.literal,value:r.getNumberFormat(t).format(s)});continue}var p=u.value;if(!(i&&p in i))throw new fz(p,o);var d=i[p];if(A4(u)){(!d||typeof d=="string"||typeof d=="number")&&(d=typeof d=="string"||typeof d=="number"?String(d):""),a.push({type:typeof d=="string"?gn.literal:gn.object,value:d});continue}if(Tx(u)){var f=typeof u.style=="string"?n.date[u.style]:_0(u.style)?u.style.parsedOptions:void 0;a.push({type:gn.literal,value:r.getDateTimeFormat(t,f).format(d)});continue}if(kx(u)){var f=typeof u.style=="string"?n.time[u.style]:_0(u.style)?u.style.parsedOptions:n.time.medium;a.push({type:gn.literal,value:r.getDateTimeFormat(t,f).format(d)});continue}if(Rx(u)){var f=typeof u.style=="string"?n.number[u.style]:Ox(u.style)?u.style.parsedOptions:void 0;f&&f.scale&&(d=d*(f.scale||1)),a.push({type:gn.literal,value:r.getNumberFormat(t,f).format(d)});continue}if(xx(u)){var h=u.children,v=u.value,g=i[v];if(!Hx(g))throw new dz(v,"function",o);var m=ch(h,t,r,n,i,s),y=g(m.map(function(b){return b.value}));Array.isArray(y)||(y=[y]),a.push.apply(a,y.map(function(b){return{type:typeof b=="string"?gn.literal:gn.object,value:b}}))}if(Ix(u)){var S=u.options[d]||u.options.other;if(!S)throw new FP(u.value,d,Object.keys(u.options),o);a.push.apply(a,ch(S.value,t,r,n,i));continue}if(Ax(u)){var S=u.options["=".concat(d)];if(!S){if(!Intl.PluralRules)throw new _o(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,rs.MISSING_INTL_API,o);var C=r.getPluralRules(t,{type:u.pluralType}).select(d-(u.offset||0));S=u.options[C]||u.options.other}if(!S)throw new FP(u.value,d,Object.keys(u.options),o);a.push.apply(a,ch(S.value,t,r,n,i,d-(u.offset||0)));continue}}return hz(a)}function vz(e,t){return t?re(re(re({},e||{}),t||{}),Object.keys(e).reduce(function(r,n){return r[n]=re(re({},e[n]),t[n]||{}),r},{})):e}function mz(e,t){return t?Object.keys(e).reduce(function(r,n){return r[n]=vz(e[n],t[n]),r},re({},e)):e}function vy(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function gz(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Li(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.NumberFormat).bind.apply(t,si([void 0],r,!1)))},{cache:vy(e.number),strategy:ji.variadic}),getDateTimeFormat:Li(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.DateTimeFormat).bind.apply(t,si([void 0],r,!1)))},{cache:vy(e.dateTime),strategy:ji.variadic}),getPluralRules:Li(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.PluralRules).bind.apply(t,si([void 0],r,!1)))},{cache:vy(e.pluralRules),strategy:ji.variadic})}}var Ux=function(){function e(t,r,n,i){var s=this;if(r===void 0&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(c){var l=s.formatToParts(c);if(l.length===1)return l[0].value;var u=l.reduce(function(p,d){return!p.length||d.type!==gn.literal||typeof p[p.length-1]!="string"?p.push(d.value):p[p.length-1]+=d.value,p},[]);return u.length<=1?u[0]||"":u},this.formatToParts=function(c){return ch(s.ast,s.locales,s.formatters,s.formats,c,void 0,s.message)},this.resolvedOptions=function(){var c;return{locale:((c=s.resolvedLocale)===null||c===void 0?void 0:c.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var o=i||{};o.formatters;var a=wc(o,["formatters"]);this.ast=e.__parse(t,re(re({},a),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mz(e.formats,n),this.formatters=i&&i.formatters||gz(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(t);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=sz,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),fa;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})(fa||(fa={}));var Ad=function(e){fi(t,e);function t(r,n,i){var s=this,o=i?i instanceof Error?i:new Error(String(i)):void 0;return s=e.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(n,`
`).concat(o?`
`.concat(o.message,`
`).concat(o.stack):""))||this,s.code=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s,t),s}return t}(Error),yz=function(e){fi(t,e);function t(r,n){return e.call(this,fa.UNSUPPORTED_FORMATTER,r,n)||this}return t}(Ad),Sz=function(e){fi(t,e);function t(r,n){return e.call(this,fa.INVALID_CONFIG,r,n)||this}return t}(Ad),BP=function(e){fi(t,e);function t(r,n){return e.call(this,fa.MISSING_DATA,r,n)||this}return t}(Ad),hi=function(e){fi(t,e);function t(r,n,i){var s=e.call(this,fa.FORMAT_ERROR,"".concat(r,`
Locale: `).concat(n,`
`),i)||this;return s.locale=n,s}return t}(Ad),my=function(e){fi(t,e);function t(r,n,i,s){var o=e.call(this,"".concat(r,`
MessageID: `).concat(i==null?void 0:i.id,`
Default Message: `).concat(i==null?void 0:i.defaultMessage,`
Description: `).concat(i==null?void 0:i.description,`
`),n,s)||this;return o.descriptor=i,o.locale=n,o}return t}(hi),Cz=function(e){fi(t,e);function t(r,n){var i=e.call(this,fa.MISSING_TRANSLATION,'Missing message: "'.concat(r.id,'" for locale "').concat(n,'", using ').concat(r.defaultMessage?"default message (".concat(typeof r.defaultMessage=="string"?r.defaultMessage:r.defaultMessage.map(function(s){var o;return(o=s.value)!==null&&o!==void 0?o:JSON.stringify(s)}).join(),")"):"id"," as fallback."))||this;return i.descriptor=r,i}return t}(Ad);function Ea(e,t,r){return r===void 0&&(r={}),t.reduce(function(n,i){return i in e?n[i]=e[i]:i in r&&(n[i]=r[i]),n},{})}var wz=function(e){},bz=function(e){},qx={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:wz,onWarn:bz};function Wx(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function xo(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function Pz(e){e===void 0&&(e=Wx());var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,n=Intl.DisplayNames,i=Li(function(){for(var a,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return new((a=Intl.DateTimeFormat).bind.apply(a,si([void 0],c,!1)))},{cache:xo(e.dateTime),strategy:ji.variadic}),s=Li(function(){for(var a,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return new((a=Intl.NumberFormat).bind.apply(a,si([void 0],c,!1)))},{cache:xo(e.number),strategy:ji.variadic}),o=Li(function(){for(var a,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return new((a=Intl.PluralRules).bind.apply(a,si([void 0],c,!1)))},{cache:xo(e.pluralRules),strategy:ji.variadic});return{getDateTimeFormat:i,getNumberFormat:s,getMessageFormat:Li(function(a,c,l,u){return new Ux(a,c,l,re({formatters:{getNumberFormat:s,getDateTimeFormat:i,getPluralRules:o}},u||{}))},{cache:xo(e.message),strategy:ji.variadic}),getRelativeTimeFormat:Li(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new(t.bind.apply(t,si([void 0],a,!1)))},{cache:xo(e.relativeTime),strategy:ji.variadic}),getPluralRules:o,getListFormat:Li(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new(r.bind.apply(r,si([void 0],a,!1)))},{cache:xo(e.list),strategy:ji.variadic}),getDisplayNames:Li(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new(n.bind.apply(n,si([void 0],a,!1)))},{cache:xo(e.displayNames),strategy:ji.variadic})}}function Mw(e,t,r,n){var i=e&&e[t],s;if(i&&(s=i[r]),s)return s;n(new yz("No ".concat(t," format named: ").concat(r)))}function Tf(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=re({timeZone:t},e[n]),r},{})}function HP(e,t){var r=Object.keys(re(re({},e),t));return r.reduce(function(n,i){return n[i]=re(re({},e[i]||{}),t[i]||{}),n},{})}function UP(e,t){if(!t)return e;var r=Ux.formats;return re(re(re({},r),e),{date:HP(Tf(r.date,t),Tf(e.date||{},t)),time:HP(Tf(r.time,t),Tf(e.time||{},t))})}var A0=function(e,t,r,n,i){var s=e.locale,o=e.formats,a=e.messages,c=e.defaultLocale,l=e.defaultFormats,u=e.fallbackOnEmptyString,p=e.onError,d=e.timeZone,f=e.defaultRichTextElements;r===void 0&&(r={id:""});var h=r.id,v=r.defaultMessage;Ex(!!h,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var g=String(h),m=a&&Object.prototype.hasOwnProperty.call(a,g)&&a[g];if(Array.isArray(m)&&m.length===1&&m[0].type===xt.literal)return m[0].value;if(!n&&m&&typeof m=="string"&&!f)return m.replace(/'\{(.*?)\}'/gi,"{$1}");if(n=re(re({},f),n||{}),o=UP(o,d),l=UP(l,d),!m){if(u===!1&&m==="")return m;if((!v||s&&s.toLowerCase()!==c.toLowerCase())&&p(new Cz(r,s)),v)try{var y=t.getMessageFormat(v,c,l,i);return y.format(n)}catch(S){return p(new my('Error formatting default message for: "'.concat(g,'", rendering default message verbatim'),s,r,S)),typeof v=="string"?v:g}return g}try{var y=t.getMessageFormat(m,s,o,re({formatters:t},i||{}));return y.format(n)}catch(S){p(new my('Error formatting message: "'.concat(g,'", using ').concat(v?"default message":"id"," as fallback."),s,r,S))}if(v)try{var y=t.getMessageFormat(v,c,l,i);return y.format(n)}catch(S){p(new my('Error formatting the default message for: "'.concat(g,'", rendering message verbatim'),s,r,S))}return typeof m=="string"?m:typeof v=="string"?v:g},Vx=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function im(e,t,r,n){var i=e.locale,s=e.formats,o=e.onError,a=e.timeZone;n===void 0&&(n={});var c=n.format,l=re(re({},a&&{timeZone:a}),c&&Mw(s,t,c,o)),u=Ea(n,Vx,l);return t==="time"&&!u.hour&&!u.minute&&!u.second&&!u.timeStyle&&!u.dateStyle&&(u=re(re({},u),{hour:"numeric",minute:"numeric"})),r(i,u)}function _z(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return im(e,"date",t,o).format(a)}catch(c){e.onError(new hi("Error formatting date.",e.locale,c))}return String(a)}function Ez(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return im(e,"time",t,o).format(a)}catch(c){e.onError(new hi("Error formatting time.",e.locale,c))}return String(a)}function Rz(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=r[2],a=o===void 0?{}:o,c=e.timeZone,l=e.locale,u=e.onError,p=Ea(a,Vx,c?{timeZone:c}:{});try{return t(l,p).formatRange(i,s)}catch(d){u(new hi("Error formatting date time range.",e.locale,d))}return String(i)}function Tz(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return im(e,"date",t,o).formatToParts(a)}catch(c){e.onError(new hi("Error formatting date.",e.locale,c))}return[]}function kz(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return im(e,"time",t,o).formatToParts(a)}catch(c){e.onError(new hi("Error formatting time.",e.locale,c))}return[]}var Iz=["style","type","fallback","languageDisplay"];function Az(e,t,r,n){var i=e.locale,s=e.onError,o=Intl.DisplayNames;o||s(new _o(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,rs.MISSING_INTL_API));var a=Ea(n,Iz);try{return t(i,a).of(r)}catch(c){s(new hi("Error formatting display name.",i,c))}}var xz=["type","style"],qP=Date.now();function Oz(e){return"".concat(qP,"_").concat(e,"_").concat(qP)}function Dz(e,t,r,n){n===void 0&&(n={});var i=Yx(e,t,r,n).reduce(function(s,o){var a=o.value;return typeof a!="string"?s.push(a):typeof s[s.length-1]=="string"?s[s.length-1]+=a:s.push(a),s},[]);return i.length===1?i[0]:i.length===0?"":i}function Yx(e,t,r,n){var i=e.locale,s=e.onError;n===void 0&&(n={});var o=Intl.ListFormat;o||s(new _o(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,rs.MISSING_INTL_API));var a=Ea(n,xz);try{var c={},l=r.map(function(u,p){if(typeof u=="object"){var d=Oz(p);return c[d]=u,d}return String(u)});return t(i,a).formatToParts(l).map(function(u){return u.type==="literal"?u:re(re({},u),{value:c[u.value]||u.value})})}catch(u){s(new hi("Error formatting list.",i,u))}return r}var Mz=["type"];function Nz(e,t,r,n){var i=e.locale,s=e.onError;n===void 0&&(n={}),Intl.PluralRules||s(new _o(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,rs.MISSING_INTL_API));var o=Ea(n,Mz);try{return t(i,o).select(r)}catch(a){s(new hi("Error formatting plural.",i,a))}return"other"}var Lz=["numeric","style"];function jz(e,t,r){var n=e.locale,i=e.formats,s=e.onError;r===void 0&&(r={});var o=r.format,a=!!o&&Mw(i,"relative",o,s)||{},c=Ea(r,Lz,a);return t(n,c)}function zz(e,t,r,n,i){i===void 0&&(i={}),n||(n="second");var s=Intl.RelativeTimeFormat;s||e.onError(new _o(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,rs.MISSING_INTL_API));try{return jz(e,t,i).format(r,n)}catch(o){e.onError(new hi("Error formatting relative time.",e.locale,o))}return String(r)}var $z=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function Kx(e,t,r){var n=e.locale,i=e.formats,s=e.onError;r===void 0&&(r={});var o=r.format,a=o&&Mw(i,"number",o,s)||{},c=Ea(r,$z,a);return t(n,c)}function Fz(e,t,r,n){n===void 0&&(n={});try{return Kx(e,t,n).format(r)}catch(i){e.onError(new hi("Error formatting number.",e.locale,i))}return String(r)}function Bz(e,t,r,n){n===void 0&&(n={});try{return Kx(e,t,n).formatToParts(r)}catch(i){e.onError(new hi("Error formatting number.",e.locale,i))}return[]}function Hz(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function Uz(e){e.onWarn&&e.defaultRichTextElements&&Hz(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function qz(e,t){var r=Pz(t),n=re(re({},qx),e),i=n.locale,s=n.defaultLocale,o=n.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&o?o(new BP('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&o&&o(new BP('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(o&&o(new Sz('"locale" was not configured, using "'.concat(s,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),n.locale=n.defaultLocale||"en"),Uz(n),re(re({},n),{formatters:r,formatNumber:Fz.bind(null,n,r.getNumberFormat),formatNumberToParts:Bz.bind(null,n,r.getNumberFormat),formatRelativeTime:zz.bind(null,n,r.getRelativeTimeFormat),formatDate:_z.bind(null,n,r.getDateTimeFormat),formatDateToParts:Tz.bind(null,n,r.getDateTimeFormat),formatTime:Ez.bind(null,n,r.getDateTimeFormat),formatDateTimeRange:Rz.bind(null,n,r.getDateTimeFormat),formatTimeToParts:kz.bind(null,n,r.getDateTimeFormat),formatPlural:Nz.bind(null,n,r.getPluralRules),formatMessage:A0.bind(null,n,r),$t:A0.bind(null,n,r),formatList:Dz.bind(null,n,r.getListFormat),formatListToParts:Yx.bind(null,n,r.getListFormat),formatDisplayName:Az.bind(null,n,r.getDisplayNames)})}function Gx(e){Ex(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var Qx=re(re({},qx),{textComponent:P.Fragment});function Wz(e){return function(t){return e(P.Children.toArray(t))}}function x0(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),i=r.length;if(n.length!==i)return!1;for(var s=0;s<i;s++){var o=r[s];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Nw=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=P.createContext(null)):P.createContext(null);Nw.Consumer;var Vz=Nw.Provider,Yz=Vz,Kz=Nw;function xd(){var e=P.useContext(Kz);return Gx(e),e}var O0;(function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"})(O0||(O0={}));var D0;(function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"})(D0||(D0={}));function Jx(e){var t=function(r){var n=xd(),i=r.value,s=r.children,o=wc(r,["value","children"]),a=typeof i=="string"?new Date(i||0):i,c=e==="formatDate"?n.formatDateToParts(a,o):n.formatTimeToParts(a,o);return s(c)};return t.displayName=D0[e],t}function Od(e){var t=function(r){var n=xd(),i=r.value,s=r.children,o=wc(r,["value","children"]),a=n[e](i,o);if(typeof s=="function")return s(a);var c=n.textComponent||P.Fragment;return P.createElement(c,null,a)};return t.displayName=O0[e],t}function Xx(e){return e&&Object.keys(e).reduce(function(t,r){var n=e[r];return t[r]=Hx(n)?Wz(n):n,t},{})}var WP=function(e,t,r,n){for(var i=[],s=4;s<arguments.length;s++)i[s-4]=arguments[s];var o=Xx(n),a=A0.apply(void 0,si([e,t,r,o],i,!1));return Array.isArray(a)?P.Children.toArray(a):a},VP=function(e,t){var r=e.defaultRichTextElements,n=wc(e,["defaultRichTextElements"]),i=Xx(r),s=qz(re(re(re({},Qx),n),{defaultRichTextElements:i}),t),o={locale:s.locale,timeZone:s.timeZone,fallbackOnEmptyString:s.fallbackOnEmptyString,formats:s.formats,defaultLocale:s.defaultLocale,defaultFormats:s.defaultFormats,messages:s.messages,onError:s.onError,defaultRichTextElements:i};return re(re({},s),{formatMessage:WP.bind(null,o,s.formatters),$t:WP.bind(null,o,s.formatters)})};function gy(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var Gz=function(e){fi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cache=Wx(),r.state={cache:r.cache,intl:VP(gy(r.props),r.cache),prevConfig:gy(r.props)},r}return t.getDerivedStateFromProps=function(r,n){var i=n.prevConfig,s=n.cache,o=gy(r);return x0(i,o)?null:{intl:VP(o,s),prevConfig:o}},t.prototype.render=function(){return Gx(this.state.intl),P.createElement(Yz,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=Qx,t}(P.PureComponent);const Qz=Gz;function Jz(e,t){var r=e.values,n=wc(e,["values"]),i=t.values,s=wc(t,["values"]);return x0(i,r)&&x0(n,s)}function Zx(e){var t=xd(),r=t.formatMessage,n=t.textComponent,i=n===void 0?P.Fragment:n,s=e.id,o=e.description,a=e.defaultMessage,c=e.values,l=e.children,u=e.tagName,p=u===void 0?i:u,d=e.ignoreTag,f={id:s,description:o,defaultMessage:a},h=r(f,c,{ignoreTag:d});return typeof l=="function"?l(Array.isArray(h)?h:[h]):p?P.createElement(p,null,P.Children.toArray(h)):P.createElement(P.Fragment,null,h)}Zx.displayName="FormattedMessage";var eO=P.memo(Zx,Jz);eO.displayName="MemoizedFormattedMessage";const mt=eO;Od("formatDate");Od("formatTime");Od("formatNumber");Od("formatList");Od("formatDisplayName");Jx("formatDate");Jx("formatTime");const Xz=e=>w.jsxs("svg",{"aria-labelledby":"minimizeIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 30 30",...e,children:[w.jsx("title",{id:"minimizeIcon",children:w.jsx(mt,{id:"tww_icon_compress_title"})}),w.jsx("path",{d:"M 24.980469 3.9902344 A 1.0001 1.0001 0 0 0 24.292969 4.2929688 L 18 10.585938 L 18 6 A 1.0001 1.0001 0 0 0 16.984375 4.9863281 A 1.0001 1.0001 0 0 0 16 6 L 16 12.847656 A 1.0001 1.0001 0 0 0 17.152344 14 L 24 14 A 1.0001 1.0001 0 1 0 24 12 L 19.414062 12 L 25.707031 5.7070312 A 1.0001 1.0001 0 0 0 24.980469 3.9902344 z M 12.980469 15.990234 A 1.0001 1.0001 0 0 0 12.869141 16 L 6 16 A 1.0001 1.0001 0 1 0 6 18 L 10.585938 18 L 4.2929688 24.292969 A 1.0001 1.0001 0 1 0 5.7070312 25.707031 L 12 19.414062 L 12 24 A 1.0001 1.0001 0 1 0 14 24 L 14 17.126953 A 1.0001 1.0001 0 0 0 12.980469 15.990234 z"})]}),Zz=e=>w.jsxs("svg",{"aria-labelledby":"speakerIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 50 50",...e,children:[w.jsx("title",{id:"speakerIcon",children:w.jsx(mt,{id:"tww_icon_speaker_title"})}),w.jsx("path",{d:"M 24.1875 3 C 23.277344 3 22.332031 3.4375 21.5625 4.21875 L 9.9375 15.8125 C 9.296875 16.378906 9 17.476563 9 18.25 L 9 31.75 C 9 32.515625 9.316406 33.605469 9.90625 34.125 L 21.5 45.6875 C 22.554688 46.757813 23.527344 47 24.15625 47 C 25.824219 47 27 45.476563 27 43.3125 L 27 6.3125 C 27 4.035156 25.539063 3 24.1875 3 Z M 38.28125 6.8125 C 37.84375 6.886719 37.507813 7.242188 37.457031 7.683594 C 37.410156 8.125 37.652344 8.546875 38.0625 8.71875 C 44.011719 11.71875 48.0625 17.871094 48.0625 25 C 48.0625 32.128906 44.011719 38.28125 38.0625 41.28125 C 37.695313 41.40625 37.4375 41.734375 37.394531 42.117188 C 37.351563 42.503906 37.535156 42.878906 37.867188 43.082031 C 38.195313 43.28125 38.613281 43.273438 38.9375 43.0625 C 45.539063 39.730469 50.0625 32.894531 50.0625 25 C 50.0625 17.105469 45.539063 10.269531 38.9375 6.9375 C 38.765625 6.839844 38.570313 6.796875 38.375 6.8125 C 38.34375 6.8125 38.3125 6.8125 38.28125 6.8125 Z M 34.71875 12.125 C 34.273438 12.179688 33.917969 12.527344 33.855469 12.972656 C 33.789063 13.414063 34.027344 13.847656 34.4375 14.03125 C 38.339844 16.136719 41 20.246094 41 25 C 41 29.738281 38.351563 33.859375 34.46875 35.96875 C 33.984375 36.234375 33.808594 36.84375 34.078125 37.328125 C 34.34375 37.8125 34.953125 37.988281 35.4375 37.71875 C 39.945313 35.269531 43 30.484375 43 25 C 43 19.5 39.9375 14.695313 35.40625 12.25 C 35.226563 12.148438 35.019531 12.105469 34.8125 12.125 C 34.78125 12.125 34.75 12.125 34.71875 12.125 Z M 3 15.96875 C 1.324219 15.96875 -0.03125 17.324219 -0.03125 19 L -0.03125 31 C -0.03125 32.675781 1.324219 34.03125 3 34.03125 L 7.46875 34.03125 C 7.140625 33.246094 7 32.410156 7 31.75 L 7 18.25 C 7 17.59375 7.164063 16.761719 7.5 15.96875 Z M 30.53125 18.40625 C 30.046875 18.464844 29.679688 18.863281 29.65625 19.351563 C 29.632813 19.835938 29.960938 20.269531 30.4375 20.375 C 32.484375 20.910156 34 22.777344 34 25 C 34 27.222656 32.484375 29.089844 30.4375 29.625 C 29.902344 29.761719 29.582031 30.308594 29.71875 30.84375 C 29.855469 31.378906 30.402344 31.699219 30.9375 31.5625 C 33.851563 30.800781 36 28.136719 36 25 C 36 21.863281 33.847656 19.199219 30.9375 18.4375 C 30.804688 18.398438 30.667969 18.390625 30.53125 18.40625 Z"})]}),e$=e=>w.jsxs("svg",{"aria-labelledby":"darkThemeIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 50 50",...e,children:[w.jsx("title",{id:"darkThemeIcon",children:w.jsx(mt,{id:"tww_icon_toggle_theme_title"})}),w.jsx("path",{d:"M 19.984375 1.9863281 A 1.0001 1.0001 0 0 0 19 3 L 19 8 A 1.0001 1.0001 0 1 0 21 8 L 21 3 A 1.0001 1.0001 0 0 0 19.984375 1.9863281 z M 45.980469 2.9902344 A 1.0001 1.0001 0 0 0 45.292969 3.2929688 L 3.2929688 45.292969 A 1.0001 1.0001 0 1 0 4.7070312 46.707031 L 46.707031 4.7070312 A 1.0001 1.0001 0 0 0 45.980469 2.9902344 z M 7.96875 6.96875 A 1.0001 1.0001 0 0 0 7.2714844 8.6855469 L 10.808594 12.222656 A 1.0001 1.0001 0 1 0 12.222656 10.808594 L 8.6855469 7.2714844 A 1.0001 1.0001 0 0 0 7.96875 6.96875 z M 32.001953 6.96875 A 1.0001 1.0001 0 0 0 31.314453 7.2714844 L 27.777344 10.808594 A 1.0001 1.0001 0 1 0 29.191406 12.222656 L 32.728516 8.6855469 A 1.0001 1.0001 0 0 0 32.001953 6.96875 z M 20 11.007812 C 17.695375 11.007812 15.391719 11.885625 13.636719 13.640625 C 11.936719 15.339625 11 17.601859 11 20.005859 C 11 22.408859 11.936719 24.668188 13.636719 26.367188 C 14.141719 26.872188 14.694344 27.293391 15.277344 27.650391 L 27.648438 15.279297 C 27.287437 14.692297 26.862281 14.139625 26.363281 13.640625 C 24.608781 11.885625 22.304625 11.007812 20 11.007812 z M 44.984375 15.986328 A 1.0001 1.0001 0 0 0 44 17 L 44 18 L 43 18 A 1.0001 1.0001 0 1 0 43 20 L 44 20 L 44 21 A 1.0001 1.0001 0 1 0 46 21 L 46 20 L 47 20 A 1.0001 1.0001 0 1 0 47 18 L 46 18 L 46 17 A 1.0001 1.0001 0 0 0 44.984375 15.986328 z M 3 19 A 1.0001 1.0001 0 1 0 3 21 L 8 21 A 1.0001 1.0001 0 1 0 8 19 L 3 19 z M 37.568359 25 C 36.383219 24.992031 35.145797 25.193828 33.873047 25.673828 C 30.196047 27.060828 27.490453 30.411359 27.064453 34.318359 C 26.330453 41.044359 31.955641 46.669547 38.681641 45.935547 C 42.588641 45.509547 45.939172 42.803953 47.326172 39.126953 C 47.966172 37.429953 48.110781 35.795672 47.925781 34.263672 C 47.892781 33.991672 47.524156 33.942406 47.410156 34.191406 C 46.322156 36.582406 43.832328 38.199469 40.986328 37.980469 C 37.855328 37.739469 35.259531 35.143672 35.019531 32.013672 C 34.800531 29.167672 36.417594 26.678844 38.808594 25.589844 C 39.057594 25.475844 39.008328 25.107219 38.736328 25.074219 C 38.353328 25.027719 37.963406 25.002656 37.568359 25 z M 11.496094 27.474609 A 1.0001 1.0001 0 0 0 10.808594 27.777344 L 7.2714844 31.314453 A 1.0001 1.0001 0 1 0 8.6855469 32.728516 L 12.222656 29.191406 A 1.0001 1.0001 0 0 0 11.496094 27.474609 z M 21.984375 41.986328 A 1.0001 1.0001 0 0 0 21 43 L 21 44 L 20 44 A 1.0001 1.0001 0 1 0 20 46 L 21 46 L 21 47 A 1.0001 1.0001 0 1 0 23 47 L 23 46 L 24 46 A 1.0001 1.0001 0 1 0 24 44 L 23 44 L 23 43 A 1.0001 1.0001 0 0 0 21.984375 41.986328 z"})]}),t$=e=>w.jsxs("svg",{"aria-labelledby":"maximizeIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 30 30",...e,children:[w.jsx("title",{id:"maximizeIcon",children:w.jsx(mt,{id:"tww_icon_maximize_title"})}),w.jsx("path",{d:"M 6 4 C 4.895 4 4 4.895 4 6 L 4 24 C 4 25.105 4.895 26 6 26 L 24 26 C 25.105 26 26 25.105 26 24 L 26 6 C 26 4.895 25.105 4 24 4 L 6 4 z M 9 8 L 21 8 C 21.552 8 22 8.447 22 9 L 22 21 C 22 21.553 21.552 22 21 22 L 9 22 C 8.448 22 8 21.553 8 21 L 8 9 C 8 8.447 8.448 8 9 8 z M 10 12 L 10 20 L 20 20 L 20 12 L 10 12 z"})]}),sm=e=>w.jsxs("svg",{"aria-labelledby":"closeIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 30 30",...e,children:[w.jsx("title",{id:"closeIcon",children:w.jsx(mt,{id:"tww_icon_close_title"})}),w.jsx("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})]}),r$=e=>w.jsxs("svg",{"aria-labelledby":"microphoneIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 30 30",...e,children:[w.jsx("title",{id:"microphoneIcon",children:w.jsx(mt,{id:"tww_icon_microphone_title"})}),w.jsx("path",{d:"M 15 2 C 13.343 2 12 3.343 12 5 L 12 17 C 12 18.657 13.343 20 15 20 C 16.657 20 18 18.657 18 17 L 18 5 C 18 3.343 16.657 2 15 2 z M 8.984375 11.986328 A 1.0001 1.0001 0 0 0 8 13 L 8 17 C 8 20.513997 10.617426 23.430774 14 23.919922 L 14 26 L 11 26 A 1.0001 1.0001 0 1 0 11 28 L 14.832031 28 A 1.0001 1.0001 0 0 0 15.158203 28 L 19 28 A 1.0001 1.0001 0 1 0 19 26 L 16 26 L 16 23.919922 C 19.382574 23.430774 22 20.513997 22 17 L 22 13 A 1.0001 1.0001 0 1 0 20 13 L 20 17 C 20 19.735431 17.833516 21.933922 15.113281 21.994141 A 1.0001 1.0001 0 0 0 14.984375 21.986328 A 1.0001 1.0001 0 0 0 14.875 21.994141 C 12.16029 21.92784 10 19.731486 10 17 L 10 13 A 1.0001 1.0001 0 0 0 8.984375 11.986328 z"})]}),n$=e=>w.jsxs("svg",{"aria-labelledby":"sendIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 30 30",...e,children:[w.jsx("title",{id:"sendIcon",children:w.jsx(mt,{id:"tww_icon_send_title"})}),w.jsx("path",{d:"M 26 3 A 1 1 0 0 0 25.716797 3.0429688 A 1 1 0 0 0 25.636719 3.0683594 L 3.6503906 10.060547 L 3.6503906 10.064453 A 1 1 0 0 0 3 11 A 1 1 0 0 0 3.4824219 11.853516 L 10.164062 17.154297 L 23.373047 6.6269531 L 12.845703 19.835938 L 18.142578 26.513672 A 1 1 0 0 0 19 27 A 1 1 0 0 0 19.935547 26.349609 L 19.939453 26.349609 L 26.9375 4.34375 A 1 1 0 0 0 26.957031 4.2832031 A 1 1 0 0 0 27 4 A 1 1 0 0 0 26 3 z"})]}),tO=e=>w.jsxs("svg",{"aria-labelledby":"documentIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50",...e,children:[w.jsx("title",{id:"documentIcon",children:w.jsx(mt,{id:"tww_icon_document_title"})}),w.jsx("path",{d:"M 7 2 L 7 48 L 43 48 L 43 14.59375 L 42.71875 14.28125 L 30.71875 2.28125 L 30.40625 2 Z M 9 4 L 29 4 L 29 16 L 41 16 L 41 46 L 9 46 Z M 31 5.4375 L 39.5625 14 L 31 14 Z M 15 22 L 15 24 L 35 24 L 35 22 Z M 15 28 L 15 30 L 31 30 L 31 28 Z M 15 34 L 15 36 L 35 36 L 35 34 Z"})]}),i$=e=>w.jsxs("svg",{"aria-labelledby":"chatIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",...e,children:[w.jsx("title",{id:"chatIcon",children:w.jsx(mt,{id:"tww_icon_chat_title"})}),w.jsx("path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",className:"border-gray-200"})]}),s$=e=>w.jsxs("svg",{"aria-label":"chevronRight",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 30 30",...e,children:[w.jsx("title",{id:"chevronRight",children:w.jsx(mt,{id:"tww_icon_chevron_right_title"})}),w.jsx("path",{d:"M1,0 L-0.4,1.4 L4.2,6 L-0.4,10.6 L1,12 L7,6 L1,0 Z",fill:"currentColor"})]}),o$=e=>w.jsxs("svg",{"aria-label":"chevronLeft",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 30 30",...e,children:[w.jsx("title",{id:"chevronLeft",children:w.jsx(mt,{id:"tww_icon_chevron_left_title"})}),w.jsx("path",{d:"M7.4,1.4 L6,0 L0,6 L6,12 L7.4,10.6 L2.8,6 L7.4,1.4 Z",fill:"currentColor"})]}),a$=e=>w.jsxs("svg",{"aria-labelledby":"attachIcon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 50 50",...e,children:[w.jsx("title",{id:"attachIcon",children:w.jsx(mt,{id:"tww_icon_attach_title"})}),w.jsx("path",{d:"M 38.1875 6.71875 C 36.261719 6.8125 34.34375 7.648438 32.84375 9.09375 C 32.8125 9.125 32.78125 9.15625 32.75 9.1875 C 32.746094 9.191406 32.722656 9.183594 32.71875 9.1875 C 32.675781 9.238281 32.632813 9.289063 32.59375 9.34375 C 32.550781 9.394531 32.507813 9.445313 32.46875 9.5 L 13.65625 28.40625 C 13.613281 28.457031 13.570313 28.507813 13.53125 28.5625 C 11.761719 30.480469 11.796875 33.515625 13.65625 35.375 C 15.5625 37.285156 18.75 37.285156 20.65625 35.375 C 20.75 35.28125 20.832031 35.175781 20.90625 35.0625 C 20.996094 34.996094 21.078125 34.921875 21.15625 34.84375 L 35.25 20.9375 C 35.878906 20.34375 36.054688 19.410156 35.683594 18.628906 C 35.3125 17.847656 34.484375 17.390625 33.625 17.5 C 33.171875 17.558594 32.753906 17.765625 32.4375 18.09375 L 18.34375 32 C 18.285156 32.070313 18.234375 32.140625 18.1875 32.21875 C 18.167969 32.230469 18.144531 32.238281 18.125 32.25 C 18.113281 32.269531 18.105469 32.292969 18.09375 32.3125 C 17.992188 32.375 17.898438 32.449219 17.8125 32.53125 C 17.433594 32.910156 16.878906 32.914063 16.5 32.53125 C 16.121094 32.152344 16.117188 31.601563 16.5 31.21875 L 35.59375 12.03125 C 35.636719 11.980469 35.679688 11.929688 35.71875 11.875 C 37.363281 10.359375 39.558594 10.371094 40.78125 11.59375 C 40.867188 11.675781 40.960938 11.75 41.0625 11.8125 C 41.074219 11.824219 41.082031 11.832031 41.09375 11.84375 C 41.152344 11.921875 41.214844 11.996094 41.28125 12.0625 C 42.425781 13.207031 42.234375 15.621094 40.625 17.3125 C 40.59375 17.34375 40.5625 17.375 40.53125 17.40625 L 19.84375 38.625 C 19.777344 38.671875 19.714844 38.726563 19.65625 38.78125 C 16.972656 41.464844 12.351563 41.789063 9.78125 39.21875 C 7.261719 36.699219 7.523438 32.140625 10.09375 29.4375 C 10.136719 29.398438 10.179688 29.355469 10.21875 29.3125 L 27.25 12.46875 C 27.878906 11.875 28.054688 10.941406 27.683594 10.160156 C 27.3125 9.378906 26.484375 8.921875 25.625 9.03125 C 25.171875 9.089844 24.753906 9.296875 24.4375 9.625 L 7.5 26.375 C 7.46875 26.40625 7.4375 26.4375 7.40625 26.46875 C 7.363281 26.519531 7.320313 26.570313 7.28125 26.625 C 3.234375 30.820313 2.683594 37.78125 6.9375 42.03125 C 11.160156 46.253906 18.082031 45.804688 22.28125 41.8125 C 22.324219 41.78125 22.367188 41.75 22.40625 41.71875 C 22.417969 41.707031 22.425781 41.699219 22.4375 41.6875 C 22.457031 41.667969 22.480469 41.644531 22.5 41.625 C 22.5 41.613281 22.5 41.605469 22.5 41.59375 L 22.625 41.46875 C 22.667969 41.417969 22.710938 41.367188 22.75 41.3125 L 43.40625 20.21875 C 43.554688 20.082031 43.679688 19.925781 43.78125 19.75 C 46.417969 16.734375 46.992188 12.148438 44.09375 9.25 C 44.042969 9.207031 43.992188 9.164063 43.9375 9.125 C 43.847656 8.988281 43.742188 8.863281 43.625 8.75 C 42.148438 7.273438 40.160156 6.621094 38.1875 6.71875 Z"})," "]}),c$=e=>w.jsxs("svg",{"aria-labelledby":"menu",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width||"24",height:e.height||"24",viewBox:"0 0 50 50",...e,children:[w.jsx("title",{id:"menu",children:w.jsx(mt,{id:"tww_icon_menu_title"})}),w.jsx("path",{d:"M 5 8 A 2.0002 2.0002 0 1 0 5 12 L 45 12 A 2.0002 2.0002 0 1 0 45 8 L 5 8 z M 5 23 A 2.0002 2.0002 0 1 0 5 27 L 45 27 A 2.0002 2.0002 0 1 0 45 23 L 5 23 z M 5 38 A 2.0002 2.0002 0 1 0 5 42 L 45 42 A 2.0002 2.0002 0 1 0 45 38 L 5 38 z"})]});function l$({onClick:e}){return w.jsx("button",{className:"tww-chat-button",type:"button",onClick:e,name:"chatButton","data-testid":"chat-button",children:w.jsx(i$,{className:"tww-chat-button-svg",viewBox:"0 0 24 24",width:"30",height:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}var u$=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Dd(e,t){var r=p$(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function p$(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),i=u$.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var d$=[".DS_Store","Thumbs.db"];function f$(e){return Fc(this,void 0,void 0,function(){return Bc(this,function(t){return Yh(e)&&h$(e.dataTransfer)?[2,y$(e.dataTransfer,e.type)]:v$(e)?[2,m$(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,g$(e)]:[2,[]]})})}function h$(e){return Yh(e)}function v$(e){return Yh(e)&&Yh(e.target)}function Yh(e){return typeof e=="object"&&e!==null}function m$(e){return M0(e.target.files).map(function(t){return Dd(t)})}function g$(e){return Fc(this,void 0,void 0,function(){var t;return Bc(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return Dd(n)})]}})})}function y$(e,t){return Fc(this,void 0,void 0,function(){var r,n;return Bc(this,function(i){switch(i.label){case 0:return e.items?(r=M0(e.items).filter(function(s){return s.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(S$))]):[3,2];case 1:return n=i.sent(),[2,YP(rO(n))];case 2:return[2,YP(M0(e.files).map(function(s){return Dd(s)}))]}})})}function YP(e){return e.filter(function(t){return d$.indexOf(t.name)===-1})}function M0(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function S$(e){if(typeof e.webkitGetAsEntry!="function")return KP(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?nO(t):KP(e)}function rO(e){return e.reduce(function(t,r){return si(si([],OP(t),!1),OP(Array.isArray(r)?rO(r):[r]),!1)},[])}function KP(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Dd(t);return Promise.resolve(r)}function C$(e){return Fc(this,void 0,void 0,function(){return Bc(this,function(t){return[2,e.isDirectory?nO(e):w$(e)]})})}function nO(e){var t=e.createReader();return new Promise(function(r,n){var i=[];function s(){var o=this;t.readEntries(function(a){return Fc(o,void 0,void 0,function(){var c,l,u;return Bc(this,function(p){switch(p.label){case 0:if(a.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return c=p.sent(),r(c),[3,4];case 3:return l=p.sent(),n(l),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(C$)),i.push(u),s(),p.label=6;case 6:return[2]}})})},function(a){n(a)})}s()})}function w$(e){return Fc(this,void 0,void 0,function(){return Bc(this,function(t){return[2,new Promise(function(r,n){e.file(function(i){var s=Dd(i,e.fullPath);r(s)},function(i){n(i)})})]})})}var b$=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return r.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function GP(e){return E$(e)||_$(e)||sO(e)||P$()}function P$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E$(e){if(Array.isArray(e))return N0(e)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){iO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qp(e,t){return k$(e)||T$(e,t)||sO(e,t)||R$()}function R$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sO(e,t){if(e){if(typeof e=="string")return N0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N0(e,t)}}function N0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function k$(e){if(Array.isArray(e))return e}var I$="file-invalid-type",A$="file-too-large",x$="file-too-small",O$="too-many-files",D$=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:I$,message:"File type must be ".concat(r)}},XP=function(t){return{code:A$,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ZP=function(t){return{code:x$,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},M$={code:O$,message:"Too many files"};function oO(e,t){var r=e.type==="application/x-moz-file"||b$(e,t);return[r,r?null:D$(t)]}function aO(e,t,r){if(Xo(e.size))if(Xo(t)&&Xo(r)){if(e.size>r)return[!1,XP(r)];if(e.size<t)return[!1,ZP(t)]}else{if(Xo(t)&&e.size<t)return[!1,ZP(t)];if(Xo(r)&&e.size>r)return[!1,XP(r)]}return[!0,null]}function Xo(e){return e!=null}function N$(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,s=e.multiple,o=e.maxFiles,a=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(c){var l=oO(c,r),u=Qp(l,1),p=u[0],d=aO(c,n,i),f=Qp(d,1),h=f[0],v=a?a(c):null;return p&&h&&!v})}function Kh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function kf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function e_(e){e.preventDefault()}function L$(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function j$(e){return e.indexOf("Edge/")!==-1}function z$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return L$(e)||j$(e)}function Mi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return t.some(function(a){return!Kh(n)&&a&&a.apply(void 0,[n].concat(s)),Kh(n)})}}function $$(){return"showOpenFilePicker"in window}function F$(e){if(Xo(e)){var t=Object.entries(e).filter(function(r){var n=Qp(r,2),i=n[0],s=n[1],o=!0;return cO(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(lO))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(r,n){var i=Qp(n,2),s=i[0],o=i[1];return JP(JP({},r),{},iO({},s,o))},{});return[{description:"Files",accept:t}]}return e}function B$(e){if(Xo(e))return Object.entries(e).reduce(function(t,r){var n=Qp(r,2),i=n[0],s=n[1];return[].concat(GP(t),[i],GP(s))},[]).filter(function(t){return cO(t)||lO(t)}).join(",")}function H$(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function U$(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function cO(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function lO(e){return/^.*\.[\w]+$/.test(e)}var q$=["children"],W$=["open"],V$=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Y$=["refKey","onChange","onClick"];function K$(e){return J$(e)||Q$(e)||uO(e)||G$()}function G$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J$(e){if(Array.isArray(e))return L0(e)}function yy(e,t){return e6(e)||Z$(e,t)||uO(e,t)||X$()}function X$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uO(e,t){if(e){if(typeof e=="string")return L0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L0(e,t)}}function L0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function e6(e){if(Array.isArray(e))return e}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gh(e,t){if(e==null)return{};var r=t6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t6(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Lw=P.forwardRef(function(e,t){var r=e.children,n=Gh(e,q$),i=jw(n),s=i.open,o=Gh(i,W$);return P.useImperativeHandle(t,function(){return{open:s}},[s]),x.createElement(P.Fragment,null,r(Ut(Ut({},o),{},{open:s})))});Lw.displayName="Dropzone";var pO={disabled:!1,getFilesFromEvent:f$,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Lw.defaultProps=pO;Lw.propTypes={children:bt.func,accept:bt.objectOf(bt.arrayOf(bt.string)),multiple:bt.bool,preventDropOnDocument:bt.bool,noClick:bt.bool,noKeyboard:bt.bool,noDrag:bt.bool,noDragEventsBubbling:bt.bool,minSize:bt.number,maxSize:bt.number,maxFiles:bt.number,disabled:bt.bool,getFilesFromEvent:bt.func,onFileDialogCancel:bt.func,onFileDialogOpen:bt.func,useFsAccessApi:bt.bool,autoFocus:bt.bool,onDragEnter:bt.func,onDragLeave:bt.func,onDragOver:bt.func,onDrop:bt.func,onDropAccepted:bt.func,onDropRejected:bt.func,onError:bt.func,validator:bt.func};var z0={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function jw(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ut(Ut({},pO),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,a=t.multiple,c=t.maxFiles,l=t.onDragEnter,u=t.onDragLeave,p=t.onDragOver,d=t.onDrop,f=t.onDropAccepted,h=t.onDropRejected,v=t.onFileDialogCancel,g=t.onFileDialogOpen,m=t.useFsAccessApi,y=t.autoFocus,S=t.preventDropOnDocument,C=t.noClick,b=t.noKeyboard,T=t.noDrag,_=t.noDragEventsBubbling,R=t.onError,O=t.validator,D=P.useMemo(function(){return B$(r)},[r]),$=P.useMemo(function(){return F$(r)},[r]),W=P.useMemo(function(){return typeof g=="function"?g:r_},[g]),J=P.useMemo(function(){return typeof v=="function"?v:r_},[v]),q=P.useRef(null),Y=P.useRef(null),se=P.useReducer(r6,z0),ee=yy(se,2),I=ee[0],k=ee[1],G=I.isFocused,te=I.isFileDialogActive,M=P.useRef(typeof window<"u"&&window.isSecureContext&&m&&$$()),oe=function(){!M.current&&te&&setTimeout(function(){if(Y.current){var V=Y.current.files;V.length||(k({type:"closeDialog"}),J())}},300)};P.useEffect(function(){return window.addEventListener("focus",oe,!1),function(){window.removeEventListener("focus",oe,!1)}},[Y,te,J,M]);var de=P.useRef([]),ne=function(V){q.current&&q.current.contains(V.target)||(V.preventDefault(),de.current=[])};P.useEffect(function(){return S&&(document.addEventListener("dragover",e_,!1),document.addEventListener("drop",ne,!1)),function(){S&&(document.removeEventListener("dragover",e_),document.removeEventListener("drop",ne))}},[q,S]),P.useEffect(function(){return!n&&y&&q.current&&q.current.focus(),function(){}},[q,y,n]);var Re=P.useCallback(function(z){R?R(z):console.error(z)},[R]),Qe=P.useCallback(function(z){z.preventDefault(),z.persist(),Nn(z),de.current=[].concat(K$(de.current),[z.target]),kf(z)&&Promise.resolve(i(z)).then(function(V){if(!(Kh(z)&&!_)){var Se=V.length,Je=Se>0&&N$({files:V,accept:D,minSize:o,maxSize:s,multiple:a,maxFiles:c,validator:O}),Pe=Se>0&&!Je;k({isDragAccept:Je,isDragReject:Pe,isDragActive:!0,type:"setDraggedFiles"}),l&&l(z)}}).catch(function(V){return Re(V)})},[i,l,Re,_,D,o,s,a,c,O]),rt=P.useCallback(function(z){z.preventDefault(),z.persist(),Nn(z);var V=kf(z);if(V&&z.dataTransfer)try{z.dataTransfer.dropEffect="copy"}catch{}return V&&p&&p(z),!1},[p,_]),fe=P.useCallback(function(z){z.preventDefault(),z.persist(),Nn(z);var V=de.current.filter(function(Je){return q.current&&q.current.contains(Je)}),Se=V.indexOf(z.target);Se!==-1&&V.splice(Se,1),de.current=V,!(V.length>0)&&(k({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),kf(z)&&u&&u(z))},[q,u,_]),ur=P.useCallback(function(z,V){var Se=[],Je=[];z.forEach(function(Pe){var We=oO(Pe,D),Nt=yy(We,2),St=Nt[0],je=Nt[1],Ce=aO(Pe,o,s),me=yy(Ce,2),at=me[0],Ve=me[1],we=O?O(Pe):null;if(St&&at&&!we)Se.push(Pe);else{var tt=[je,Ve];we&&(tt=tt.concat(we)),Je.push({file:Pe,errors:tt.filter(function(Oe){return Oe})})}}),(!a&&Se.length>1||a&&c>=1&&Se.length>c)&&(Se.forEach(function(Pe){Je.push({file:Pe,errors:[M$]})}),Se.splice(0)),k({acceptedFiles:Se,fileRejections:Je,type:"setFiles"}),d&&d(Se,Je,V),Je.length>0&&h&&h(Je,V),Se.length>0&&f&&f(Se,V)},[k,a,D,o,s,c,d,f,h,O]),It=P.useCallback(function(z){z.preventDefault(),z.persist(),Nn(z),de.current=[],kf(z)&&Promise.resolve(i(z)).then(function(V){Kh(z)&&!_||ur(V,z)}).catch(function(V){return Re(V)}),k({type:"reset"})},[i,ur,Re,_]),yt=P.useCallback(function(){if(M.current){k({type:"openDialog"}),W();var z={multiple:a,types:$};window.showOpenFilePicker(z).then(function(V){return i(V)}).then(function(V){ur(V,null),k({type:"closeDialog"})}).catch(function(V){H$(V)?(J(V),k({type:"closeDialog"})):U$(V)?(M.current=!1,Y.current?(Y.current.value=null,Y.current.click()):Re(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Re(V)});return}Y.current&&(k({type:"openDialog"}),W(),Y.current.value=null,Y.current.click())},[k,W,J,m,ur,Re,$,a]),Mt=P.useCallback(function(z){!q.current||!q.current.isEqualNode(z.target)||(z.key===" "||z.key==="Enter"||z.keyCode===32||z.keyCode===13)&&(z.preventDefault(),yt())},[q,yt]),De=P.useCallback(function(){k({type:"focus"})},[]),Be=P.useCallback(function(){k({type:"blur"})},[]),Te=P.useCallback(function(){C||(z$()?setTimeout(yt,0):yt())},[C,yt]),be=function(V){return n?null:V},Me=function(V){return b?null:be(V)},Ae=function(V){return T?null:be(V)},Nn=function(V){_&&V.stopPropagation()},Rn=P.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=z.refKey,Se=V===void 0?"ref":V,Je=z.role,Pe=z.onKeyDown,We=z.onFocus,Nt=z.onBlur,St=z.onClick,je=z.onDragEnter,Ce=z.onDragOver,me=z.onDragLeave,at=z.onDrop,Ve=Gh(z,V$);return Ut(Ut(j0({onKeyDown:Me(Mi(Pe,Mt)),onFocus:Me(Mi(We,De)),onBlur:Me(Mi(Nt,Be)),onClick:be(Mi(St,Te)),onDragEnter:Ae(Mi(je,Qe)),onDragOver:Ae(Mi(Ce,rt)),onDragLeave:Ae(Mi(me,fe)),onDrop:Ae(Mi(at,It)),role:typeof Je=="string"&&Je!==""?Je:"presentation"},Se,q),!n&&!b?{tabIndex:0}:{}),Ve)}},[q,Mt,De,Be,Te,Qe,rt,fe,It,b,T,n]),Cr=P.useCallback(function(z){z.stopPropagation()},[]),et=P.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=z.refKey,Se=V===void 0?"ref":V,Je=z.onChange,Pe=z.onClick,We=Gh(z,Y$),Nt=j0({accept:D,multiple:a,type:"file",style:{display:"none"},onChange:be(Mi(Je,It)),onClick:be(Mi(Pe,Cr)),tabIndex:-1},Se,Y);return Ut(Ut({},Nt),We)}},[Y,r,a,It,n]);return Ut(Ut({},I),{},{isFocused:G&&!n,getRootProps:Rn,getInputProps:et,rootRef:q,inputRef:Y,open:be(yt)})}function r6(e,t){switch(t.type){case"focus":return Ut(Ut({},e),{},{isFocused:!0});case"blur":return Ut(Ut({},e),{},{isFocused:!1});case"openDialog":return Ut(Ut({},z0),{},{isFileDialogActive:!0});case"closeDialog":return Ut(Ut({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ut(Ut({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Ut(Ut({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Ut({},z0);default:return e}}function r_(){}function n6({uploadAcceptFileTypes:e,maxFiles:t,maxSize:r,onDragLeave:n}){const[i,s]=P.useState([]),o=P.useCallback(f=>{if(t&&i.length+f.length>t){alert(`You can only upload up to ${t} files`);return}s(h=>h.concat(f.map(v=>Object.assign(v,{preview:URL.createObjectURL(v)})))),n==null||n()},[i.length,t,n]),a=f=>{s(h=>h.filter(v=>v.preview!==f.preview))},{getRootProps:c,getInputProps:l,isDragActive:u,open:p,isDragReject:d}=jw({noClick:!0,accept:e?_x(e):void 0,maxFiles:t,maxSize:r,onDrop:o,onDragLeave:n,onDropRejected:()=>{alert("Invalid file type, size, or number of files")}});return{files:i,setFiles:s,isDragActive:u,isDragReject:d,getRootProps:c,getInputProps:l,open:p,handleDelete:a}}const i6=(e,t)=>{P.useEffect(()=>{e&&t&&new Audio(t).play().catch(n=>console.error("Error playing sound:",n))},[e,t])};function bi(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function po(e){return!!e&&!!e[$t]}function Rs(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===f6}(e)||Array.isArray(e)||!!e[l_]||!!(!((t=e.constructor)===null||t===void 0)&&t[l_])||zw(e)||$w(e))}function ha(e,t,r){r===void 0&&(r=!1),Hc(e)===0?(r?Object.keys:cc)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Hc(e){var t=e[$t];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:zw(e)?2:$w(e)?3:0}function ac(e,t){return Hc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function s6(e,t){return Hc(e)===2?e.get(t):e[t]}function dO(e,t,r){var n=Hc(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fO(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function zw(e){return p6&&e instanceof Map}function $w(e){return d6&&e instanceof Set}function Go(e){return e.o||e.t}function Fw(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=vO(e);delete t[$t];for(var r=cc(t),n=0;n<r.length;n++){var i=r[n],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Bw(e,t){return t===void 0&&(t=!1),Hw(e)||po(e)||!Rs(e)||(Hc(e)>1&&(e.set=e.add=e.clear=e.delete=o6),Object.freeze(e),t&&ha(e,function(r,n){return Bw(n,!0)},!0)),e}function o6(){bi(2)}function Hw(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ji(e){var t=H0[e];return t||bi(18,e),t}function a6(e,t){H0[e]||(H0[e]=t)}function $0(){return Jp}function Sy(e,t){t&&(Ji("Patches"),e.u=[],e.s=[],e.v=t)}function Qh(e){F0(e),e.p.forEach(c6),e.p=null}function F0(e){e===Jp&&(Jp=e.l)}function n_(e){return Jp={p:[],l:Jp,h:e,m:!0,_:0}}function c6(e){var t=e[$t];t.i===0||t.i===1?t.j():t.g=!0}function Cy(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Ji("ES5").S(t,e,n),n?(r[$t].P&&(Qh(t),bi(4)),Rs(e)&&(e=Jh(t,e),t.l||Xh(t,e)),t.u&&Ji("Patches").M(r[$t].t,e,t.u,t.s)):e=Jh(t,r,[]),Qh(t),t.u&&t.v(t.u,t.s),e!==hO?e:void 0}function Jh(e,t,r){if(Hw(t))return t;var n=t[$t];if(!n)return ha(t,function(a,c){return i_(e,n,t,a,c,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Xh(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Fw(n.k):n.o,s=i,o=!1;n.i===3&&(s=new Set(i),i.clear(),o=!0),ha(s,function(a,c){return i_(e,n,i,a,c,r,o)}),Xh(e,i,!1),r&&e.u&&Ji("Patches").N(n,r,e.u,e.s)}return n.o}function i_(e,t,r,n,i,s,o){if(po(i)){var a=Jh(e,i,s&&t&&t.i!==3&&!ac(t.R,n)?s.concat(n):void 0);if(dO(r,n,a),!po(a))return;e.m=!1}else o&&r.add(i);if(Rs(i)&&!Hw(i)){if(!e.h.D&&e._<1)return;Jh(e,i),t&&t.A.l||Xh(e,i)}}function Xh(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Bw(t,r)}function wy(e,t){var r=e[$t];return(r?Go(r):e)[t]}function s_(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function qs(e){e.P||(e.P=!0,e.l&&qs(e.l))}function by(e){e.o||(e.o=Fw(e.t))}function B0(e,t,r){var n=zw(t)?Ji("MapSet").F(t,r):$w(t)?Ji("MapSet").T(t,r):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:$0(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=a,l=Xp;o&&(c=[a],l=pp);var u=Proxy.revocable(c,l),p=u.revoke,d=u.proxy;return a.k=d,a.j=p,d}(t,r):Ji("ES5").J(t,r);return(r?r.A:$0()).p.push(n),n}function l6(e){return po(e)||bi(22,e),function t(r){if(!Rs(r))return r;var n,i=r[$t],s=Hc(r);if(i){if(!i.P&&(i.i<4||!Ji("ES5").K(i)))return i.t;i.I=!0,n=o_(r,s),i.I=!1}else n=o_(r,s);return ha(n,function(o,a){i&&s6(i.t,o)===a||dO(n,o,t(a))}),s===3?new Set(n):n}(e)}function o_(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Fw(e)}function u6(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var c=this[$t];return Xp.get(c,s)},set:function(c){var l=this[$t];Xp.set(l,s,c)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][$t];if(!a.P)switch(a.i){case 5:n(a)&&qs(a);break;case 4:r(a)&&qs(a)}}}function r(s){for(var o=s.t,a=s.k,c=cc(a),l=c.length-1;l>=0;l--){var u=c[l];if(u!==$t){var p=o[u];if(p===void 0&&!ac(o,u))return!0;var d=a[u],f=d&&d[$t];if(f?f.t!==p:!fO(d,p))return!0}}var h=!!o[$t];return c.length!==cc(o).length+(h?0:1)}function n(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};a6("ES5",{J:function(s,o){var a=Array.isArray(s),c=function(u,p){if(u){for(var d=Array(p.length),f=0;f<p.length;f++)Object.defineProperty(d,""+f,e(f,!0));return d}var h=vO(p);delete h[$t];for(var v=cc(h),g=0;g<v.length;g++){var m=v[g];h[m]=e(m,u||!!h[m].enumerable)}return Object.create(Object.getPrototypeOf(p),h)}(a,s),l={i:a?5:4,A:o?o.A:$0(),P:!1,I:!1,R:{},l:o,t:s,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,$t,{value:l,writable:!0}),c},S:function(s,o,a){a?po(o)&&o[$t].A===s&&t(s.p):(s.u&&function c(l){if(l&&typeof l=="object"){var u=l[$t];if(u){var p=u.t,d=u.k,f=u.R,h=u.i;if(h===4)ha(d,function(S){S!==$t&&(p[S]!==void 0||ac(p,S)?f[S]||c(d[S]):(f[S]=!0,qs(u)))}),ha(p,function(S){d[S]!==void 0||ac(d,S)||(f[S]=!1,qs(u))});else if(h===5){if(n(u)&&(qs(u),f.length=!0),d.length<p.length)for(var v=d.length;v<p.length;v++)f[v]=!1;else for(var g=p.length;g<d.length;g++)f[g]=!0;for(var m=Math.min(d.length,p.length),y=0;y<m;y++)d.hasOwnProperty(y)||(f[y]=!0),f[y]===void 0&&c(d[y])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?r(s):n(s)}})}var a_,Jp,Uw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",p6=typeof Map<"u",d6=typeof Set<"u",c_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",hO=Uw?Symbol.for("immer-nothing"):((a_={})["immer-nothing"]=!0,a_),l_=Uw?Symbol.for("immer-draftable"):"__$immer_draftable",$t=Uw?Symbol.for("immer-state"):"__$immer_state",f6=""+Object.prototype.constructor,cc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,vO=Object.getOwnPropertyDescriptors||function(e){var t={};return cc(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},H0={},Xp={get:function(e,t){if(t===$t)return e;var r=Go(e);if(!ac(r,t))return function(i,s,o){var a,c=s_(s,o);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Rs(n)?n:n===wy(e.t,t)?(by(e),e.o[t]=B0(e.A.h,n,e)):n},has:function(e,t){return t in Go(e)},ownKeys:function(e){return Reflect.ownKeys(Go(e))},set:function(e,t,r){var n=s_(Go(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=wy(Go(e),t),s=i==null?void 0:i[$t];if(s&&s.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(fO(r,i)&&(r!==void 0||ac(e.t,t)))return!0;by(e),qs(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return wy(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,by(e),qs(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Go(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){bi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){bi(12)}},pp={};ha(Xp,function(e,t){pp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),pp.deleteProperty=function(e,t){return pp.set.call(this,e,t,void 0)},pp.set=function(e,t,r){return Xp.set.call(this,e[0],t,r,e[0])};var h6=function(){function e(r){var n=this;this.O=c_,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var c=n;return function(v){var g=this;v===void 0&&(v=a);for(var m=arguments.length,y=Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];return c.produce(v,function(C){var b;return(b=s).call.apply(b,[g,C].concat(y))})}}var l;if(typeof s!="function"&&bi(6),o!==void 0&&typeof o!="function"&&bi(7),Rs(i)){var u=n_(n),p=B0(n,i,void 0),d=!0;try{l=s(p),d=!1}finally{d?Qh(u):F0(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return Sy(u,o),Cy(v,u)},function(v){throw Qh(u),v}):(Sy(u,o),Cy(l,u))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===hO&&(l=void 0),n.D&&Bw(l,!0),o){var f=[],h=[];Ji("Patches").M(i,l,f,h),o(f,h)}return l}bi(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var u=arguments.length,p=Array(u>1?u-1:0),d=1;d<u;d++)p[d-1]=arguments[d];return n.produceWithPatches(l,function(f){return i.apply(void 0,[f].concat(p))})};var o,a,c=n.produce(i,s,function(l,u){o=l,a=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,a]}):[c,o,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Rs(r)||bi(8),po(r)&&(r=l6(r));var n=n_(this),i=B0(this,r,void 0);return i[$t].C=!0,F0(n),i},t.finishDraft=function(r,n){var i=r&&r[$t],s=i.A;return Sy(s,n),Cy(void 0,s)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!c_&&bi(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var s=n[i];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}i>-1&&(n=n.slice(i+1));var o=Ji("Patches").$;return po(r)?o(r,n):this.produce(r,function(a){return o(a,n)})},e}(),Yn=new h6,mO=Yn.produce;Yn.produceWithPatches.bind(Yn);Yn.setAutoFreeze.bind(Yn);Yn.setUseProxies.bind(Yn);Yn.applyPatches.bind(Yn);Yn.createDraft.bind(Yn);Yn.finishDraft.bind(Yn);function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function v6(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m6(e){var t=v6(e,"string");return Zp(t)=="symbol"?t:t+""}function g6(e,t,r){return t=m6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){g6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function an(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var d_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Py=function(){return Math.random().toString(36).substring(7).split("").join(".")},Zh={INIT:"@@redux/INIT"+Py(),REPLACE:"@@redux/REPLACE"+Py(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Py()}};function y6(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function gO(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(an(1));return r(gO)(e,t)}if(typeof e!="function")throw new Error(an(2));var i=e,s=t,o=[],a=o,c=!1;function l(){a===o&&(a=o.slice())}function u(){if(c)throw new Error(an(3));return s}function p(v){if(typeof v!="function")throw new Error(an(4));if(c)throw new Error(an(5));var g=!0;return l(),a.push(v),function(){if(g){if(c)throw new Error(an(6));g=!1,l();var y=a.indexOf(v);a.splice(y,1),o=null}}}function d(v){if(!y6(v))throw new Error(an(7));if(typeof v.type>"u")throw new Error(an(8));if(c)throw new Error(an(9));try{c=!0,s=i(s,v)}finally{c=!1}for(var g=o=a,m=0;m<g.length;m++){var y=g[m];y()}return v}function f(v){if(typeof v!="function")throw new Error(an(10));i=v,d({type:Zh.REPLACE})}function h(){var v,g=p;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(an(11));function S(){y.next&&y.next(u())}S();var C=g(S);return{unsubscribe:C}}},v[d_]=function(){return this},v}return d({type:Zh.INIT}),n={dispatch:d,subscribe:p,getState:u,replaceReducer:f},n[d_]=h,n}function S6(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Zh.INIT});if(typeof n>"u")throw new Error(an(12));if(typeof r(void 0,{type:Zh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function yO(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var s=Object.keys(r),o;try{S6(r)}catch(a){o=a}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,p={},d=0;d<s.length;d++){var f=s[d],h=r[f],v=c[f],g=h(v,l);if(typeof g>"u")throw l&&l.type,new Error(an(14));p[f]=g,u=u||g!==v}return u=u||s.length!==Object.keys(c).length,u?p:c}}function ev(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function C6(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),s=function(){throw new Error(an(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(c){return c(o)});return s=ev.apply(void 0,a)(i.dispatch),p_(p_({},i),{},{dispatch:s})}}}var tv="NOT_FOUND";function w6(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:tv},put:function(n,i){t={key:n,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function b6(e,t){var r=[];function n(a){var c=r.findIndex(function(u){return t(a,u.key)});if(c>-1){var l=r[c];return c>0&&(r.splice(c,1),r.unshift(l)),l.value}return tv}function i(a,c){n(a)===tv&&(r.unshift({key:a,value:c}),r.length>e&&r.pop())}function s(){return r}function o(){r=[]}return{get:n,put:i,getEntries:s,clear:o}}var P6=function(t,r){return t===r};function _6(e){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;for(var i=r.length,s=0;s<i;s++)if(!e(r[s],n[s]))return!1;return!0}}function E6(e,t){var r=typeof t=="object"?t:{equalityCheck:t},n=r.equalityCheck,i=n===void 0?P6:n,s=r.maxSize,o=s===void 0?1:s,a=r.resultEqualityCheck,c=_6(i),l=o===1?w6(c):b6(o,c);function u(){var p=l.get(arguments);if(p===tv){if(p=e.apply(null,arguments),a){var d=l.getEntries(),f=d.find(function(h){return a(h.value,p)});f&&(p=f.value)}l.put(arguments,p)}return p}return u.clearCache=function(){return l.clear()},u}function R6(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var r=t.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function T6(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];var l=0,u,p={memoizeOptions:void 0},d=a.pop();if(typeof d=="object"&&(p=d,d=a.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var f=p,h=f.memoizeOptions,v=h===void 0?r:h,g=Array.isArray(v)?v:[v],m=R6(a),y=e.apply(void 0,[function(){return l++,d.apply(null,arguments)}].concat(g)),S=e(function(){for(var b=[],T=m.length,_=0;_<T;_++)b.push(m[_].apply(null,arguments));return u=y.apply(null,b),u});return Object.assign(S,{resultFunc:d,memoizedResultFunc:y,dependencies:m,lastResult:function(){return u},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),S};return i}var k6=T6(E6);function SO(e){var t=function(n){var i=n.dispatch,s=n.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var CO=SO();CO.withExtraArgument=SO;const f_=CO;var wO=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I6=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Pc=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},A6=Object.defineProperty,x6=Object.defineProperties,O6=Object.getOwnPropertyDescriptors,h_=Object.getOwnPropertySymbols,D6=Object.prototype.hasOwnProperty,M6=Object.prototype.propertyIsEnumerable,v_=function(e,t,r){return t in e?A6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},no=function(e,t){for(var r in t||(t={}))D6.call(t,r)&&v_(e,r,t[r]);if(h_)for(var n=0,i=h_(t);n<i.length;n++){var r=i[n];M6.call(t,r)&&v_(e,r,t[r])}return e},_y=function(e,t){return x6(e,O6(t))},N6=function(e,t,r){return new Promise(function(n,i){var s=function(c){try{a(r.next(c))}catch(l){i(l)}},o=function(c){try{a(r.throw(c))}catch(l){i(l)}},a=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(s,o)};a((r=r.apply(e,t)).next())})},L6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ev:ev.apply(null,arguments)};function j6(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function io(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var s=t.apply(void 0,n);if(!s)throw new Error("prepareAction did not return an object");return no(no({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var z6=function(e){wO(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Pc([void 0],r[0].concat(this)))):new(t.bind.apply(t,Pc([void 0],r.concat(this))))},t}(Array),$6=function(e){wO(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Pc([void 0],r[0].concat(this)))):new(t.bind.apply(t,Pc([void 0],r.concat(this))))},t}(Array);function U0(e){return Rs(e)?mO(e,function(){}):e}function F6(e){return typeof e=="boolean"}function B6(){return function(t){return H6(t)}}function H6(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new z6;return r&&(F6(r)?n.push(f_):n.push(f_.withExtraArgument(r.extraArgument))),n}var U6=!0;function q6(e){var t=B6(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,s=r.middleware,o=s===void 0?t():s,a=r.devTools,c=a===void 0?!0:a,l=r.preloadedState,u=l===void 0?void 0:l,p=r.enhancers,d=p===void 0?void 0:p,f;if(typeof i=="function")f=i;else if(j6(i))f=yO(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var h=o;typeof h=="function"&&(h=h(t));var v=C6.apply(void 0,h),g=ev;c&&(g=L6(no({trace:!U6},typeof c=="object"&&c)));var m=new $6(v),y=m;Array.isArray(d)?y=Pc([v],d):typeof d=="function"&&(y=d(m));var S=g.apply(void 0,y);return gO(f,u,S)}function bO(e){var t={},r=[],n,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return n=s,i}};return e(i),[t,r,n]}function W6(e){return typeof e=="function"}function V6(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?bO(t):[t,r,n],s=i[0],o=i[1],a=i[2],c;if(W6(e))c=function(){return U0(e())};else{var l=U0(e);c=function(){return l}}function u(p,d){p===void 0&&(p=c());var f=Pc([s[d.type]],o.filter(function(h){var v=h.matcher;return v(d)}).map(function(h){var v=h.reducer;return v}));return f.filter(function(h){return!!h}).length===0&&(f=[a]),f.reduce(function(h,v){if(v)if(po(h)){var g=h,m=v(g,d);return m===void 0?h:m}else{if(Rs(h))return mO(h,function(y){return v(y,d)});var m=v(h,d);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return h},p)}return u.getInitialState=c,u}function Y6(e,t){return e+"/"+t}function K6(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:U0(e.initialState),n=e.reducers||{},i=Object.keys(n),s={},o={},a={};i.forEach(function(u){var p=n[u],d=Y6(t,u),f,h;"reducer"in p?(f=p.reducer,h=p.prepare):f=p,s[u]=f,o[d]=f,a[u]=h?io(d,h):io(d)});function c(){var u=typeof e.extraReducers=="function"?bO(e.extraReducers):[e.extraReducers],p=u[0],d=p===void 0?{}:p,f=u[1],h=f===void 0?[]:f,v=u[2],g=v===void 0?void 0:v,m=no(no({},d),o);return V6(r,function(y){for(var S in m)y.addCase(S,m[S]);for(var C=0,b=h;C<b.length;C++){var T=b[C];y.addMatcher(T.matcher,T.reducer)}g&&y.addDefaultCase(g)})}var l;return{name:t,reducer:function(u,p){return l||(l=c()),l(u,p)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var G6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Q6=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=G6[Math.random()*64|0];return t},J6=["name","message","stack","code"],Ey=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),m_=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),X6=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=J6;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},PO=function(){function e(t,r,n){var i=io(t+"/fulfilled",function(l,u,p,d){return{payload:l,meta:_y(no({},d||{}),{arg:p,requestId:u,requestStatus:"fulfilled"})}}),s=io(t+"/pending",function(l,u,p){return{payload:void 0,meta:_y(no({},p||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=io(t+"/rejected",function(l,u,p,d,f){return{payload:d,error:(n&&n.serializeError||X6)(l||"Rejected"),meta:_y(no({},f||{}),{arg:p,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,p,d){var f=n!=null&&n.idGenerator?n.idGenerator(l):Q6(),h=new a,v;function g(y){v=y,h.abort()}var m=function(){return N6(this,null,function(){var y,S,C,b,T,_,R;return I6(this,function(O){switch(O.label){case 0:return O.trys.push([0,4,,5]),b=(y=n==null?void 0:n.condition)==null?void 0:y.call(n,l,{getState:p,extra:d}),eF(b)?[4,b]:[3,2];case 1:b=O.sent(),O.label=2;case 2:if(b===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(D,$){return h.signal.addEventListener("abort",function(){return $({name:"AbortError",message:v||"Aborted"})})}),u(s(f,l,(S=n==null?void 0:n.getPendingMeta)==null?void 0:S.call(n,{requestId:f,arg:l},{getState:p,extra:d}))),[4,Promise.race([T,Promise.resolve(r(l,{dispatch:u,getState:p,extra:d,requestId:f,signal:h.signal,abort:g,rejectWithValue:function(D,$){return new Ey(D,$)},fulfillWithValue:function(D,$){return new m_(D,$)}})).then(function(D){if(D instanceof Ey)throw D;return D instanceof m_?i(D.payload,f,l,D.meta):i(D,f,l)})])];case 3:return C=O.sent(),[3,5];case 4:return _=O.sent(),C=_ instanceof Ey?o(null,f,l,_.payload,_.meta):o(_,f,l),[3,5];case 5:return R=n&&!n.dispatchConditionRejection&&o.match(C)&&C.meta.condition,R||u(C),[2,C]}})})}();return Object.assign(m,{abort:g,requestId:f,arg:l,unwrap:function(){return m.then(Z6)}})}}return Object.assign(c,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function Z6(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function eF(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var qw="listenerMiddleware";io(qw+"/add");io(qw+"/removeAll");io(qw+"/remove");var g_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);u6();const _O=e=>e.chat.chat,Md=k6([e=>e.chat.settings],e=>({azureSpeechApiKey:e.azureSpeechApiKey,azureSpeechApiRegion:e.azureSpeechApiRegion,azureSubscriptionOnly:e.azureSubscriptionOnly})),tF=e=>e.chat.xGatewaySession,EO=e=>e.chat.sessionId,rF=e=>e.chat.streamEventConnected,RO=e=>{const t=e.chat.chat;return t[t.length-1]},nF=(e,t)=>{const r=e.chat.chat.find(n=>n.eventId===t);return r?r.output.parameters.files:[]},Ww=e=>e.chat.isLoading,iF=e=>e.chat.settings.title,sF=e=>e.chat.settings.botName,oF=e=>e.chat.settings.userName,aF=e=>e.chat.settings.botImage,cF=e=>e.chat.settings.userImage,lF=e=>e.chat.settings.fullscreenDefault,uF=e=>e.chat.settings.fullscreenAlways,pF=e=>e.chat.settings.engineUrl,dF=e=>e.chat.settings.ttsActive,fF=e=>e.chat.settings.asrActive,hF=e=>e.chat.settings.titleAnimationActive,vF=e=>e.chat.settings.newMessageSound,TO=e=>e.chat.settings.locale,mF=e=>e.chat.settings.voice,gF=e=>e.chat.settings.allowAttach,kO=e=>e.chat.settings.uploadAcceptFileTypes,IO=e=>e.chat.settings.uploadMaxFileSize,AO=e=>e.chat.settings.uploadMaxTotalFiles,yF=(e,t)=>{var n,i,s,o;const r=e.chat.chat.find(a=>a.eventId===t);return(i=(n=r==null?void 0:r.output)==null?void 0:n.parameters)!=null&&i.isUploadCanceled?(o=(s=r==null?void 0:r.output)==null?void 0:s.parameters)==null?void 0:o.isUploadCanceled:!1},SF=e=>e.chat.settings.sseEnabled,CF=e=>e.chat.settings.sendEmptyInput,wF=e=>e.chat.settings.isDevEnvironment,Eo=(e,t)=>{var r;return(r=e.chat.chat)==null?void 0:r.find(n=>n.eventId===t)},bF=e=>e.chat.newBotMessage,PF=e=>e.chat.settings.showMenu,xO=e=>e.chat.settings.customTypeMessages,_F=e=>e.chat.settings.allowMultipleUserInputs,EF=e=>e.chat.activeCommunicationLayer,RF=e=>e.chat.settings.captureChat,TF=e=>e.chat.settings.partialResponseInterval,Vw="engine",kF="client",IF=({sessionIdFromState:e,sessionIdFromPayload:t})=>!e&&t||e&&t&&e!==t?t:e;function AF(e){return(e.length?e[e.length-1].sessionId:null)||localStorage.getItem("sessionId")||null}async function xF(e,t){const r=e.getReader();let n;for(;!(n=await r.read()).done;)t(n.value)}function OF(e){let t,r,n,i=!1;return function(o){t===void 0?(t=o,r=0,n=-1):t=MF(t,o);const a=t.length;let c=0;for(;r<a;){i&&(t[r]===10&&(c=++r),i=!1);let l=-1;for(;r<a&&l===-1;++r)switch(t[r]){case 58:n===-1&&(n=r-c);break;case 13:i=!0;case 10:l=r;break}if(l===-1)break;e(t.subarray(c,l),n),c=r,n=-1}c===a?t=void 0:c!==0&&(t=t.subarray(c),r-=c)}}function DF(e,t,r){let n=y_();const i=new TextDecoder;return function(o,a){if(o.length===0)r==null||r(n),n=y_();else if(a>0){const c=i.decode(o.subarray(0,a)),l=a+(o[a+1]===32?2:1),u=i.decode(o.subarray(l));switch(c){case"data":n.data=n.data?n.data+`
`+u:u;break;case"event":n.event=u;break;case"id":e(n.id=u);break;case"retry":const p=parseInt(u,10);isNaN(p)||t(n.retry=p);break}}}}function MF(e,t){const r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function y_(){return{data:"",event:"",id:"",retry:void 0}}var NF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const q0="text/event-stream",LF=1e3,S_="last-event-id";function jF(e,t){var{signal:r,headers:n,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:c,fetch:l}=t,u=NF(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((p,d)=>{const f=Object.assign({},n);f.accept||(f.accept=q0);let h;function v(){h.abort(),document.hidden||b()}c||document.addEventListener("visibilitychange",v);let g=LF,m=0;function y(){document.removeEventListener("visibilitychange",v),window.clearTimeout(m),h.abort()}r==null||r.addEventListener("abort",()=>{y(),p()});const S=l??window.fetch,C=i??zF;async function b(){var T;h=new AbortController;try{const _=await S(e,Object.assign(Object.assign({},u),{headers:f,signal:h.signal}));await C(_),await xF(_.body,OF(DF(R=>{R?f[S_]=R:delete f[S_]},R=>{g=R},s))),o==null||o(),y(),p()}catch(_){if(!h.signal.aborted)try{const R=(T=a==null?void 0:a(_))!==null&&T!==void 0?T:g;window.clearTimeout(m),m=window.setTimeout(b,R)}catch(R){y(),d(R)}}}b()})}function zF(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(q0)))throw new Error(`Expected content-type to be ${q0}, Actual: ${t}`)}var zr=[];for(var Ry=0;Ry<256;++Ry)zr.push((Ry+256).toString(16).slice(1));function $F(e,t=0){return(zr[e[t+0]]+zr[e[t+1]]+zr[e[t+2]]+zr[e[t+3]]+"-"+zr[e[t+4]]+zr[e[t+5]]+"-"+zr[e[t+6]]+zr[e[t+7]]+"-"+zr[e[t+8]]+zr[e[t+9]]+"-"+zr[e[t+10]]+zr[e[t+11]]+zr[e[t+12]]+zr[e[t+13]]+zr[e[t+14]]+zr[e[t+15]]).toLowerCase()}var If,FF=new Uint8Array(16);function BF(){if(!If&&(If=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!If))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return If(FF)}var HF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const C_={randomUUID:HF};function va(e,t,r){if(C_.randomUUID&&!t&&!e)return C_.randomUUID();e=e||{};var n=e.random||(e.rng||BF)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return $F(n)}var UF={BASE_URL:"./",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const rv=()=>{var r;const{VITE_ORIGIN_URL:e,VITE_ORIGIN_PORT:t}=UF;return e&&t?`${e}:${t}`:(r=document==null?void 0:document.location)==null?void 0:r.origin},qF=e=>typeof e=="object"?{viewtype:"tieapi",channel:"teneo-webchat",clientOrigin:rv(),...e}:{viewtype:"tieapi",channel:"teneo-webchat",clientOrigin:rv(),userinput:e},OO=(e,t,r="")=>t?`${e}${r};jsessionid=${t}`:`${e}${r};j`,Yw=async({body:e,sessionId:t,xGatewaySession:r,fullUrl:n},i)=>{try{const s={Accept:"application/json;charset=UTF-8","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Origin:rv(),Cookie:`JSESSIONID=${t}`};r&&(s["X-Teneo-Session"]=`JSESSIONID=${t}; ${r}`);const o=new URLSearchParams(e).toString(),a=await fetch(n,{method:"POST",body:`viewtype=tieapi&clientOrigin=${rv()}&channel=teneo-webchat&${o}`,credentials:"include",headers:s});if(!a.ok)throw new Error("Network response was not ok");const c=a.headers.get("x-gateway-session");return c&&(localStorage.setItem("xGatewaySession",c),i(jO(c))),await a.json()}catch(s){throw console.error("There was a problem with the fetch operation:",s),s}},Kw=({body:e,sessionId:t,xGatewaySession:r,baseUrl:n,endpoint:i})=>{const s=OO(n,t,i);return{body:e,sessionId:t,xGatewaySession:r,fullUrl:s}},WF={$id:"https://json-schema.teneo.ai/twc-schemas/messages",type:"object",properties:{type:{type:"string",enum:["image","youtubevideo","vimeovideo","filevideo","audio","buttons","quickreply","clickablelist","linkbuttons","table","card","carousel","combo","rating","text","system","modal","form","linkpreview","markdown","upload"]}},required:["type"],allOf:[{if:{properties:{type:{type:"string",const:"image"}}},then:{$ref:"#/$defs/message-image"}},{if:{properties:{type:{type:"string",enum:["youtubevideo","vimeovideo","filevideo"]}}},then:{$ref:"#/$defs/message-video"}},{if:{properties:{type:{type:"string",const:"audio"}}},then:{$ref:"#/$defs/message-audio"}},{if:{properties:{type:{type:"string",const:"buttons"}}},then:{$ref:"#/$defs/message-buttons"}},{if:{properties:{type:{type:"string",const:"quickreply"}}},then:{$ref:"#/$defs/message-quick-replies"}},{if:{properties:{type:{type:"string",const:"clickablelist"}}},then:{$ref:"#/$defs/message-clickable-list"}},{if:{properties:{type:{type:"string",const:"linkbuttons"}}},then:{$ref:"#/$defs/message-link-buttons"}},{if:{properties:{type:{type:"string",const:"table"}}},then:{$ref:"#/$defs/message-table"}},{if:{properties:{type:{type:"string",const:"card"}}},then:{$ref:"#/$defs/message-card"}},{if:{properties:{type:{type:"string",const:"carousel"}}},then:{$ref:"#/$defs/message-carousel"}},{if:{properties:{type:{type:"string",const:"combo"}}},then:{$ref:"#/$defs/message-combo"}},{if:{properties:{type:{type:"string",const:"rating"}}},then:{$ref:"#/$defs/message-rating"}},{if:{properties:{type:{type:"string",const:"text"}}},then:{$ref:"#/$defs/message-text"}},{if:{properties:{type:{type:"string",const:"system"}}},then:{$ref:"#/$defs/message-system"}},{if:{properties:{type:{type:"string",const:"modal"}}},then:{$ref:"#/$defs/message-modal"}},{if:{properties:{type:{type:"string",const:"linkpreview"}}},then:{$ref:"#/$defs/message-link-preview"}},{if:{properties:{type:{type:"string",const:"markdown"}}},then:{$ref:"#/$defs/message-markdown"}},{if:{properties:{type:{type:"string",const:"upload"}}},then:{$ref:"#/$defs/message-upload"}}],$defs:{"message-image":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Image",description:"Teneo Web Chat - Image message JSON format",type:"object",properties:{type:{type:"string",const:"image"},image_url:{type:"string"},thumbnail_url:{type:"string"},alt:{type:"string"}},required:["type"],anyOf:[{required:["image_url"]},{required:["thumbnail_url"]}],additionalProperties:!1},"message-video":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Video",description:"Teneo Web Chat - Video message JSON format",type:"object",properties:{type:{type:"string",enum:["youtubevideo","vimeovideo","filevideo"]},video_url:{type:"string"}},required:["type","video_url"],additionalProperties:!1},"message-audio":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Audio",description:"Teneo Web Chat - Audio message JSON format",type:"object",properties:{type:{type:"string",const:"audio"},audio_url:{type:"string"}},required:["type","audio_url"],additionalProperties:!1},"message-buttons":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Buttons",description:"Teneo Web Chat - Buttons message JSON format",type:"object",properties:{type:{type:"string",const:"buttons"},title:{type:"string"},button_items:{type:"array",items:{$ref:"#/$defs/style-postback"},minItems:1}},required:["type","button_items"],additionalProperties:!1},"message-quick-replies":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Quick Replies",description:"Teneo Web Chat - Quick Replies message JSON format",type:"object",properties:{type:{type:"string",const:"quickreply"},title:{type:"string"},quick_replies:{type:"array",items:{$ref:"#/$defs/style-postback"},minItems:1}},required:["type","quick_replies"],additionalProperties:!1},"message-clickable-list":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Clickable List",description:"Teneo Web Chat - Clickable List message JSON format",type:"object",properties:{type:{type:"string",const:"clickablelist"},title:{type:"string"},list_items:{type:"array",items:{$ref:"#/$defs/postback"},minItems:1}},required:["type","list_items"],additionalProperties:!1},"message-link-buttons":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Link Buttons",description:"Teneo Web Chat - Link Buttons message JSON format",type:"object",properties:{type:{type:"string",const:"linkbuttons"},title:{type:"string"},linkbutton_items:{type:"array",items:{$ref:"#/$defs/link"},minItems:1}},required:["type","linkbutton_items"],additionalProperties:!1},"message-form":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Form",description:"Teneo Web Chat - Form message JSON format",type:"object",properties:{type:{type:"string",const:"form"},elements:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["title","subtitle","label","input","textarea","select","control","caption"]},text:{type:"string"},label:{type:"string"},attributes:{type:"object",properties:{type:{type:"string",enum:["text","button","radio","checkbox","date","time","datetime-local","color","range","reset",""]},pattern:{type:"string"},required:{type:"boolean"},title:{type:"string"},name:{type:"string"},value:{}},additionalProperties:!1},options:{type:"array"},action:{type:"string",enum:["cancel","submit"]}},required:["type"]},minItems:1}},required:["type","elements"],additionalProperties:!1},"message-table":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Table",description:"Teneo Web Chat - Table message JSON format",type:"object",properties:{type:{type:"string",const:"table"},title:{type:"string"},headers:{type:"array",items:{type:"string"}},body:{type:"array",items:{type:"array",items:{type:"string"},minItems:1},minItems:1},footers:{type:"array",items:{type:"string"}}},required:["type","body"],additionalProperties:!1},"message-card":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Card",description:"Teneo Web Chat - Card message JSON format",type:"object",properties:{type:{type:"string",const:"card"},image:{type:"object",properties:{image_url:{type:"string"},alt:{type:"string"}}},title:{type:"string"},subtitle:{type:"string"},text:{type:"string"},button_items:{type:"array",items:{$ref:"#/$defs/style-postback"}},list_items:{type:"array",items:{$ref:"#/$defs/postback"}},linkbutton_items:{type:"array",items:{$ref:"#/$defs/link"}}},required:["type"],additionalProperties:!1},"message-carousel":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Carousel",description:"Teneo Web Chat - Card Carousel message JSON format",type:"object",properties:{type:{type:"string",const:"carousel"},carousel_items:{type:"array",items:{$ref:"#/$defs/message-card"},minItems:1,maxItems:10}},required:["type","carousel_items"],additionalProperties:!1},"message-combo":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Combo",description:"Teneo Web Chat - Combo message JSON format",type:"object",properties:{type:{type:"string",const:"combo"},components:{type:"array",items:{anyOf:[{$ref:"#/$defs/message-buttons"},{$ref:"#/$defs/message-card"},{$ref:"#/$defs/message-clickable-list"},{$ref:"#/$defs/message-image"},{$ref:"#/$defs/message-link-buttons"},{$ref:"#/$defs/message-quick-replies"},{$ref:"#/$defs/message-text"},{$ref:"#/$defs/message-video"},{$ref:"#/$defs/message-audio"},{$ref:"#/$defs/message-table"},{$ref:"#/$defs/message-upload"},{$ref:"#/$defs/message-link-preview"},{$ref:"#/$defs/message-markdown"},{$ref:"#/$defs/message-carousel"},{$ref:"#/$defs/message-system"},{$ref:"#/$defs/message-upload"},{$ref:"#/$defs/message-rating"},{$ref:"#/$defs/message-form"}]},minItems:1}},required:["type"],additionalProperties:!1},"message-rating":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Rating",description:"Teneo Web Chat - Rating/Feedback message JSON format",type:"object",properties:{type:{type:"string",const:"rating"},title:{type:"string"},maxValue:{type:["string","number","boolean","array","object","null"]},commentsAllowed:{type:"boolean"}},required:["type","title","maxValue","commentsAllowed"],additionalProperties:!1},"message-text":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Text",description:"Teneo Web Chat - Text message JSON format",type:"object",properties:{type:{type:"string",const:"text"},text:{type:"string"}},required:["type","text"],additionalProperties:!1},"message-system":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC System",description:"Teneo Web Chat - System message JSON format",type:"object",properties:{type:{type:"string",const:"system"},text:{type:"string"}},required:["type","text"],additionalProperties:!1},"message-modal":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Modal",description:"Teneo Web Chat - Modal message JSON format",type:"object",properties:{type:{type:"string",const:"modal"},image:{type:"object",properties:{image_url:{type:"string"},alt:{type:"string"}}},title:{type:"string"},text:{type:"string"},button_items:{type:"array",items:{$ref:"#/$defs/style-postback"},minItems:1}},required:["type"],additionalProperties:!1},"message-link-preview":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Link Preview",description:"Teneo Web Chat - Link Preview message JSON format",type:"object",properties:{type:{type:"string",const:"linkpreview"},title:{type:"string"},description:{type:"string"},url:{type:"string"},image:{type:"string"}},required:["type"],additionalProperties:!1},"message-markdown":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Markdown",description:"Teneo Web Chat - Markdown message JSON format",type:"object",properties:{type:{type:"string",const:"markdown"},content:{type:"string"}},required:["type","content"],additionalProperties:!1},"message-upload":{$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Upload",description:"Teneo Web Chat - Upload message JSON format",type:"object",properties:{type:{type:"string",const:"upload"}},required:["type"],additionalProperties:!1},"style-postback":{$schema:"https://json-schema.org/draft/2020-12/schema",description:"Helper type for buttons and quick replies",type:"object",properties:{title:{type:"string"},style:{type:"string"},postback:{type:"string"},parameters:{type:"object"}},required:["title","postback"],additionalProperties:!1},postback:{$schema:"https://json-schema.org/draft/2020-12/schema",description:"Helper type for clickable lists",type:"object",properties:{title:{type:"string"},postback:{type:"string"},parameters:{type:"object"}},required:["title","postback"],additionalProperties:!1},link:{$schema:"https://json-schema.org/draft/2020-12/schema",description:"Helper type for clickable lists",type:"object",properties:{title:{type:"string"},url:{type:"string"},target:{type:"string"}},required:["url"],additionalProperties:!1}}},DO={$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Video",description:"Teneo Web Chat - Video message JSON format",type:"object",properties:{type:{type:"string",enum:["youtubevideo","vimeovideo","filevideo"]},video_url:{type:"string"}},required:["type","video_url"],additionalProperties:!1},MO={$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Rating",description:"Teneo Web Chat - Rating/Feedback message JSON format",type:"object",properties:{type:{type:"string",const:"rating"},title:{type:"string"},maxValue:{type:["string","number","boolean","array","object","null"]},commentsAllowed:{type:"boolean"}},required:["type","title","maxValue","commentsAllowed"],additionalProperties:!1};function Gt(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(e&&typeof e=="object"&&!Array.isArray(e)){let u;if(e.type===void 0&&(u="type")||e.button_items===void 0&&(u="button_items"))return Gt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;for(const p in e)if(!(p==="type"||p==="title"||p==="button_items"))return Gt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;{if(e.type!==void 0){let p=e.type;const d=o;if(typeof p!="string")return Gt.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(p!=="buttons")return Gt.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"buttons"},message:"must be equal to constant"}],!1;var a=d===o}else var a=!0;if(a){if(e.title!==void 0){const p=o;if(typeof e.title!="string")return Gt.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=p===o}else var a=!0;if(a)if(e.button_items!==void 0){let p=e.button_items;const d=o;if(Array.isArray(p)){if(p.length<1)return Gt.errors=[{instancePath:t+"/button_items",schemaPath:"#/properties/button_items/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;const h=p.length;for(let v=0;v<h;v++){let g=p[v];const m=o;if(g&&typeof g=="object"&&!Array.isArray(g)){let S;if(g.title===void 0&&(S="title")||g.postback===void 0&&(S="postback"))return Gt.errors=[{instancePath:t+"/button_items/"+v,schemaPath:"#/$defs/style-postback/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;for(const C in g)if(!(C==="title"||C==="style"||C==="postback"||C==="parameters"))return Gt.errors=[{instancePath:t+"/button_items/"+v,schemaPath:"#/$defs/style-postback/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;{if(g.title!==void 0){const C=o;if(typeof g.title!="string")return Gt.errors=[{instancePath:t+"/button_items/"+v+"/title",schemaPath:"#/$defs/style-postback/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l){if(g.style!==void 0){const C=o;if(typeof g.style!="string")return Gt.errors=[{instancePath:t+"/button_items/"+v+"/style",schemaPath:"#/$defs/style-postback/properties/style/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l){if(g.postback!==void 0){const C=o;if(typeof g.postback!="string")return Gt.errors=[{instancePath:t+"/button_items/"+v+"/postback",schemaPath:"#/$defs/style-postback/properties/postback/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l)if(g.parameters!==void 0){let C=g.parameters;const b=o;if(!(C&&typeof C=="object"&&!Array.isArray(C)))return Gt.errors=[{instancePath:t+"/button_items/"+v+"/parameters",schemaPath:"#/$defs/style-postback/properties/parameters/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var l=b===o}else var l=!0}}}}else return Gt.errors=[{instancePath:t+"/button_items/"+v,schemaPath:"#/$defs/style-postback/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o;if(!c)break}}}else return Gt.errors=[{instancePath:t+"/button_items",schemaPath:"#/properties/button_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=d===o}else var a=!0}}}else return Gt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Gt.errors=s,o===0}function Qt(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(e&&typeof e=="object"&&!Array.isArray(e)){let u;if(e.type===void 0&&(u="type")||e.quick_replies===void 0&&(u="quick_replies"))return Qt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;for(const p in e)if(!(p==="type"||p==="title"||p==="quick_replies"))return Qt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;{if(e.type!==void 0){let p=e.type;const d=o;if(typeof p!="string")return Qt.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(p!=="quickreply")return Qt.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"quickreply"},message:"must be equal to constant"}],!1;var a=d===o}else var a=!0;if(a){if(e.title!==void 0){const p=o;if(typeof e.title!="string")return Qt.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=p===o}else var a=!0;if(a)if(e.quick_replies!==void 0){let p=e.quick_replies;const d=o;if(Array.isArray(p)){if(p.length<1)return Qt.errors=[{instancePath:t+"/quick_replies",schemaPath:"#/properties/quick_replies/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;const h=p.length;for(let v=0;v<h;v++){let g=p[v];const m=o;if(g&&typeof g=="object"&&!Array.isArray(g)){let S;if(g.title===void 0&&(S="title")||g.postback===void 0&&(S="postback"))return Qt.errors=[{instancePath:t+"/quick_replies/"+v,schemaPath:"#/$defs/style-postback/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;for(const C in g)if(!(C==="title"||C==="style"||C==="postback"||C==="parameters"))return Qt.errors=[{instancePath:t+"/quick_replies/"+v,schemaPath:"#/$defs/style-postback/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;{if(g.title!==void 0){const C=o;if(typeof g.title!="string")return Qt.errors=[{instancePath:t+"/quick_replies/"+v+"/title",schemaPath:"#/$defs/style-postback/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l){if(g.style!==void 0){const C=o;if(typeof g.style!="string")return Qt.errors=[{instancePath:t+"/quick_replies/"+v+"/style",schemaPath:"#/$defs/style-postback/properties/style/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l){if(g.postback!==void 0){const C=o;if(typeof g.postback!="string")return Qt.errors=[{instancePath:t+"/quick_replies/"+v+"/postback",schemaPath:"#/$defs/style-postback/properties/postback/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l)if(g.parameters!==void 0){let C=g.parameters;const b=o;if(!(C&&typeof C=="object"&&!Array.isArray(C)))return Qt.errors=[{instancePath:t+"/quick_replies/"+v+"/parameters",schemaPath:"#/$defs/style-postback/properties/parameters/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var l=b===o}else var l=!0}}}}else return Qt.errors=[{instancePath:t+"/quick_replies/"+v,schemaPath:"#/$defs/style-postback/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o;if(!c)break}}}else return Qt.errors=[{instancePath:t+"/quick_replies",schemaPath:"#/properties/quick_replies/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=d===o}else var a=!0}}}else return Qt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Qt.errors=s,o===0}function sr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(e&&typeof e=="object"&&!Array.isArray(e)){let u;if(e.type===void 0&&(u="type")||e.list_items===void 0&&(u="list_items"))return sr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;for(const p in e)if(!(p==="type"||p==="title"||p==="list_items"))return sr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;{if(e.type!==void 0){let p=e.type;const d=o;if(typeof p!="string")return sr.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(p!=="clickablelist")return sr.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"clickablelist"},message:"must be equal to constant"}],!1;var a=d===o}else var a=!0;if(a){if(e.title!==void 0){const p=o;if(typeof e.title!="string")return sr.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=p===o}else var a=!0;if(a)if(e.list_items!==void 0){let p=e.list_items;const d=o;if(Array.isArray(p)){if(p.length<1)return sr.errors=[{instancePath:t+"/list_items",schemaPath:"#/properties/list_items/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;const h=p.length;for(let v=0;v<h;v++){let g=p[v];const m=o;if(g&&typeof g=="object"&&!Array.isArray(g)){let S;if(g.title===void 0&&(S="title")||g.postback===void 0&&(S="postback"))return sr.errors=[{instancePath:t+"/list_items/"+v,schemaPath:"#/$defs/postback/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;for(const C in g)if(!(C==="title"||C==="postback"||C==="parameters"))return sr.errors=[{instancePath:t+"/list_items/"+v,schemaPath:"#/$defs/postback/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;{if(g.title!==void 0){const C=o;if(typeof g.title!="string")return sr.errors=[{instancePath:t+"/list_items/"+v+"/title",schemaPath:"#/$defs/postback/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l){if(g.postback!==void 0){const C=o;if(typeof g.postback!="string")return sr.errors=[{instancePath:t+"/list_items/"+v+"/postback",schemaPath:"#/$defs/postback/properties/postback/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l)if(g.parameters!==void 0){let C=g.parameters;const b=o;if(!(C&&typeof C=="object"&&!Array.isArray(C)))return sr.errors=[{instancePath:t+"/list_items/"+v+"/parameters",schemaPath:"#/$defs/postback/properties/parameters/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var l=b===o}else var l=!0}}}else return sr.errors=[{instancePath:t+"/list_items/"+v,schemaPath:"#/$defs/postback/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o;if(!c)break}}}else return sr.errors=[{instancePath:t+"/list_items",schemaPath:"#/properties/list_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=d===o}else var a=!0}}}else return sr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return sr.errors=s,o===0}function or(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(e&&typeof e=="object"&&!Array.isArray(e)){let u;if(e.type===void 0&&(u="type")||e.linkbutton_items===void 0&&(u="linkbutton_items"))return or.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;for(const p in e)if(!(p==="type"||p==="title"||p==="linkbutton_items"))return or.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;{if(e.type!==void 0){let p=e.type;const d=o;if(typeof p!="string")return or.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(p!=="linkbuttons")return or.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"linkbuttons"},message:"must be equal to constant"}],!1;var a=d===o}else var a=!0;if(a){if(e.title!==void 0){const p=o;if(typeof e.title!="string")return or.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=p===o}else var a=!0;if(a)if(e.linkbutton_items!==void 0){let p=e.linkbutton_items;const d=o;if(Array.isArray(p)){if(p.length<1)return or.errors=[{instancePath:t+"/linkbutton_items",schemaPath:"#/properties/linkbutton_items/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;const h=p.length;for(let v=0;v<h;v++){let g=p[v];const m=o;if(g&&typeof g=="object"&&!Array.isArray(g)){let S;if(g.url===void 0&&(S="url"))return or.errors=[{instancePath:t+"/linkbutton_items/"+v,schemaPath:"#/$defs/link/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;for(const C in g)if(!(C==="title"||C==="url"||C==="target"))return or.errors=[{instancePath:t+"/linkbutton_items/"+v,schemaPath:"#/$defs/link/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;{if(g.title!==void 0){const C=o;if(typeof g.title!="string")return or.errors=[{instancePath:t+"/linkbutton_items/"+v+"/title",schemaPath:"#/$defs/link/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l){if(g.url!==void 0){const C=o;if(typeof g.url!="string")return or.errors=[{instancePath:t+"/linkbutton_items/"+v+"/url",schemaPath:"#/$defs/link/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0;if(l)if(g.target!==void 0){const C=o;if(typeof g.target!="string")return or.errors=[{instancePath:t+"/linkbutton_items/"+v+"/target",schemaPath:"#/$defs/link/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=C===o}else var l=!0}}}else return or.errors=[{instancePath:t+"/linkbutton_items/"+v,schemaPath:"#/$defs/link/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o;if(!c)break}}}else return or.errors=[{instancePath:t+"/linkbutton_items",schemaPath:"#/properties/linkbutton_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=d===o}else var a=!0}}}else return or.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return or.errors=s,o===0}function Ee(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(e&&typeof e=="object"&&!Array.isArray(e)){let v;if(e.type===void 0&&(v="type"))return Ee.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;for(const g in e)if(!(g==="type"||g==="image"||g==="title"||g==="subtitle"||g==="text"||g==="button_items"||g==="list_items"||g==="linkbutton_items"))return Ee.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:g},message:"must NOT have additional properties"}],!1;{if(e.type!==void 0){let g=e.type;const m=o;if(typeof g!="string")return Ee.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(g!=="card")return Ee.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"card"},message:"must be equal to constant"}],!1;var a=m===o}else var a=!0;if(a){if(e.image!==void 0){let g=e.image;const m=o;if(g&&typeof g=="object"&&!Array.isArray(g)){if(g.image_url!==void 0){const S=o;if(typeof g.image_url!="string")return Ee.errors=[{instancePath:t+"/image/image_url",schemaPath:"#/properties/image/properties/image_url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=S===o}else var c=!0;if(c)if(g.alt!==void 0){const S=o;if(typeof g.alt!="string")return Ee.errors=[{instancePath:t+"/image/alt",schemaPath:"#/properties/image/properties/alt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=S===o}else var c=!0}else return Ee.errors=[{instancePath:t+"/image",schemaPath:"#/properties/image/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=m===o}else var a=!0;if(a){if(e.title!==void 0){const g=o;if(typeof e.title!="string")return Ee.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.subtitle!==void 0){const g=o;if(typeof e.subtitle!="string")return Ee.errors=[{instancePath:t+"/subtitle",schemaPath:"#/properties/subtitle/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.text!==void 0){const g=o;if(typeof e.text!="string")return Ee.errors=[{instancePath:t+"/text",schemaPath:"#/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.button_items!==void 0){let g=e.button_items;const m=o;if(Array.isArray(g)){var l=!0;const S=g.length;for(let C=0;C<S;C++){let b=g[C];const T=o;if(b&&typeof b=="object"&&!Array.isArray(b)){let R;if(b.title===void 0&&(R="title")||b.postback===void 0&&(R="postback"))return Ee.errors=[{instancePath:t+"/button_items/"+C,schemaPath:"#/$defs/style-postback/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"}],!1;for(const O in b)if(!(O==="title"||O==="style"||O==="postback"||O==="parameters"))return Ee.errors=[{instancePath:t+"/button_items/"+C,schemaPath:"#/$defs/style-postback/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;{if(b.title!==void 0){const O=o;if(typeof b.title!="string")return Ee.errors=[{instancePath:t+"/button_items/"+C+"/title",schemaPath:"#/$defs/style-postback/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=O===o}else var u=!0;if(u){if(b.style!==void 0){const O=o;if(typeof b.style!="string")return Ee.errors=[{instancePath:t+"/button_items/"+C+"/style",schemaPath:"#/$defs/style-postback/properties/style/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=O===o}else var u=!0;if(u){if(b.postback!==void 0){const O=o;if(typeof b.postback!="string")return Ee.errors=[{instancePath:t+"/button_items/"+C+"/postback",schemaPath:"#/$defs/style-postback/properties/postback/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=O===o}else var u=!0;if(u)if(b.parameters!==void 0){let O=b.parameters;const D=o;if(!(O&&typeof O=="object"&&!Array.isArray(O)))return Ee.errors=[{instancePath:t+"/button_items/"+C+"/parameters",schemaPath:"#/$defs/style-postback/properties/parameters/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=D===o}else var u=!0}}}}else return Ee.errors=[{instancePath:t+"/button_items/"+C,schemaPath:"#/$defs/style-postback/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var l=T===o;if(!l)break}}else return Ee.errors=[{instancePath:t+"/button_items",schemaPath:"#/properties/button_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=m===o}else var a=!0;if(a){if(e.list_items!==void 0){let g=e.list_items;const m=o;if(Array.isArray(g)){var p=!0;const S=g.length;for(let C=0;C<S;C++){let b=g[C];const T=o;if(b&&typeof b=="object"&&!Array.isArray(b)){let R;if(b.title===void 0&&(R="title")||b.postback===void 0&&(R="postback"))return Ee.errors=[{instancePath:t+"/list_items/"+C,schemaPath:"#/$defs/postback/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"}],!1;for(const O in b)if(!(O==="title"||O==="postback"||O==="parameters"))return Ee.errors=[{instancePath:t+"/list_items/"+C,schemaPath:"#/$defs/postback/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;{if(b.title!==void 0){const O=o;if(typeof b.title!="string")return Ee.errors=[{instancePath:t+"/list_items/"+C+"/title",schemaPath:"#/$defs/postback/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=O===o}else var d=!0;if(d){if(b.postback!==void 0){const O=o;if(typeof b.postback!="string")return Ee.errors=[{instancePath:t+"/list_items/"+C+"/postback",schemaPath:"#/$defs/postback/properties/postback/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=O===o}else var d=!0;if(d)if(b.parameters!==void 0){let O=b.parameters;const D=o;if(!(O&&typeof O=="object"&&!Array.isArray(O)))return Ee.errors=[{instancePath:t+"/list_items/"+C+"/parameters",schemaPath:"#/$defs/postback/properties/parameters/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=D===o}else var d=!0}}}else return Ee.errors=[{instancePath:t+"/list_items/"+C,schemaPath:"#/$defs/postback/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=T===o;if(!p)break}}else return Ee.errors=[{instancePath:t+"/list_items",schemaPath:"#/properties/list_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=m===o}else var a=!0;if(a)if(e.linkbutton_items!==void 0){let g=e.linkbutton_items;const m=o;if(Array.isArray(g)){var f=!0;const S=g.length;for(let C=0;C<S;C++){let b=g[C];const T=o;if(b&&typeof b=="object"&&!Array.isArray(b)){let R;if(b.url===void 0&&(R="url"))return Ee.errors=[{instancePath:t+"/linkbutton_items/"+C,schemaPath:"#/$defs/link/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"}],!1;for(const O in b)if(!(O==="title"||O==="url"||O==="target"))return Ee.errors=[{instancePath:t+"/linkbutton_items/"+C,schemaPath:"#/$defs/link/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;{if(b.title!==void 0){const O=o;if(typeof b.title!="string")return Ee.errors=[{instancePath:t+"/linkbutton_items/"+C+"/title",schemaPath:"#/$defs/link/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=O===o}else var h=!0;if(h){if(b.url!==void 0){const O=o;if(typeof b.url!="string")return Ee.errors=[{instancePath:t+"/linkbutton_items/"+C+"/url",schemaPath:"#/$defs/link/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=O===o}else var h=!0;if(h)if(b.target!==void 0){const O=o;if(typeof b.target!="string")return Ee.errors=[{instancePath:t+"/linkbutton_items/"+C+"/target",schemaPath:"#/$defs/link/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=O===o}else var h=!0}}}else return Ee.errors=[{instancePath:t+"/linkbutton_items/"+C,schemaPath:"#/$defs/link/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=T===o;if(!f)break}}else return Ee.errors=[{instancePath:t+"/linkbutton_items",schemaPath:"#/properties/linkbutton_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=m===o}else var a=!0}}}}}}}}else return Ee.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ee.errors=s,o===0}function Sn(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){let l;if(e.type===void 0&&(l="type")||e.carousel_items===void 0&&(l="carousel_items"))return Sn.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{const u=o;for(const p in e)if(!(p==="type"||p==="carousel_items"))return Sn.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;if(u===o){if(e.type!==void 0){let p=e.type;const d=o;if(typeof p!="string")return Sn.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(p!=="carousel")return Sn.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"carousel"},message:"must be equal to constant"}],!1;var a=d===o}else var a=!0;if(a)if(e.carousel_items!==void 0){let p=e.carousel_items;const d=o;if(o===d)if(Array.isArray(p)){if(p.length>10)return Sn.errors=[{instancePath:t+"/carousel_items",schemaPath:"#/properties/carousel_items/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"}],!1;if(p.length<1)return Sn.errors=[{instancePath:t+"/carousel_items",schemaPath:"#/properties/carousel_items/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;const h=p.length;for(let v=0;v<h;v++){const g=o;Ee(p[v],{instancePath:t+"/carousel_items/"+v,parentData:p,parentDataProperty:v,rootData:i})||(s=s===null?Ee.errors:s.concat(Ee.errors),o=s.length);var c=g===o;if(!c)break}}}else return Sn.errors=[{instancePath:t+"/carousel_items",schemaPath:"#/properties/carousel_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=d===o}else var a=!0}}}else return Sn.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Sn.errors=s,o===0}const Ty={$schema:"https://json-schema.org/draft/2020-12/schema",title:"TWC Form",description:"Teneo Web Chat - Form message JSON format",type:"object",properties:{type:{type:"string",const:"form"},elements:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["title","subtitle","label","input","textarea","select","control","caption"]},text:{type:"string"},label:{type:"string"},attributes:{type:"object",properties:{type:{type:"string",enum:["text","button","radio","checkbox","date","time","datetime-local","color","range","reset",""]},pattern:{type:"string"},required:{type:"boolean"},title:{type:"string"},name:{type:"string"},value:{}},additionalProperties:!1},options:{type:"array"},action:{type:"string",enum:["cancel","submit"]}},required:["type"]},minItems:1}},required:["type","elements"],additionalProperties:!1};function ti(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){let W;if(e.type===void 0&&(W="type"))return ti.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"}],!1;{const J=o;for(const q in e)if(!(q==="type"||q==="components"))return ti.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;if(J===o){if(e.type!==void 0){let q=e.type;const Y=o;if(typeof q!="string")return ti.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(q!=="combo")return ti.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"combo"},message:"must be equal to constant"}],!1;var a=Y===o}else var a=!0;if(a)if(e.components!==void 0){let q=e.components;const Y=o;if(o===Y)if(Array.isArray(q)){if(q.length<1)return ti.errors=[{instancePath:t+"/components",schemaPath:"#/properties/components/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;const ee=q.length;for(let I=0;I<ee;I++){let k=q[I];const G=o,te=o;let M=!1;const oe=o;Gt(k,{instancePath:t+"/components/"+I,parentData:q,parentDataProperty:I,rootData:i})||(s=s===null?Gt.errors:s.concat(Gt.errors),o=s.length);var l=oe===o;if(M=M||l,!M){const ne=o;Ee(k,{instancePath:t+"/components/"+I,parentData:q,parentDataProperty:I,rootData:i})||(s=s===null?Ee.errors:s.concat(Ee.errors),o=s.length);var l=ne===o;if(M=M||l,!M){const Qe=o;sr(k,{instancePath:t+"/components/"+I,parentData:q,parentDataProperty:I,rootData:i})||(s=s===null?sr.errors:s.concat(sr.errors),o=s.length);var l=Qe===o;if(M=M||l,!M){const fe=o,ur=o,It=o;let yt=!1;const Mt=o;if(k&&typeof k=="object"&&!Array.isArray(k)){let Be;if(k.image_url===void 0&&(Be="image_url")){const Te={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-image/anyOf/0/required",keyword:"required",params:{missingProperty:Be},message:"must have required property '"+Be+"'"};s===null?s=[Te]:s.push(Te),o++}}var u=Mt===o;if(yt=yt||u,!yt){const Be=o;if(k&&typeof k=="object"&&!Array.isArray(k)){let be;if(k.thumbnail_url===void 0&&(be="thumbnail_url")){const Me={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-image/anyOf/1/required",keyword:"required",params:{missingProperty:be},message:"must have required property '"+be+"'"};s===null?s=[Me]:s.push(Me),o++}}var u=Be===o;yt=yt||u}if(yt)o=It,s!==null&&(It?s.length=It:s=null);else{const Be={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-image/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};s===null?s=[Be]:s.push(Be),o++}if(o===ur)if(k&&typeof k=="object"&&!Array.isArray(k)){let Be;if(k.type===void 0&&(Be="type")){const Te={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-image/required",keyword:"required",params:{missingProperty:Be},message:"must have required property '"+Be+"'"};s===null?s=[Te]:s.push(Te),o++}else{const Te=o;for(const be in k)if(!(be==="type"||be==="image_url"||be==="thumbnail_url"||be==="alt")){const Me={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-image/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:be},message:"must NOT have additional properties"};s===null?s=[Me]:s.push(Me),o++;break}if(Te===o){if(k.type!==void 0){let be=k.type;const Me=o;if(typeof be!="string"){const Ae={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-image/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ae]:s.push(Ae),o++}if(be!=="image"){const Ae={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-image/properties/type/const",keyword:"const",params:{allowedValue:"image"},message:"must be equal to constant"};s===null?s=[Ae]:s.push(Ae),o++}var p=Me===o}else var p=!0;if(p){if(k.image_url!==void 0){const be=o;if(typeof k.image_url!="string"){const Ae={instancePath:t+"/components/"+I+"/image_url",schemaPath:"#/$defs/message-image/properties/image_url/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ae]:s.push(Ae),o++}var p=be===o}else var p=!0;if(p){if(k.thumbnail_url!==void 0){const be=o;if(typeof k.thumbnail_url!="string"){const Ae={instancePath:t+"/components/"+I+"/thumbnail_url",schemaPath:"#/$defs/message-image/properties/thumbnail_url/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ae]:s.push(Ae),o++}var p=be===o}else var p=!0;if(p)if(k.alt!==void 0){const be=o;if(typeof k.alt!="string"){const Ae={instancePath:t+"/components/"+I+"/alt",schemaPath:"#/$defs/message-image/properties/alt/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ae]:s.push(Ae),o++}var p=be===o}else var p=!0}}}}}else{const Be={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-image/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[Be]:s.push(Be),o++}var l=fe===o;if(M=M||l,!M){const Be=o;or(k,{instancePath:t+"/components/"+I,parentData:q,parentDataProperty:I,rootData:i})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var l=Be===o;if(M=M||l,!M){const be=o;Qt(k,{instancePath:t+"/components/"+I,parentData:q,parentDataProperty:I,rootData:i})||(s=s===null?Qt.errors:s.concat(Qt.errors),o=s.length);var l=be===o;if(M=M||l,!M){const Ae=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let Cr;if(k.type===void 0&&(Cr="type")||k.text===void 0&&(Cr="text")){const et={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-text/required",keyword:"required",params:{missingProperty:Cr},message:"must have required property '"+Cr+"'"};s===null?s=[et]:s.push(et),o++}else{const et=o;for(const z in k)if(!(z==="type"||z==="text")){const V={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-text/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties"};s===null?s=[V]:s.push(V),o++;break}if(et===o){if(k.type!==void 0){let z=k.type;const V=o;if(typeof z!="string"){const Se={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-text/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Se]:s.push(Se),o++}if(z!=="text"){const Se={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-text/properties/type/const",keyword:"const",params:{allowedValue:"text"},message:"must be equal to constant"};s===null?s=[Se]:s.push(Se),o++}var d=V===o}else var d=!0;if(d)if(k.text!==void 0){const z=o;if(typeof k.text!="string"){const Se={instancePath:t+"/components/"+I+"/text",schemaPath:"#/$defs/message-text/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Se]:s.push(Se),o++}var d=z===o}else var d=!0}}}else{const Cr={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-text/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[Cr]:s.push(Cr),o++}var l=Ae===o;if(M=M||l,!M){const Cr=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let V;if(k.type===void 0&&(V="type")||k.video_url===void 0&&(V="video_url")){const Se={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-video/required",keyword:"required",params:{missingProperty:V},message:"must have required property '"+V+"'"};s===null?s=[Se]:s.push(Se),o++}else{const Se=o;for(const Je in k)if(!(Je==="type"||Je==="video_url")){const Pe={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-video/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Je},message:"must NOT have additional properties"};s===null?s=[Pe]:s.push(Pe),o++;break}if(Se===o){if(k.type!==void 0){let Je=k.type;const Pe=o;if(typeof Je!="string"){const We={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-video/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[We]:s.push(We),o++}if(!(Je==="youtubevideo"||Je==="vimeovideo"||Je==="filevideo")){const We={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-video/properties/type/enum",keyword:"enum",params:{allowedValues:DO.properties.type.enum},message:"must be equal to one of the allowed values"};s===null?s=[We]:s.push(We),o++}var f=Pe===o}else var f=!0;if(f)if(k.video_url!==void 0){const Je=o;if(typeof k.video_url!="string"){const We={instancePath:t+"/components/"+I+"/video_url",schemaPath:"#/$defs/message-video/properties/video_url/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[We]:s.push(We),o++}var f=Je===o}else var f=!0}}}else{const V={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-video/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[V]:s.push(V),o++}var l=Cr===o;if(M=M||l,!M){const V=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let Pe;if(k.type===void 0&&(Pe="type")||k.audio_url===void 0&&(Pe="audio_url")){const We={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-audio/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"};s===null?s=[We]:s.push(We),o++}else{const We=o;for(const Nt in k)if(!(Nt==="type"||Nt==="audio_url")){const St={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-audio/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nt},message:"must NOT have additional properties"};s===null?s=[St]:s.push(St),o++;break}if(We===o){if(k.type!==void 0){let Nt=k.type;const St=o;if(typeof Nt!="string"){const je={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-audio/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[je]:s.push(je),o++}if(Nt!=="audio"){const je={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-audio/properties/type/const",keyword:"const",params:{allowedValue:"audio"},message:"must be equal to constant"};s===null?s=[je]:s.push(je),o++}var h=St===o}else var h=!0;if(h)if(k.audio_url!==void 0){const Nt=o;if(typeof k.audio_url!="string"){const je={instancePath:t+"/components/"+I+"/audio_url",schemaPath:"#/$defs/message-audio/properties/audio_url/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[je]:s.push(je),o++}var h=Nt===o}else var h=!0}}}else{const Pe={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-audio/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[Pe]:s.push(Pe),o++}var l=V===o;if(M=M||l,!M){const Pe=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let St;if(k.type===void 0&&(St="type")||k.body===void 0&&(St="body")){const je={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-table/required",keyword:"required",params:{missingProperty:St},message:"must have required property '"+St+"'"};s===null?s=[je]:s.push(je),o++}else{const je=o;for(const Ce in k)if(!(Ce==="type"||Ce==="title"||Ce==="headers"||Ce==="body"||Ce==="footers")){const me={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-table/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"};s===null?s=[me]:s.push(me),o++;break}if(je===o){if(k.type!==void 0){let Ce=k.type;const me=o;if(typeof Ce!="string"){const at={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-table/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[at]:s.push(at),o++}if(Ce!=="table"){const at={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-table/properties/type/const",keyword:"const",params:{allowedValue:"table"},message:"must be equal to constant"};s===null?s=[at]:s.push(at),o++}var v=me===o}else var v=!0;if(v){if(k.title!==void 0){const Ce=o;if(typeof k.title!="string"){const at={instancePath:t+"/components/"+I+"/title",schemaPath:"#/$defs/message-table/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[at]:s.push(at),o++}var v=Ce===o}else var v=!0;if(v){if(k.headers!==void 0){let Ce=k.headers;const me=o;if(o===me)if(Array.isArray(Ce)){var g=!0;const Ve=Ce.length;for(let we=0;we<Ve;we++){const tt=o;if(typeof Ce[we]!="string"){const Ct={instancePath:t+"/components/"+I+"/headers/"+we,schemaPath:"#/$defs/message-table/properties/headers/items/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ct]:s.push(Ct),o++}var g=tt===o;if(!g)break}}else{const Ve={instancePath:t+"/components/"+I+"/headers",schemaPath:"#/$defs/message-table/properties/headers/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[Ve]:s.push(Ve),o++}var v=me===o}else var v=!0;if(v){if(k.body!==void 0){let Ce=k.body;const me=o;if(o===me)if(Array.isArray(Ce))if(Ce.length<1){const Ve={instancePath:t+"/components/"+I+"/body",schemaPath:"#/$defs/message-table/properties/body/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};s===null?s=[Ve]:s.push(Ve),o++}else{var m=!0;const Ve=Ce.length;for(let we=0;we<Ve;we++){let tt=Ce[we];const Oe=o;if(o===Oe)if(Array.isArray(tt))if(tt.length<1){const He={instancePath:t+"/components/"+I+"/body/"+we,schemaPath:"#/$defs/message-table/properties/body/items/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};s===null?s=[He]:s.push(He),o++}else{var y=!0;const He=tt.length;for(let Ue=0;Ue<He;Ue++){const Pt=o;if(typeof tt[Ue]!="string"){const pr={instancePath:t+"/components/"+I+"/body/"+we+"/"+Ue,schemaPath:"#/$defs/message-table/properties/body/items/items/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[pr]:s.push(pr),o++}var y=Pt===o;if(!y)break}}else{const He={instancePath:t+"/components/"+I+"/body/"+we,schemaPath:"#/$defs/message-table/properties/body/items/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[He]:s.push(He),o++}var m=Oe===o;if(!m)break}}else{const Ve={instancePath:t+"/components/"+I+"/body",schemaPath:"#/$defs/message-table/properties/body/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[Ve]:s.push(Ve),o++}var v=me===o}else var v=!0;if(v)if(k.footers!==void 0){let Ce=k.footers;const me=o;if(o===me)if(Array.isArray(Ce)){var S=!0;const Ve=Ce.length;for(let we=0;we<Ve;we++){const tt=o;if(typeof Ce[we]!="string"){const Ct={instancePath:t+"/components/"+I+"/footers/"+we,schemaPath:"#/$defs/message-table/properties/footers/items/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ct]:s.push(Ct),o++}var S=tt===o;if(!S)break}}else{const Ve={instancePath:t+"/components/"+I+"/footers",schemaPath:"#/$defs/message-table/properties/footers/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[Ve]:s.push(Ve),o++}var v=me===o}else var v=!0}}}}}}else{const St={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-table/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[St]:s.push(St),o++}var l=Pe===o;if(M=M||l,!M){const St=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let me;if(k.type===void 0&&(me="type")){const at={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-upload/required",keyword:"required",params:{missingProperty:me},message:"must have required property '"+me+"'"};s===null?s=[at]:s.push(at),o++}else{const at=o;for(const Ve in k)if(Ve!=="type"){const we={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-upload/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ve},message:"must NOT have additional properties"};s===null?s=[we]:s.push(we),o++;break}if(at===o&&k.type!==void 0){let Ve=k.type;if(typeof Ve!="string"){const we={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-upload/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[we]:s.push(we),o++}if(Ve!=="upload"){const we={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-upload/properties/type/const",keyword:"const",params:{allowedValue:"upload"},message:"must be equal to constant"};s===null?s=[we]:s.push(we),o++}}}}else{const me={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-upload/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[me]:s.push(me),o++}var l=St===o;if(M=M||l,!M){const me=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let we;if(k.type===void 0&&(we="type")){const tt={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-link-preview/required",keyword:"required",params:{missingProperty:we},message:"must have required property '"+we+"'"};s===null?s=[tt]:s.push(tt),o++}else{const tt=o;for(const Oe in k)if(!(Oe==="type"||Oe==="title"||Oe==="description"||Oe==="url"||Oe==="image")){const Ct={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-link-preview/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"};s===null?s=[Ct]:s.push(Ct),o++;break}if(tt===o){if(k.type!==void 0){let Oe=k.type;const Ct=o;if(typeof Oe!="string"){const He={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-link-preview/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[He]:s.push(He),o++}if(Oe!=="linkpreview"){const He={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-link-preview/properties/type/const",keyword:"const",params:{allowedValue:"linkpreview"},message:"must be equal to constant"};s===null?s=[He]:s.push(He),o++}var C=Ct===o}else var C=!0;if(C){if(k.title!==void 0){const Oe=o;if(typeof k.title!="string"){const He={instancePath:t+"/components/"+I+"/title",schemaPath:"#/$defs/message-link-preview/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[He]:s.push(He),o++}var C=Oe===o}else var C=!0;if(C){if(k.description!==void 0){const Oe=o;if(typeof k.description!="string"){const He={instancePath:t+"/components/"+I+"/description",schemaPath:"#/$defs/message-link-preview/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[He]:s.push(He),o++}var C=Oe===o}else var C=!0;if(C){if(k.url!==void 0){const Oe=o;if(typeof k.url!="string"){const He={instancePath:t+"/components/"+I+"/url",schemaPath:"#/$defs/message-link-preview/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[He]:s.push(He),o++}var C=Oe===o}else var C=!0;if(C)if(k.image!==void 0){const Oe=o;if(typeof k.image!="string"){const He={instancePath:t+"/components/"+I+"/image",schemaPath:"#/$defs/message-link-preview/properties/image/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[He]:s.push(He),o++}var C=Oe===o}else var C=!0}}}}}}else{const we={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-link-preview/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[we]:s.push(we),o++}var l=me===o;if(M=M||l,!M){const we=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let Ct;if(k.type===void 0&&(Ct="type")||k.content===void 0&&(Ct="content")){const He={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-markdown/required",keyword:"required",params:{missingProperty:Ct},message:"must have required property '"+Ct+"'"};s===null?s=[He]:s.push(He),o++}else{const He=o;for(const Ue in k)if(!(Ue==="type"||Ue==="content")){const Pt={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-markdown/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"};s===null?s=[Pt]:s.push(Pt),o++;break}if(He===o){if(k.type!==void 0){let Ue=k.type;const Pt=o;if(typeof Ue!="string"){const Bt={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-markdown/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Bt]:s.push(Bt),o++}if(Ue!=="markdown"){const Bt={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-markdown/properties/type/const",keyword:"const",params:{allowedValue:"markdown"},message:"must be equal to constant"};s===null?s=[Bt]:s.push(Bt),o++}var b=Pt===o}else var b=!0;if(b)if(k.content!==void 0){const Ue=o;if(typeof k.content!="string"){const Bt={instancePath:t+"/components/"+I+"/content",schemaPath:"#/$defs/message-markdown/properties/content/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Bt]:s.push(Bt),o++}var b=Ue===o}else var b=!0}}}else{const Ct={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-markdown/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[Ct]:s.push(Ct),o++}var l=we===o;if(M=M||l,!M){const Ct=o;Sn(k,{instancePath:t+"/components/"+I,parentData:q,parentDataProperty:I,rootData:i})||(s=s===null?Sn.errors:s.concat(Sn.errors),o=s.length);var l=Ct===o;if(M=M||l,!M){const Ue=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let pr;if(k.type===void 0&&(pr="type")||k.text===void 0&&(pr="text")){const wr={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-system/required",keyword:"required",params:{missingProperty:pr},message:"must have required property '"+pr+"'"};s===null?s=[wr]:s.push(wr),o++}else{const wr=o;for(const dn in k)if(!(dn==="type"||dn==="text")){const ae={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-system/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dn},message:"must NOT have additional properties"};s===null?s=[ae]:s.push(ae),o++;break}if(wr===o){if(k.type!==void 0){let dn=k.type;const ae=o;if(typeof dn!="string"){const Ne={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-system/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ne]:s.push(Ne),o++}if(dn!=="system"){const Ne={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-system/properties/type/const",keyword:"const",params:{allowedValue:"system"},message:"must be equal to constant"};s===null?s=[Ne]:s.push(Ne),o++}var T=ae===o}else var T=!0;if(T)if(k.text!==void 0){const dn=o;if(typeof k.text!="string"){const Ne={instancePath:t+"/components/"+I+"/text",schemaPath:"#/$defs/message-system/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ne]:s.push(Ne),o++}var T=dn===o}else var T=!0}}}else{const pr={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-system/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[pr]:s.push(pr),o++}var l=Ue===o;if(M=M||l,!M){const pr=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let ae;if(k.type===void 0&&(ae="type")){const Ne={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-upload/required",keyword:"required",params:{missingProperty:ae},message:"must have required property '"+ae+"'"};s===null?s=[Ne]:s.push(Ne),o++}else{const Ne=o;for(const Ln in k)if(Ln!=="type"){const Xe={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-upload/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ln},message:"must NOT have additional properties"};s===null?s=[Xe]:s.push(Xe),o++;break}if(Ne===o&&k.type!==void 0){let Ln=k.type;if(typeof Ln!="string"){const Xe={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-upload/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Xe]:s.push(Xe),o++}if(Ln!=="upload"){const Xe={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-upload/properties/type/const",keyword:"const",params:{allowedValue:"upload"},message:"must be equal to constant"};s===null?s=[Xe]:s.push(Xe),o++}}}}else{const ae={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-upload/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[ae]:s.push(ae),o++}var l=pr===o;if(M=M||l,!M){const ae=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let Xe;if(k.type===void 0&&(Xe="type")||k.title===void 0&&(Xe="title")||k.maxValue===void 0&&(Xe="maxValue")||k.commentsAllowed===void 0&&(Xe="commentsAllowed")){const _t={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-rating/required",keyword:"required",params:{missingProperty:Xe},message:"must have required property '"+Xe+"'"};s===null?s=[_t]:s.push(_t),o++}else{const _t=o;for(const he in k)if(!(he==="type"||he==="title"||he==="maxValue"||he==="commentsAllowed")){const Ke={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-rating/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:he},message:"must NOT have additional properties"};s===null?s=[Ke]:s.push(Ke),o++;break}if(_t===o){if(k.type!==void 0){let he=k.type;const Ke=o;if(typeof he!="string"){const Lt={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-rating/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Lt]:s.push(Lt),o++}if(he!=="rating"){const Lt={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-rating/properties/type/const",keyword:"const",params:{allowedValue:"rating"},message:"must be equal to constant"};s===null?s=[Lt]:s.push(Lt),o++}var _=Ke===o}else var _=!0;if(_){if(k.title!==void 0){const he=o;if(typeof k.title!="string"){const Lt={instancePath:t+"/components/"+I+"/title",schemaPath:"#/$defs/message-rating/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Lt]:s.push(Lt),o++}var _=he===o}else var _=!0;if(_){if(k.maxValue!==void 0){let he=k.maxValue;const Ke=o;if(typeof he!="object"&&typeof he!="string"&&!(typeof he=="number"&&isFinite(he))&&typeof he!="boolean"){const jt={instancePath:t+"/components/"+I+"/maxValue",schemaPath:"#/$defs/message-rating/properties/maxValue/type",keyword:"type",params:{type:MO.properties.maxValue.type},message:"must be string,number,boolean,array,object,null"};s===null?s=[jt]:s.push(jt),o++}var _=Ke===o}else var _=!0;if(_)if(k.commentsAllowed!==void 0){const he=o;if(typeof k.commentsAllowed!="boolean"){const Lt={instancePath:t+"/components/"+I+"/commentsAllowed",schemaPath:"#/$defs/message-rating/properties/commentsAllowed/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[Lt]:s.push(Lt),o++}var _=he===o}else var _=!0}}}}}else{const Xe={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-rating/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[Xe]:s.push(Xe),o++}var l=ae===o;if(M=M||l,!M){const Xe=o;if(o===o)if(k&&typeof k=="object"&&!Array.isArray(k)){let Ke;if(k.type===void 0&&(Ke="type")||k.elements===void 0&&(Ke="elements")){const Lt={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-form/required",keyword:"required",params:{missingProperty:Ke},message:"must have required property '"+Ke+"'"};s===null?s=[Lt]:s.push(Lt),o++}else{const Lt=o;for(const jt in k)if(!(jt==="type"||jt==="elements")){const Mr={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-form/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jt},message:"must NOT have additional properties"};s===null?s=[Mr]:s.push(Mr),o++;break}if(Lt===o){if(k.type!==void 0){let jt=k.type;const Mr=o;if(typeof jt!="string"){const Kt={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-form/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Kt]:s.push(Kt),o++}if(jt!=="form"){const Kt={instancePath:t+"/components/"+I+"/type",schemaPath:"#/$defs/message-form/properties/type/const",keyword:"const",params:{allowedValue:"form"},message:"must be equal to constant"};s===null?s=[Kt]:s.push(Kt),o++}var R=Mr===o}else var R=!0;if(R)if(k.elements!==void 0){let jt=k.elements;const Mr=o;if(o===Mr)if(Array.isArray(jt))if(jt.length<1){const lt={instancePath:t+"/components/"+I+"/elements",schemaPath:"#/$defs/message-form/properties/elements/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};s===null?s=[lt]:s.push(lt),o++}else{var O=!0;const lt=jt.length;for(let Et=0;Et<lt;Et++){let rr=jt[Et];const Qc=o;if(o===Qc)if(rr&&typeof rr=="object"&&!Array.isArray(rr)){let vr;if(rr.type===void 0&&(vr="type")){const F={instancePath:t+"/components/"+I+"/elements/"+Et,schemaPath:"#/$defs/message-form/properties/elements/items/required",keyword:"required",params:{missingProperty:vr},message:"must have required property '"+vr+"'"};s===null?s=[F]:s.push(F),o++}else{if(rr.type!==void 0){let F=rr.type;const A=o;if(typeof F!="string"){const N={instancePath:t+"/components/"+I+"/elements/"+Et+"/type",schemaPath:"#/$defs/message-form/properties/elements/items/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[N]:s.push(N),o++}if(!(F==="title"||F==="subtitle"||F==="label"||F==="input"||F==="textarea"||F==="select"||F==="control"||F==="caption")){const N={instancePath:t+"/components/"+I+"/elements/"+Et+"/type",schemaPath:"#/$defs/message-form/properties/elements/items/properties/type/enum",keyword:"enum",params:{allowedValues:Ty.properties.elements.items.properties.type.enum},message:"must be equal to one of the allowed values"};s===null?s=[N]:s.push(N),o++}var D=A===o}else var D=!0;if(D){if(rr.text!==void 0){const F=o;if(typeof rr.text!="string"){const N={instancePath:t+"/components/"+I+"/elements/"+Et+"/text",schemaPath:"#/$defs/message-form/properties/elements/items/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[N]:s.push(N),o++}var D=F===o}else var D=!0;if(D){if(rr.label!==void 0){const F=o;if(typeof rr.label!="string"){const N={instancePath:t+"/components/"+I+"/elements/"+Et+"/label",schemaPath:"#/$defs/message-form/properties/elements/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[N]:s.push(N),o++}var D=F===o}else var D=!0;if(D){if(rr.attributes!==void 0){let F=rr.attributes;const A=o;if(o===A)if(F&&typeof F=="object"&&!Array.isArray(F)){const j=o;for(const K in F)if(!(K==="type"||K==="pattern"||K==="required"||K==="title"||K==="name"||K==="value")){const zt={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"};s===null?s=[zt]:s.push(zt),o++;break}if(j===o){if(F.type!==void 0){let K=F.type;const zt=o;if(typeof K!="string"){const ke={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes/type",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ke]:s.push(ke),o++}if(!(K==="text"||K==="button"||K==="radio"||K==="checkbox"||K==="date"||K==="time"||K==="datetime-local"||K==="color"||K==="range"||K==="reset"||K==="")){const ke={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes/type",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/properties/type/enum",keyword:"enum",params:{allowedValues:Ty.properties.elements.items.properties.attributes.properties.type.enum},message:"must be equal to one of the allowed values"};s===null?s=[ke]:s.push(ke),o++}var $=zt===o}else var $=!0;if($){if(F.pattern!==void 0){const K=o;if(typeof F.pattern!="string"){const ke={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes/pattern",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ke]:s.push(ke),o++}var $=K===o}else var $=!0;if($){if(F.required!==void 0){const K=o;if(typeof F.required!="boolean"){const ke={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes/required",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[ke]:s.push(ke),o++}var $=K===o}else var $=!0;if($){if(F.title!==void 0){const K=o;if(typeof F.title!="string"){const ke={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes/title",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ke]:s.push(ke),o++}var $=K===o}else var $=!0;if($)if(F.name!==void 0){const K=o;if(typeof F.name!="string"){const ke={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes/name",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ke]:s.push(ke),o++}var $=K===o}else var $=!0}}}}}else{const j={instancePath:t+"/components/"+I+"/elements/"+Et+"/attributes",schemaPath:"#/$defs/message-form/properties/elements/items/properties/attributes/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[j]:s.push(j),o++}var D=A===o}else var D=!0;if(D){if(rr.options!==void 0){const F=o;if(!Array.isArray(rr.options)){const N={instancePath:t+"/components/"+I+"/elements/"+Et+"/options",schemaPath:"#/$defs/message-form/properties/elements/items/properties/options/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[N]:s.push(N),o++}var D=F===o}else var D=!0;if(D)if(rr.action!==void 0){let F=rr.action;const A=o;if(typeof F!="string"){const j={instancePath:t+"/components/"+I+"/elements/"+Et+"/action",schemaPath:"#/$defs/message-form/properties/elements/items/properties/action/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[j]:s.push(j),o++}if(!(F==="cancel"||F==="submit")){const j={instancePath:t+"/components/"+I+"/elements/"+Et+"/action",schemaPath:"#/$defs/message-form/properties/elements/items/properties/action/enum",keyword:"enum",params:{allowedValues:Ty.properties.elements.items.properties.action.enum},message:"must be equal to one of the allowed values"};s===null?s=[j]:s.push(j),o++}var D=A===o}else var D=!0}}}}}}else{const vr={instancePath:t+"/components/"+I+"/elements/"+Et,schemaPath:"#/$defs/message-form/properties/elements/items/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[vr]:s.push(vr),o++}var O=Qc===o;if(!O)break}}else{const lt={instancePath:t+"/components/"+I+"/elements",schemaPath:"#/$defs/message-form/properties/elements/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[lt]:s.push(lt),o++}var R=Mr===o}else var R=!0}}}else{const Ke={instancePath:t+"/components/"+I,schemaPath:"#/$defs/message-form/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[Ke]:s.push(Ke),o++}var l=Xe===o;M=M||l}}}}}}}}}}}}}}}}}if(M)o=te,s!==null&&(te?s.length=te:s=null);else{const ne={instancePath:t+"/components/"+I,schemaPath:"#/properties/components/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[ne]:s.push(ne),o++,ti.errors=s,!1}var c=G===o;if(!c)break}}}else return ti.errors=[{instancePath:t+"/components",schemaPath:"#/properties/components/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=Y===o}else var a=!0}}}else return ti.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ti.errors=s,o===0}function Ht(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(e&&typeof e=="object"&&!Array.isArray(e)){let p;if(e.type===void 0&&(p="type"))return Ht.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;for(const d in e)if(!(d==="type"||d==="image"||d==="title"||d==="text"||d==="button_items"))return Ht.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;{if(e.type!==void 0){let d=e.type;const f=o;if(typeof d!="string")return Ht.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(d!=="modal")return Ht.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"modal"},message:"must be equal to constant"}],!1;var a=f===o}else var a=!0;if(a){if(e.image!==void 0){let d=e.image;const f=o;if(d&&typeof d=="object"&&!Array.isArray(d)){if(d.image_url!==void 0){const v=o;if(typeof d.image_url!="string")return Ht.errors=[{instancePath:t+"/image/image_url",schemaPath:"#/properties/image/properties/image_url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===o}else var c=!0;if(c)if(d.alt!==void 0){const v=o;if(typeof d.alt!="string")return Ht.errors=[{instancePath:t+"/image/alt",schemaPath:"#/properties/image/properties/alt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===o}else var c=!0}else return Ht.errors=[{instancePath:t+"/image",schemaPath:"#/properties/image/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=f===o}else var a=!0;if(a){if(e.title!==void 0){const d=o;if(typeof e.title!="string")return Ht.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===o}else var a=!0;if(a){if(e.text!==void 0){const d=o;if(typeof e.text!="string")return Ht.errors=[{instancePath:t+"/text",schemaPath:"#/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===o}else var a=!0;if(a)if(e.button_items!==void 0){let d=e.button_items;const f=o;if(Array.isArray(d)){if(d.length<1)return Ht.errors=[{instancePath:t+"/button_items",schemaPath:"#/properties/button_items/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var l=!0;const v=d.length;for(let g=0;g<v;g++){let m=d[g];const y=o;if(m&&typeof m=="object"&&!Array.isArray(m)){let C;if(m.title===void 0&&(C="title")||m.postback===void 0&&(C="postback"))return Ht.errors=[{instancePath:t+"/button_items/"+g,schemaPath:"#/$defs/style-postback/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;for(const b in m)if(!(b==="title"||b==="style"||b==="postback"||b==="parameters"))return Ht.errors=[{instancePath:t+"/button_items/"+g,schemaPath:"#/$defs/style-postback/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;{if(m.title!==void 0){const b=o;if(typeof m.title!="string")return Ht.errors=[{instancePath:t+"/button_items/"+g+"/title",schemaPath:"#/$defs/style-postback/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=b===o}else var u=!0;if(u){if(m.style!==void 0){const b=o;if(typeof m.style!="string")return Ht.errors=[{instancePath:t+"/button_items/"+g+"/style",schemaPath:"#/$defs/style-postback/properties/style/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=b===o}else var u=!0;if(u){if(m.postback!==void 0){const b=o;if(typeof m.postback!="string")return Ht.errors=[{instancePath:t+"/button_items/"+g+"/postback",schemaPath:"#/$defs/style-postback/properties/postback/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=b===o}else var u=!0;if(u)if(m.parameters!==void 0){let b=m.parameters;const T=o;if(!(b&&typeof b=="object"&&!Array.isArray(b)))return Ht.errors=[{instancePath:t+"/button_items/"+g+"/parameters",schemaPath:"#/$defs/style-postback/properties/parameters/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=T===o}else var u=!0}}}}else return Ht.errors=[{instancePath:t+"/button_items/"+g,schemaPath:"#/$defs/style-postback/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var l=y===o;if(!l)break}}}else return Ht.errors=[{instancePath:t+"/button_items",schemaPath:"#/properties/button_items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=f===o}else var a=!0}}}}}else return Ht.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ht.errors=s,o===0}function L(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;const a=o,c=o;let l=!0;const u=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let rt=e.type;if(typeof rt!="string"){const fe={};s===null?s=[fe]:s.push(fe),o++}if(rt!=="image"){const fe={};s===null?s=[fe]:s.push(fe),o++}}var p=u===o;if(o=c,s!==null&&(c?s.length=c:s=null),p){const rt=o,fe=o,ur=o;let It=!1;const yt=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let De;if(e.image_url===void 0&&(De="image_url")){const Be={instancePath:t,schemaPath:"#/$defs/message-image/anyOf/0/required",keyword:"required",params:{missingProperty:De},message:"must have required property '"+De+"'"};s===null?s=[Be]:s.push(Be),o++}}var d=yt===o;if(It=It||d,!It){const De=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let Te;if(e.thumbnail_url===void 0&&(Te="thumbnail_url")){const be={instancePath:t,schemaPath:"#/$defs/message-image/anyOf/1/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"};s===null?s=[be]:s.push(be),o++}}var d=De===o;It=It||d}if(It)o=ur,s!==null&&(ur?s.length=ur:s=null);else{const De={instancePath:t,schemaPath:"#/$defs/message-image/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[De]:s.push(De),o++,L.errors=s,!1}if(o===fe)if(e&&typeof e=="object"&&!Array.isArray(e)){let De;if(e.type===void 0&&(De="type"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-image/required",keyword:"required",params:{missingProperty:De},message:"must have required property '"+De+"'"}],!1;{const Be=o;for(const Te in e)if(!(Te==="type"||Te==="image_url"||Te==="thumbnail_url"||Te==="alt"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-image/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(Be===o){if(e.type!==void 0){let Te=e.type;const be=o;if(typeof Te!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-image/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Te!=="image")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-image/properties/type/const",keyword:"const",params:{allowedValue:"image"},message:"must be equal to constant"}],!1;var f=be===o}else var f=!0;if(f){if(e.image_url!==void 0){const Te=o;if(typeof e.image_url!="string")return L.errors=[{instancePath:t+"/image_url",schemaPath:"#/$defs/message-image/properties/image_url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Te===o}else var f=!0;if(f){if(e.thumbnail_url!==void 0){const Te=o;if(typeof e.thumbnail_url!="string")return L.errors=[{instancePath:t+"/thumbnail_url",schemaPath:"#/$defs/message-image/properties/thumbnail_url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Te===o}else var f=!0;if(f)if(e.alt!==void 0){const Te=o;if(typeof e.alt!="string")return L.errors=[{instancePath:t+"/alt",schemaPath:"#/$defs/message-image/properties/alt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Te===o}else var f=!0}}}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-image/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=rt===o;l=p}if(!l){const rt={instancePath:t,schemaPath:"#/allOf/0/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[rt]:s.push(rt),o++,L.errors=s,!1}var h=a===o;if(h){const rt=o,fe=o;let ur=!0;const It=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Mt=e.type;if(typeof Mt!="string"){const De={};s===null?s=[De]:s.push(De),o++}if(!(Mt==="youtubevideo"||Mt==="vimeovideo"||Mt==="filevideo")){const De={};s===null?s=[De]:s.push(De),o++}}var v=It===o;if(o=fe,s!==null&&(fe?s.length=fe:s=null),v){const Mt=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let Te;if(e.type===void 0&&(Te="type")||e.video_url===void 0&&(Te="video_url"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-video/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"}],!1;{const be=o;for(const Me in e)if(!(Me==="type"||Me==="video_url"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-video/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Me},message:"must NOT have additional properties"}],!1;if(be===o){if(e.type!==void 0){let Me=e.type;const Ae=o;if(typeof Me!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-video/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(Me==="youtubevideo"||Me==="vimeovideo"||Me==="filevideo"))return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-video/properties/type/enum",keyword:"enum",params:{allowedValues:DO.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var g=Ae===o}else var g=!0;if(g)if(e.video_url!==void 0){const Me=o;if(typeof e.video_url!="string")return L.errors=[{instancePath:t+"/video_url",schemaPath:"#/$defs/message-video/properties/video_url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=Me===o}else var g=!0}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-video/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var v=Mt===o;ur=v}if(!ur){const Mt={instancePath:t,schemaPath:"#/allOf/1/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Mt]:s.push(Mt),o++,L.errors=s,!1}var h=rt===o;if(h){const Mt=o,De=o;let Be=!0;const Te=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Me=e.type;if(typeof Me!="string"){const Ae={};s===null?s=[Ae]:s.push(Ae),o++}if(Me!=="audio"){const Ae={};s===null?s=[Ae]:s.push(Ae),o++}}var m=Te===o;if(o=De,s!==null&&(De?s.length=De:s=null),m){const Me=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let Rn;if(e.type===void 0&&(Rn="type")||e.audio_url===void 0&&(Rn="audio_url"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-audio/required",keyword:"required",params:{missingProperty:Rn},message:"must have required property '"+Rn+"'"}],!1;{const Cr=o;for(const et in e)if(!(et==="type"||et==="audio_url"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-audio/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:et},message:"must NOT have additional properties"}],!1;if(Cr===o){if(e.type!==void 0){let et=e.type;const z=o;if(typeof et!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-audio/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(et!=="audio")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-audio/properties/type/const",keyword:"const",params:{allowedValue:"audio"},message:"must be equal to constant"}],!1;var y=z===o}else var y=!0;if(y)if(e.audio_url!==void 0){const et=o;if(typeof e.audio_url!="string")return L.errors=[{instancePath:t+"/audio_url",schemaPath:"#/$defs/message-audio/properties/audio_url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=et===o}else var y=!0}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-audio/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=Me===o;Be=m}if(!Be){const Me={instancePath:t,schemaPath:"#/allOf/2/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Me]:s.push(Me),o++,L.errors=s,!1}var h=Mt===o;if(h){const Me=o,Ae=o;let Nn=!0;const Rn=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let et=e.type;if(typeof et!="string"){const z={};s===null?s=[z]:s.push(z),o++}if(et!=="buttons"){const z={};s===null?s=[z]:s.push(z),o++}}var S=Rn===o;if(o=Ae,s!==null&&(Ae?s.length=Ae:s=null),S){const et=o;Gt(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?Gt.errors:s.concat(Gt.errors),o=s.length);var S=et===o;Nn=S}if(!Nn){const et={instancePath:t,schemaPath:"#/allOf/3/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[et]:s.push(et),o++,L.errors=s,!1}var h=Me===o;if(h){const et=o,z=o;let V=!0;const Se=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Pe=e.type;if(typeof Pe!="string"){const We={};s===null?s=[We]:s.push(We),o++}if(Pe!=="quickreply"){const We={};s===null?s=[We]:s.push(We),o++}}var C=Se===o;if(o=z,s!==null&&(z?s.length=z:s=null),C){const Pe=o;Qt(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?Qt.errors:s.concat(Qt.errors),o=s.length);var C=Pe===o;V=C}if(!V){const Pe={instancePath:t,schemaPath:"#/allOf/4/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Pe]:s.push(Pe),o++,L.errors=s,!1}var h=et===o;if(h){const Pe=o,We=o;let Nt=!0;const St=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Ce=e.type;if(typeof Ce!="string"){const me={};s===null?s=[me]:s.push(me),o++}if(Ce!=="clickablelist"){const me={};s===null?s=[me]:s.push(me),o++}}var b=St===o;if(o=We,s!==null&&(We?s.length=We:s=null),b){const Ce=o;sr(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?sr.errors:s.concat(sr.errors),o=s.length);var b=Ce===o;Nt=b}if(!Nt){const Ce={instancePath:t,schemaPath:"#/allOf/5/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Ce]:s.push(Ce),o++,L.errors=s,!1}var h=Pe===o;if(h){const Ce=o,me=o;let at=!0;const Ve=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let tt=e.type;if(typeof tt!="string"){const Oe={};s===null?s=[Oe]:s.push(Oe),o++}if(tt!=="linkbuttons"){const Oe={};s===null?s=[Oe]:s.push(Oe),o++}}var T=Ve===o;if(o=me,s!==null&&(me?s.length=me:s=null),T){const tt=o;or(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var T=tt===o;at=T}if(!at){const tt={instancePath:t,schemaPath:"#/allOf/6/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[tt]:s.push(tt),o++,L.errors=s,!1}var h=Ce===o;if(h){const tt=o,Oe=o;let Ct=!0;const He=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Pt=e.type;if(typeof Pt!="string"){const Bt={};s===null?s=[Bt]:s.push(Bt),o++}if(Pt!=="table"){const Bt={};s===null?s=[Bt]:s.push(Bt),o++}}var _=He===o;if(o=Oe,s!==null&&(Oe?s.length=Oe:s=null),_){const Pt=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let wr;if(e.type===void 0&&(wr="type")||e.body===void 0&&(wr="body"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-table/required",keyword:"required",params:{missingProperty:wr},message:"must have required property '"+wr+"'"}],!1;{const dn=o;for(const ae in e)if(!(ae==="type"||ae==="title"||ae==="headers"||ae==="body"||ae==="footers"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-table/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ae},message:"must NOT have additional properties"}],!1;if(dn===o){if(e.type!==void 0){let ae=e.type;const Ne=o;if(typeof ae!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-table/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(ae!=="table")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-table/properties/type/const",keyword:"const",params:{allowedValue:"table"},message:"must be equal to constant"}],!1;var R=Ne===o}else var R=!0;if(R){if(e.title!==void 0){const ae=o;if(typeof e.title!="string")return L.errors=[{instancePath:t+"/title",schemaPath:"#/$defs/message-table/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=ae===o}else var R=!0;if(R){if(e.headers!==void 0){let ae=e.headers;const Ne=o;if(o===Ne)if(Array.isArray(ae)){var O=!0;const Xe=ae.length;for(let _t=0;_t<Xe;_t++){const he=o;if(typeof ae[_t]!="string")return L.errors=[{instancePath:t+"/headers/"+_t,schemaPath:"#/$defs/message-table/properties/headers/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=he===o;if(!O)break}}else return L.errors=[{instancePath:t+"/headers",schemaPath:"#/$defs/message-table/properties/headers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var R=Ne===o}else var R=!0;if(R){if(e.body!==void 0){let ae=e.body;const Ne=o;if(o===Ne)if(Array.isArray(ae)){if(ae.length<1)return L.errors=[{instancePath:t+"/body",schemaPath:"#/$defs/message-table/properties/body/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var D=!0;const Xe=ae.length;for(let _t=0;_t<Xe;_t++){let he=ae[_t];const Ke=o;if(o===Ke)if(Array.isArray(he)){if(he.length<1)return L.errors=[{instancePath:t+"/body/"+_t,schemaPath:"#/$defs/message-table/properties/body/items/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var $=!0;const jt=he.length;for(let Mr=0;Mr<jt;Mr++){const Kt=o;if(typeof he[Mr]!="string")return L.errors=[{instancePath:t+"/body/"+_t+"/"+Mr,schemaPath:"#/$defs/message-table/properties/body/items/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=Kt===o;if(!$)break}}}else return L.errors=[{instancePath:t+"/body/"+_t,schemaPath:"#/$defs/message-table/properties/body/items/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var D=Ke===o;if(!D)break}}}else return L.errors=[{instancePath:t+"/body",schemaPath:"#/$defs/message-table/properties/body/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var R=Ne===o}else var R=!0;if(R)if(e.footers!==void 0){let ae=e.footers;const Ne=o;if(o===Ne)if(Array.isArray(ae)){var W=!0;const Xe=ae.length;for(let _t=0;_t<Xe;_t++){const he=o;if(typeof ae[_t]!="string")return L.errors=[{instancePath:t+"/footers/"+_t,schemaPath:"#/$defs/message-table/properties/footers/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=he===o;if(!W)break}}else return L.errors=[{instancePath:t+"/footers",schemaPath:"#/$defs/message-table/properties/footers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var R=Ne===o}else var R=!0}}}}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-table/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var _=Pt===o;Ct=_}if(!Ct){const Pt={instancePath:t,schemaPath:"#/allOf/7/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Pt]:s.push(Pt),o++,L.errors=s,!1}var h=tt===o;if(h){const Pt=o,Bt=o;let pr=!0;const wr=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let ae=e.type;if(typeof ae!="string"){const Ne={};s===null?s=[Ne]:s.push(Ne),o++}if(ae!=="card"){const Ne={};s===null?s=[Ne]:s.push(Ne),o++}}var J=wr===o;if(o=Bt,s!==null&&(Bt?s.length=Bt:s=null),J){const ae=o;Ee(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?Ee.errors:s.concat(Ee.errors),o=s.length);var J=ae===o;pr=J}if(!pr){const ae={instancePath:t,schemaPath:"#/allOf/8/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[ae]:s.push(ae),o++,L.errors=s,!1}var h=Pt===o;if(h){const ae=o,Ne=o;let Ln=!0;const Xe=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let he=e.type;if(typeof he!="string"){const Ke={};s===null?s=[Ke]:s.push(Ke),o++}if(he!=="carousel"){const Ke={};s===null?s=[Ke]:s.push(Ke),o++}}var q=Xe===o;if(o=Ne,s!==null&&(Ne?s.length=Ne:s=null),q){const he=o;Sn(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?Sn.errors:s.concat(Sn.errors),o=s.length);var q=he===o;Ln=q}if(!Ln){const he={instancePath:t,schemaPath:"#/allOf/9/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[he]:s.push(he),o++,L.errors=s,!1}var h=ae===o;if(h){const he=o,Ke=o;let Lt=!0;const jt=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Kt=e.type;if(typeof Kt!="string"){const lt={};s===null?s=[lt]:s.push(lt),o++}if(Kt!=="combo"){const lt={};s===null?s=[lt]:s.push(lt),o++}}var Y=jt===o;if(o=Ke,s!==null&&(Ke?s.length=Ke:s=null),Y){const Kt=o;ti(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?ti.errors:s.concat(ti.errors),o=s.length);var Y=Kt===o;Lt=Y}if(!Lt){const Kt={instancePath:t,schemaPath:"#/allOf/10/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Kt]:s.push(Kt),o++,L.errors=s,!1}var h=he===o;if(h){const Kt=o,lt=o;let Et=!0;const rr=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Xn=e.type;if(typeof Xn!="string"){const vr={};s===null?s=[vr]:s.push(vr),o++}if(Xn!=="rating"){const vr={};s===null?s=[vr]:s.push(vr),o++}}var se=rr===o;if(o=lt,s!==null&&(lt?s.length=lt:s=null),se){const Xn=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let A;if(e.type===void 0&&(A="type")||e.title===void 0&&(A="title")||e.maxValue===void 0&&(A="maxValue")||e.commentsAllowed===void 0&&(A="commentsAllowed"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-rating/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const N=o;for(const j in e)if(!(j==="type"||j==="title"||j==="maxValue"||j==="commentsAllowed"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-rating/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:j},message:"must NOT have additional properties"}],!1;if(N===o){if(e.type!==void 0){let j=e.type;const K=o;if(typeof j!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-rating/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(j!=="rating")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-rating/properties/type/const",keyword:"const",params:{allowedValue:"rating"},message:"must be equal to constant"}],!1;var ee=K===o}else var ee=!0;if(ee){if(e.title!==void 0){const j=o;if(typeof e.title!="string")return L.errors=[{instancePath:t+"/title",schemaPath:"#/$defs/message-rating/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ee=j===o}else var ee=!0;if(ee){if(e.maxValue!==void 0){let j=e.maxValue;const K=o;if(typeof j!="object"&&typeof j!="string"&&!(typeof j=="number"&&isFinite(j))&&typeof j!="boolean")return L.errors=[{instancePath:t+"/maxValue",schemaPath:"#/$defs/message-rating/properties/maxValue/type",keyword:"type",params:{type:MO.properties.maxValue.type},message:"must be string,number,boolean,array,object,null"}],!1;var ee=K===o}else var ee=!0;if(ee)if(e.commentsAllowed!==void 0){const j=o;if(typeof e.commentsAllowed!="boolean")return L.errors=[{instancePath:t+"/commentsAllowed",schemaPath:"#/$defs/message-rating/properties/commentsAllowed/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var ee=j===o}else var ee=!0}}}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-rating/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var se=Xn===o;Et=se}if(!Et){const Xn={instancePath:t,schemaPath:"#/allOf/11/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Xn]:s.push(Xn),o++,L.errors=s,!1}var h=Kt===o;if(h){const Xn=o,vr=o;let F=!0;const A=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let j=e.type;if(typeof j!="string"){const K={};s===null?s=[K]:s.push(K),o++}if(j!=="text"){const K={};s===null?s=[K]:s.push(K),o++}}var I=A===o;if(o=vr,s!==null&&(vr?s.length=vr:s=null),I){const j=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let ke;if(e.type===void 0&&(ke="type")||e.text===void 0&&(ke="text"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-text/required",keyword:"required",params:{missingProperty:ke},message:"must have required property '"+ke+"'"}],!1;{const Qr=o;for(const ut in e)if(!(ut==="type"||ut==="text"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-text/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ut},message:"must NOT have additional properties"}],!1;if(Qr===o){if(e.type!==void 0){let ut=e.type;const br=o;if(typeof ut!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-text/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(ut!=="text")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-text/properties/type/const",keyword:"const",params:{allowedValue:"text"},message:"must be equal to constant"}],!1;var k=br===o}else var k=!0;if(k)if(e.text!==void 0){const ut=o;if(typeof e.text!="string")return L.errors=[{instancePath:t+"/text",schemaPath:"#/$defs/message-text/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=ut===o}else var k=!0}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-text/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I=j===o;F=I}if(!F){const j={instancePath:t,schemaPath:"#/allOf/12/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[j]:s.push(j),o++,L.errors=s,!1}var h=Xn===o;if(h){const j=o,K=o;let zt=!0;const ke=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let ut=e.type;if(typeof ut!="string"){const br={};s===null?s=[br]:s.push(br),o++}if(ut!=="system"){const br={};s===null?s=[br]:s.push(br),o++}}var G=ke===o;if(o=K,s!==null&&(K?s.length=K:s=null),G){const ut=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let is;if(e.type===void 0&&(is="type")||e.text===void 0&&(is="text"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-system/required",keyword:"required",params:{missingProperty:is},message:"must have required property '"+is+"'"}],!1;{const af=o;for(const _r in e)if(!(_r==="type"||_r==="text"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-system/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_r},message:"must NOT have additional properties"}],!1;if(af===o){if(e.type!==void 0){let _r=e.type;const vi=o;if(typeof _r!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-system/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_r!=="system")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-system/properties/type/const",keyword:"const",params:{allowedValue:"system"},message:"must be equal to constant"}],!1;var te=vi===o}else var te=!0;if(te)if(e.text!==void 0){const _r=o;if(typeof e.text!="string")return L.errors=[{instancePath:t+"/text",schemaPath:"#/$defs/message-system/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var te=_r===o}else var te=!0}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-system/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var G=ut===o;zt=G}if(!zt){const ut={instancePath:t,schemaPath:"#/allOf/13/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[ut]:s.push(ut),o++,L.errors=s,!1}var h=j===o;if(h){const ut=o,br=o;let Pr=!0;const is=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let _r=e.type;if(typeof _r!="string"){const vi={};s===null?s=[vi]:s.push(vi),o++}if(_r!=="modal"){const vi={};s===null?s=[vi]:s.push(vi),o++}}var M=is===o;if(o=br,s!==null&&(br?s.length=br:s=null),M){const _r=o;Ht(e,{instancePath:t,parentData:r,parentDataProperty:n,rootData:i})||(s=s===null?Ht.errors:s.concat(Ht.errors),o=s.length);var M=_r===o;Pr=M}if(!Pr){const _r={instancePath:t,schemaPath:"#/allOf/14/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[_r]:s.push(_r),o++,L.errors=s,!1}var h=ut===o;if(h){const _r=o,vi=o;let m1=!0;const pL=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let ss=e.type;if(typeof ss!="string"){const Oi={};s===null?s=[Oi]:s.push(Oi),o++}if(ss!=="linkpreview"){const Oi={};s===null?s=[Oi]:s.push(Oi),o++}}var oe=pL===o;if(o=vi,s!==null&&(vi?s.length=vi:s=null),oe){const ss=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let Jc;if(e.type===void 0&&(Jc="type"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-link-preview/required",keyword:"required",params:{missingProperty:Jc},message:"must have required property '"+Jc+"'"}],!1;{const dL=o;for(const wt in e)if(!(wt==="type"||wt==="title"||wt==="description"||wt==="url"||wt==="image"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-link-preview/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(dL===o){if(e.type!==void 0){let wt=e.type;const Zn=o;if(typeof wt!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-link-preview/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(wt!=="linkpreview")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-link-preview/properties/type/const",keyword:"const",params:{allowedValue:"linkpreview"},message:"must be equal to constant"}],!1;var de=Zn===o}else var de=!0;if(de){if(e.title!==void 0){const wt=o;if(typeof e.title!="string")return L.errors=[{instancePath:t+"/title",schemaPath:"#/$defs/message-link-preview/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var de=wt===o}else var de=!0;if(de){if(e.description!==void 0){const wt=o;if(typeof e.description!="string")return L.errors=[{instancePath:t+"/description",schemaPath:"#/$defs/message-link-preview/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var de=wt===o}else var de=!0;if(de){if(e.url!==void 0){const wt=o;if(typeof e.url!="string")return L.errors=[{instancePath:t+"/url",schemaPath:"#/$defs/message-link-preview/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var de=wt===o}else var de=!0;if(de)if(e.image!==void 0){const wt=o;if(typeof e.image!="string")return L.errors=[{instancePath:t+"/image",schemaPath:"#/$defs/message-link-preview/properties/image/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var de=wt===o}else var de=!0}}}}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-link-preview/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var oe=ss===o;m1=oe}if(!m1){const ss={instancePath:t,schemaPath:"#/allOf/15/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[ss]:s.push(ss),o++,L.errors=s,!1}var h=_r===o;if(h){const ss=o,Oi=o;let g1=!0;const Jc=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let wt=e.type;if(typeof wt!="string"){const Zn={};s===null?s=[Zn]:s.push(Zn),o++}if(wt!=="markdown"){const Zn={};s===null?s=[Zn]:s.push(Zn),o++}}var ne=Jc===o;if(o=Oi,s!==null&&(Oi?s.length=Oi:s=null),ne){const wt=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let Aa;if(e.type===void 0&&(Aa="type")||e.content===void 0&&(Aa="content"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-markdown/required",keyword:"required",params:{missingProperty:Aa},message:"must have required property '"+Aa+"'"}],!1;{const fL=o;for(const Jr in e)if(!(Jr==="type"||Jr==="content"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-markdown/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jr},message:"must NOT have additional properties"}],!1;if(fL===o){if(e.type!==void 0){let Jr=e.type;const Os=o;if(typeof Jr!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-markdown/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Jr!=="markdown")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-markdown/properties/type/const",keyword:"const",params:{allowedValue:"markdown"},message:"must be equal to constant"}],!1;var Re=Os===o}else var Re=!0;if(Re)if(e.content!==void 0){const Jr=o;if(typeof e.content!="string")return L.errors=[{instancePath:t+"/content",schemaPath:"#/$defs/message-markdown/properties/content/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Re=Jr===o}else var Re=!0}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-markdown/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var ne=wt===o;g1=ne}if(!g1){const wt={instancePath:t,schemaPath:"#/allOf/16/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[wt]:s.push(wt),o++,L.errors=s,!1}var h=ss===o;if(h){const wt=o,Zn=o;let y1=!0;const Aa=o;if(e&&typeof e=="object"&&!Array.isArray(e)&&e.type!==void 0){let Jr=e.type;if(typeof Jr!="string"){const Os={};s===null?s=[Os]:s.push(Os),o++}if(Jr!=="upload"){const Os={};s===null?s=[Os]:s.push(Os),o++}}var Qe=Aa===o;if(o=Zn,s!==null&&(Zn?s.length=Zn:s=null),Qe){const Jr=o;if(o===o)if(e&&typeof e=="object"&&!Array.isArray(e)){let Bg;if(e.type===void 0&&(Bg="type"))return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-upload/required",keyword:"required",params:{missingProperty:Bg},message:"must have required property '"+Bg+"'"}],!1;{const hL=o;for(const Xc in e)if(Xc!=="type")return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-upload/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xc},message:"must NOT have additional properties"}],!1;if(hL===o&&e.type!==void 0){let Xc=e.type;if(typeof Xc!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-upload/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Xc!=="upload")return L.errors=[{instancePath:t+"/type",schemaPath:"#/$defs/message-upload/properties/type/const",keyword:"const",params:{allowedValue:"upload"},message:"must be equal to constant"}],!1}}}else return L.errors=[{instancePath:t,schemaPath:"#/$defs/message-upload/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Qe=Jr===o;y1=Qe}if(!y1){const Jr={instancePath:t,schemaPath:"#/allOf/17/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[Jr]:s.push(Jr),o++,L.errors=s,!1}var h=wt===o}}}}}}}}}}}}}}}}}if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){let rt;if(e.type===void 0&&(rt="type"))return L.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;if(e.type!==void 0){let fe=e.type;if(typeof fe!="string")return L.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(fe==="image"||fe==="youtubevideo"||fe==="vimeovideo"||fe==="filevideo"||fe==="audio"||fe==="buttons"||fe==="quickreply"||fe==="clickablelist"||fe==="linkbuttons"||fe==="table"||fe==="card"||fe==="carousel"||fe==="combo"||fe==="rating"||fe==="text"||fe==="system"||fe==="modal"||fe==="form"||fe==="linkpreview"||fe==="markdown"||fe==="upload"))return L.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:WF.properties.type.enum},message:"must be equal to one of the allowed values"}],!1}}else return L.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return L.errors=s,o===0}const VF=({engineUrl:e,body:t,sessionId:r})=>{const n=OO(e,r),i=qF(t),s=new URLSearchParams(i).toString();return`${n}?stream&${s}`},NO=({body:e,includeInChat:t=!0,text:r})=>async(n,i)=>{const s=EO(i()),o=tF(i()),a=pF(i()),c=xO(i()),l=Kw({body:e,sessionId:s,xGatewaySession:o,baseUrl:a});if(e!==""&&t){const f=+new Date;n(fo({input:{text:r||e.userinput,timeStamp:f},type:"user",eventId:va()}))}n(zO(!0));const u=await Yw(l,n),p=+new Date,d=u.output.parameters.teneowebclient?JSON.parse(u.output.parameters.teneowebclient):null;return d&&!c.some(f=>f.type===d.type)&&!L(d)?n(Fa("An error occurred while attempting to parse the output message.")):(n(fo({...u,input:{text:null},output:{...u.output,timeStamp:p},type:"bot",eventId:va()})),n(Qw({output:{...u.output,timeStamp:p},type:"bot",timeStamp:p})),n(Gw({sessionId:u.sessionId})),u)},Tp=PO("chat/resetChat",async(e,{getState:t,rejectWithValue:r})=>{const n=t(),i=Kw({body:"",sessionId:n.chat.sessionId,xGatewaySession:n.chat.xGatewaySession,baseUrl:n.chat.settings.engineUrl,endpoint:"endsession"});try{const s=await Yw(i);return localStorage.removeItem("chat"),localStorage.removeItem("sessionId"),s}catch(s){return r(s.message)}}),lc=PO("chat/endSession",async(e,{getState:t,rejectWithValue:r})=>{const n=t(),i=Kw({body:n.chat,sessionId:n.chat.sessionId,xGatewaySession:n.chat.xGatewaySession,baseUrl:n.chat.settings.engineUrl,endpoint:"endsession"});try{const s=await Yw(i);return localStorage.removeItem("sessionId"),s}catch(s){return r(s.message)}}),YF=({body:e="",initialTimestamp:t=+new Date,includeInChat:r=!0,text:n})=>(i,s)=>{const o=s(),a=o.chat.sessionId,c=o.chat.xGatewaySession,l=o.chat.settings.customTypeMessages,u=new AbortController;function p(f){try{return JSON.parse(f)}catch(h){return i(Fa(`${h.message} Invalid format detected in the output parameter.`))}}if(e!==""&&r&&i(fo({input:{text:n||e.userinput,timeStamp:t},type:"user",eventId:va()})),!window.EventSource)return i(Fa("An error occurred while attempting to connect."));const d=c&&a?{"X-Teneo-Session":`JSESSIONID=${a}; ${c}`}:{};jF(VF({engineUrl:o.chat.settings.engineUrl,body:e,sessionId:a}),{method:"GET",headers:d,async onopen(f){const h=f.headers.get("x-gateway-session");if(h&&(localStorage.setItem("xGatewaySession",h),i(jO(h))),f.ok){i(QF(e)),i(zO(!0));return}},onmessage(f){const h=JSON.parse(f.data),v=h.output.parameters.teneowebclient?p(h.output.parameters.teneowebclient):null;if(f.event==="output"){if(v&&!l.some(y=>y.type===v.type)&&!L(v))return console.log("Invalid message:",v),L.errors&&console.error("Validation errors:",JSON.stringify(L.errors,null,2)),i(Fa("An error occurred while attempting to parse the output message."));const g=+new Date,m=f.id;i(fo({...h,eventId:m,input:{text:null},output:{...h.output,timeStamp:g},type:"bot"})),i(Qw({output:h.output,type:"bot",timeStamp:g}))}f.event==="final"&&(u.abort(),i(Gw({sessionId:h.sessionId}))),f.event==="FatalError"&&(u.abort(),i(Fa("FatalError")))},onerror(){u.abort(),i(Fa("SSE connection error"))}})},KF={fetchStatus:"idle",streamEventConnected:!1,streamEventError:null,chat:[],sessionId:null,settings:{},lastUserInput:null,lastBotOutput:null,error:null,newBotMessage:!1,activeCommunicationLayer:Vw,language:null},LO=K6({name:"chat",initialState:KF,reducers:{updateXGatewaySession(e,t){e.xGatewaySession=t.payload},streamEventConnected(e){e.streamEventConnected=!0},messageReceived(e,t){const r=t.payload.type==="bot";e.newBotMessage=r,e.chat=[...e.chat,t.payload]},finalEventReceived(e,t){var r;e.sessionId=IF({sessionIdFromState:e.sessionId,sessionIdFromPayload:(r=t.payload)==null?void 0:r.sessionId}),e.streamEventConnected=!1,e.isLoading=!1,localStorage.setItem("chat",JSON.stringify(e.chat)),localStorage.setItem("sessionId",e.sessionId)},streamEventErrorReceived(e,t){e.streamEventError=t.payload,e.streamEventConnected=!1,e.isLoading=!1,console.error(e.streamEventError)},lastBotOutputUpdated(e,t){e.lastBotOutput=t.payload},isLoadingUpdated(e,t){e.isLoading=t.payload},updateChatOutputParameters(e,t){const{eventId:r,...n}=t.payload;e.chat=e.chat.map(i=>i.eventId===r?{...i,output:{...i.output,parameters:{...i.output.parameters,...n}}}:i),localStorage.setItem("chat",JSON.stringify(e.chat))},newBotMessageUpdated(e,t){e.newBotMessage=t.payload},setChat(e,t){const r=t.payload,n=r.length?r[r.length-1].sessionId:null;localStorage.setItem("chat",JSON.stringify(r)),localStorage.setItem("sessionId",n),e.chat=r,e.sessionId=n},allowMultipleUserInputsUpdated(e,t){e.settings.allowMultipleUserInputs=t.payload},activeCommunicationLayerUpdated(e,t){e.activeCommunicationLayer=t.payload}},extraReducers:e=>{e.addCase(Tp.pending,t=>{t.fetchStatus="pending"}).addCase(Tp.fulfilled,t=>{t.fetchStatus="fulfilled",t.chat=[],t.sessionId=null,t.streamEventConnected=!1,t.error=null}).addCase(Tp.rejected,(t,r)=>{t.fetchStatus="rejected",t.error=r.payload}).addCase(lc.pending,t=>{t.fetchStatus="pending"}).addCase(lc.fulfilled,t=>{t.fetchStatus="fulfilled",t.sessionId=null,t.streamEventConnected=!1,t.error=null}).addCase(lc.rejected,(t,r)=>{t.fetchStatus="rejected",t.error=r.payload})}}),{finalEventReceived:Gw,messageReceived:fo,setChat:GF,streamEventConnected:QF,streamEventErrorReceived:Fa,lastBotOutputUpdated:Qw,updateXGatewaySession:jO,isLoadingUpdated:zO,updateChatOutputParameters:ed,newBotMessageUpdated:JF,allowMultipleUserInputsUpdated:XF,activeCommunicationLayerUpdated:$O}=LO.actions,ZF=LO.reducer;function e5({isUploading:e=!1,isDragReject:t=!1,isDragActive:r=!1,getInputProps:n=()=>({})}){return w.jsxs(w.Fragment,{children:[w.jsx("input",{...n()}),(r||e||t)&&w.jsxs("div",{className:`absolute inset-0 z-10 flex flex-col items-center justify-center 
                     bg-white/90 text-gray-900 dark:bg-asgray-800/90 dark:text-white`,role:"status","aria-live":"polite",children:[r&&!t&&w.jsx("p",{children:w.jsx(mt,{id:"tww_attach_dropzone_drop_files"})}),e&&w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("span",{className:"tww-upload-loading-ring"}),w.jsx("p",{children:w.jsx(mt,{id:"tww_attach_dropzone_uploading"})})]}),t&&w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx(sm,{fill:"red"}),w.jsx("p",{className:"p-2 text-error",children:w.jsx(mt,{id:"tww_attach_dropzone_invalid_files"})})]})]})]})}function FO({handleDelete:e}){return w.jsx("div",{role:"button",className:"absolute -top-1 -right-0.5 p-1 bg-red-600 rounded-full cursor-pointer",onClick:()=>e(),onKeyUp:t=>{(t.key==="Enter"||t.key===" ")&&e()},children:w.jsx(sm,{fill:"#e2e2e2",width:10,height:10})})}function t5({files:e=[],onDelete:t,isFullscreen:r}){const n=i=>{const{name:s,type:o,base64:a,preview:c}=i;return(o==null?void 0:o.startsWith("image"))>0||a!=null&&a.startsWith("data:image")?w.jsx("img",{src:a||c,alt:s,className:"w-auto h-full object-cover rounded-lg",onLoad:()=>URL.revokeObjectURL(c)}):o!=null&&o.startsWith("video")||a!=null&&a.startsWith("data:video")?w.jsxs("video",{className:"h-full object-cover rounded-lg w-auto bg-black",autoPlay:!0,children:[w.jsx("track",{kind:"captions"}),w.jsx("source",{src:a||c,type:"video/mp4",className:"w-auto h-full"}),w.jsx(mt,{id:"tww_attached_files_preview_video_unsupported_browser"})]}):w.jsx("div",{className:"w-full h-full object-cover rounded-lg dark:bg-gray-700 bg-gray-300 flex flex-col items-center justify-center",children:w.jsx(tO,{className:"h-10 w-10 dark:fill-gray-200 fill-gray-700"})})};return e.length>0&&w.jsxs("div",{className:"mt-auto flex flex-wrap-reverse gap-2 mb-2",children:[e.slice(0,r?10:4).map(i=>w.jsxs("div",{className:"w-14 h-14 cursor-pointer flex items-center justify-center rounded-lg relative group mt-auto",title:i.name,children:[w.jsx(FO,{handleDelete:()=>t(i)}),w.jsx("div",{className:"w-full h-full object-cover rounded-lg",children:n(i)}),w.jsx("span",{className:"text-xs truncate w-full text-center absolute bottom-0 bg-gray-200/90 dark:bg-asgray-800/90 px-1 font-light rounded-b-lg",children:i.name})]},i.preview)),e.length>(r?10:5)&&w.jsxs("div",{className:"w-14 h-14 flex items-center justify-center rounded-lg dark:bg-gray-700 bg-gray-200",children:[e.length-(r?10:5),"+"]})]})}const r5=(e,t)=>{const[r,n]=P.useState(0),[i,s]=P.useState(!1),o=P.useRef(0),a=P.useRef(!0),c=e.current,l=P.useCallback(()=>{if(i||!c)return;const u=t.length>2&&t[t.length-2].type==="user"&&t[t.length-2].input.text==="",p=document.getElementsByClassName("tww-chat-user-message-style"),d=p[p.length-1];if(d&&!u){const f=d==null?void 0:d.offsetTop;c.scrollTop=f-75;return}c.scrollTop=c.scrollHeight},[t,c,i]);return P.useEffect(()=>{const u=t.filter(p=>p.type==="user").length;u!==r&&(n(u),s(!1),l())},[t,r,l]),P.useEffect(()=>{if(!c)return;l();const u=()=>{a.current=!1,setTimeout(()=>{a.current=!0},10)},p=()=>{s(!0)},d=new MutationObserver(()=>{a.current&&(c.scrollHeight>o.current&&l(),o.current=c.scrollHeight)});return d.observe(c,{childList:!0,subtree:!0}),c.addEventListener("mousedown",u),c.addEventListener("click",u),c.addEventListener("wheel",p),()=>{d.disconnect(),c.removeEventListener("mousedown",u),c.removeEventListener("click",u),c.removeEventListener("wheel",p)}},[c,l]),null};function BO({audio_url:e}){return w.jsx("audio",{src:e,controls:!0,className:"tww-audio-message-type","data-testid":"audio-element",children:w.jsx("track",{kind:"captions"})})}function ci({style:e="primary",variant:t="contained",size:r="md",label:n,onClick:i=void 0,disabled:s=!1,parameters:o,...a}){const c={contained:"tww-button-variant-contained",badge:"tww-button-variant-badge"},l={xs:t==="badge"?"tww-badge-size-xs":"tww-button-size-xs",sm:t==="badge"?"tww-badge-size-sm":"tww-button-size-sm",md:t==="badge"?"tww-badge-size-md":"tww-button-size-md",lg:t==="badge"?"tww-badge-size-lg":"tww-button-size-lg"},u={xs:"tww-button-font-size-xs",sm:"tww-button-font-size-sm",md:"tww-button-font-size-md",lg:"tww-button-font-size-lg"};return w.jsx("span",{className:ue({"cursor-not-allowed":s}),children:w.jsx("button",{type:"button",className:`tww-button-container tww-button-generic-style tww-button-color-classes-${e} ${c[t]} ${l[r]} ${u[r]}`,onClick:i,disabled:s,...a,children:n})})}function n5({title:e,button_items:t=[],onClick:r,isLastMessage:n=!0}){return w.jsxs("div",{className:"w-full mx-auto flex flex-col items-start bg-white dark:bg-asgray-800 py-8 px-6 rounded-[14px]",children:[e&&w.jsx("div",{className:"text-lg font-title text-black dark:text-white mb-4",children:e}),w.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(i=>w.jsx(ci,{style:i.style,size:"lg",label:i.title,onClick:()=>r(i.postback,i.parameters),disabled:!n,parameters:i.parameters},i.title))})]})}function HO({title:e,button_items:t,eventId:r,isLastMessage:n,handleSendMessage:i}){var c,l;const s=ie(u=>Eo(u,r)),o=(l=(c=s==null?void 0:s.output)==null?void 0:c.parameters)==null?void 0:l.postback,a=(u,p)=>{i({...p,userinput:u},r)};return w.jsx("div",{className:ue({"opacity-50 cursor-not-allowed":o}),children:w.jsx("div",{className:ue({"pointer-events-none":o}),children:w.jsx(n5,{title:e,button_items:t,onClick:a,isLastMessage:n})})})}function Jw({title:e,linkbutton_items:t=[]}){const r=i=>{const s=i.target.closest("a");s&&s.classList.add("link-button-visited")},n=P.useMemo(()=>t.map(i=>({...i,id:va()})),[t]);return w.jsxs("div",{className:"tww-link-buttons-wrapper",children:[e&&w.jsx("div",{className:"font-title",children:e}),w.jsx("div",{className:"flex gap-5 flex-wrap overflow-hidden",children:n.map(i=>w.jsxs("div",{className:"relative",children:[w.jsx("a",{href:i.url,target:i.target,rel:i.target==="_blank"?"noopener noreferrer":void 0,className:"link-button",onClick:s=>r(s),children:w.jsx("span",{className:"max-w-32 truncate inline-block",children:i.title})}),w.jsx("span",{className:"absolute left-[-14px]",children:""})]},i.id))})]})}function UO({title:e,list_items:t,onClick:r,disabled:n}){const i=(s,o)=>{o.key==="Enter"&&r(s.postback,s.parameters)};return w.jsx("ul",{className:"tww-list-ul-wrapper",children:w.jsxs("li",{className:ue({"opacity-60 dark:opacity-50 cursor-not-allowed":n}),children:[e&&w.jsx("div",{className:"tww-list-title",children:e}),w.jsx("ul",{children:t.map(s=>w.jsx("li",{className:ue({"pointer-events-none":n}),onClick:()=>r(s.postback,s.parameters),onKeyDown:o=>i(s,o),children:w.jsx("a",{className:"tww-list-item-title",children:s.title})},s.postback))})]})})}function Xw({title:e,text:t,list_items:r,button_items:n,linkbutton_items:i,image:s,actions:o,eventId:a,subtitle:c,isLastMessage:l,handleSendMessage:u}){var h,v;const p=ie(g=>Eo(g,a)),d=(v=(h=p==null?void 0:p.output)==null?void 0:h.parameters)==null?void 0:v.postback,f=(g,m)=>{u({...m,userinput:g},a)};return w.jsxs("div",{className:"tww-card-wrapper",children:[(s==null?void 0:s.image_url)&&w.jsx("figure",{className:"tww-card-wrapper-image",children:w.jsx("img",{src:s.image_url,alt:s.alt,className:"tww-card-image"})}),w.jsx("div",{className:"card-body relative text-black dark:text-white bg-gray-300 dark:bg-asgray-700 rounded-b-xl !p-0",children:w.jsxs("div",{className:ue("card-content",{"mt-4":o!==void 0}),tabIndex:0,children:[w.jsx("div",{className:"card-title",children:e}),c&&w.jsx("div",{className:"card-subtitle",children:c}),t&&w.jsx("p",{"data-testid":"text-paragraph",className:"text-justify bg-gray-300 dark:bg-asgray-700",children:t}),w.jsx("div",{className:ue({"opacity-50 cursor-not-allowed":d}),children:w.jsxs("div",{className:ue({"pointer-events-none":d}),children:[i&&w.jsx("div",{className:"my-2 bg-gray-300 dark:bg-asgray-700",children:w.jsx(Jw,{linkbutton_items:i})}),r&&w.jsx(UO,{list_items:r,onClick:f,disabled:!l}),n&&w.jsx("div",{className:"card-actions justify-center",children:n.map((g,m)=>w.jsx(ci,{style:g.style,label:g.title,size:"sm",parameters:g.parameters,disabled:!l,onClick:()=>f(g.postback,g.parameters)},`button${m}`))})]})}),o]})})]})}function qO({slides:e,carousel_items:t,handleSendMessage:r,eventId:n,isLastMessage:i=!0}){const s=t||e,o=s.map(()=>P.useRef(null)),a=c=>{var l;return(l=o[c].current)==null?void 0:l.scrollIntoView({behavior:"smooth",block:"nearest"})};return w.jsx("div",{className:"tww-carousel-wrapper",children:s.map((c,l)=>w.jsx("div",{id:`slide${l+1}`,"data-testid":`slide${l+1}`,className:"carousel-item relative h-fit w-full rounded-xl overflow-hidden select-none",ref:o[l],children:w.jsx(Xw,{title:c.title,subtitle:c.subtitle,text:c.text,list_items:c.list_items,button_items:c.button_items,linkbutton_items:c.linkbutton_items,image:c.image,eventId:n,handleSendMessage:r,isLastMessage:i,actions:w.jsxs("div",{className:"tww-carousel-controls",children:[w.jsx("button",{type:"button",onClick:()=>a(l===0?s.length-1:l-1),className:"carousel-arrow","aria-label":"Previous",title:"Previous",role:"button",children:w.jsx(o$,{height:"12px",version:"1.1",viewBox:"0 0 9 12"})}),w.jsx("button",{type:"button",onClick:()=>a(l===s.length-1?0:l+1),className:"carousel-arrow","aria-label":"Next",title:"Next",role:"button",children:w.jsx(s$,{height:"12px",version:"1.1",viewBox:"0 0 9 12"})})]})})},`slide${l+1}`))})}function i5({file:e}){const{name:t,type:r,base64:n,preview:i}=e,s=()=>(r==null?void 0:r.startsWith("image"))>0||n!=null&&n.startsWith("data:image")?w.jsx("img",{src:n||i,alt:t,className:"w-auto h-full",onLoad:()=>URL.revokeObjectURL(i)}):r!=null&&r.startsWith("video")||n!=null&&n.startsWith("data:video")?w.jsxs("video",{className:"w-auto h-full bg-black",autoPlay:!0,children:[w.jsx("track",{kind:"captions"}),w.jsx("source",{src:n||i,type:"video/mp4",className:"w-auto h-full"}),w.jsx(mt,{id:"tww_file_upload_preview_video_unsupported_browser"})]}):w.jsx("div",{className:"h-full w-full dark:bg-gray-700 bg-gray-300 flex flex-col items-center justify-center",children:w.jsx(tO,{className:"h-10 w-10 dark:fill-gray-200 fill-gray-700"})});return w.jsx("div",{className:"w-full h-full",children:s()})}function WO({eventId:e}){const t=Po(),r=ie(_=>nF(_,e)),n=ie(_=>yF(_,e)),i=ie(kO),s=ie(IO),o=ie(AO),[a,c]=P.useState(r||[]),[l,u]=P.useState(!1),[p,d]=P.useState((r==null?void 0:r.length)>0),[f,h]=P.useState([]),v=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),{getRootProps:g,getInputProps:m,isDragActive:y,isDragReject:S}=jw({accept:i?_x(i):void 0,maxFiles:o,maxSize:s,noDrag:v,onDragEnter:_=>{_.stopPropagation()},onDrop:(_,R,O)=>{if(O&&O.stopPropagation(),h([]),R.length>0){const $=R.filter(W=>W.file.size>s);$.length>0&&h($)}const D=_.map($=>Object.assign($,{preview:URL.createObjectURL($)}));c(a!=null&&a.length?a.concat(D):D)},onFileDialogOpen:()=>h([])}),C=()=>{t(ed({eventId:e,isUploadCanceled:!0})),window.TeneoWebWidget.cancelClicked&&window.TeneoWebWidget.cancelClicked()},b=_=>{c(R=>R.filter(O=>O.preview!==_))},T=async()=>{try{const _=a,R=await Promise.all(_.map(async O=>({...O,base64:await bx(O)})));t(ed({eventId:e,files:JSON.parse(JSON.stringify(R)).map(O=>({path:O.path,preview:O.preview}))})),window.TeneoWebWidget.submitClicked&&window.TeneoWebWidget.submitClicked({files:JSON.parse(JSON.stringify(R))})}catch(_){window.TeneoWebWidget.submitClicked&&window.TeneoWebWidget.submitClicked({files:null,error:_})}};return Px({setIsFileUploading:_=>u(_),setFilesSubmitted:()=>d(!0),setUploadCanceled:()=>C()}),P.useEffect(()=>()=>{for(const _ of a)URL.revokeObjectURL(_.preview)},[a]),n?w.jsx("div",{className:"text-center border-2 border-dashed relative dark:bg-asgray-600 bg-white rounded border-asgray-200 bg-gray-200 mt-8 cursor-not-allowed",children:w.jsx("p",{className:"text-base p-8",children:w.jsx(mt,{id:"tww_file_upload_cancelled_upload"})})}):w.jsxs("div",{className:ue("tww-upload-wrapper z-20",{"!border-primary !bg-primary/10":y&&!S},{"border-2 border-dashed":!p},{"!border-error !bg-error/10 cursor-not-allowed":S}),children:[l&&w.jsxs("div",{className:"tww-upload-loading-wrapper",children:[w.jsx("span",{className:"tww-upload-loading-ring"}),w.jsx("p",{children:w.jsx(mt,{id:"tww_file_upload_uploading"})})]}),p?w.jsx("div",{className:"text-base pl-1",children:w.jsx(mt,{id:"tww_file_upload_files_submitted",values:{amount:a.length}})}):w.jsxs("div",{...g({className:"dropzone cursor-pointer text-center hover:text-primary outline-none dark:text-white text-asgray-800"}),children:[w.jsx("input",{...m()}),w.jsx("p",{className:"p-2",children:w.jsx(mt,{id:v?"tww_file_upload_add_files_mobile":"tww_file_upload_add_files_desktop"})}),S&&w.jsx("p",{className:"text-error p-2",children:w.jsx(mt,{id:"tww_file_upload_invalid_files"})}),f.length>0&&w.jsx("p",{className:"text-error p-2",children:w.jsx(mt,{id:"tww_file_upload_invalid_files_amount",values:{amount:f.length}})})]}),a.length>0&&w.jsx("div",{className:"flex flex-wrap overflow-auto p-2 max-h-66",tabIndex:-1,children:a==null?void 0:a.map(_=>w.jsxs("div",{className:"w-1/2 relative p-1 flex flex-col items-center justify-center h-32",children:[w.jsx("div",{className:"h-full w-full absolute p-1 flex items-center justify-center group outline-none",children:w.jsx("div",{className:" absolute bottom-0 p-1 w-full",children:w.jsx("p",{className:"text-left font-light w-full text-sm bg-black/70 transition-all p-1 truncate text-white",children:_.path})})}),!p&&w.jsx(FO,{handleDelete:()=>b(_.preview)}),w.jsx(i5,{file:_})]},_.preview))}),!p&&a.length>0&&w.jsxs("div",{className:"flex gap-2 justify-center items-center m-4",children:[w.jsx(ci,{label:"Submit",size:"sm",style:"primary",onClick:T}),w.jsx(ci,{label:"Reset",size:"sm",style:"secondary",onClick:()=>{c([])}}),w.jsx(ci,{label:"Cancel",size:"sm",style:"danger",onClick:()=>C()})]})]})}function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(e)}function s5(e,t){if(ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VO(e){var t=s5(e,"string");return ma(t)=="symbol"?t:t+""}function dp(e,t,r){return t=VO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){dp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o5(e){if(Array.isArray(e))return e}function a5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],c=!0,l=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function W0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YO(e,t){if(e){if(typeof e=="string")return W0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W0(e,t)}}function c5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gs(e,t){return o5(e)||a5(e,t)||YO(e,t)||c5()}function l5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Is(e,t){if(e==null)return{};var r=l5(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u5=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function p5(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,i=n===void 0?!1:n,s=e.defaultValue,o=s===void 0?null:s,a=e.inputValue,c=e.menuIsOpen,l=e.onChange,u=e.onInputChange,p=e.onMenuClose,d=e.onMenuOpen,f=e.value,h=Is(e,u5),v=P.useState(a!==void 0?a:r),g=gs(v,2),m=g[0],y=g[1],S=P.useState(c!==void 0?c:i),C=gs(S,2),b=C[0],T=C[1],_=P.useState(f!==void 0?f:o),R=gs(_,2),O=R[0],D=R[1],$=P.useCallback(function(I,k){typeof l=="function"&&l(I,k),D(I)},[l]),W=P.useCallback(function(I,k){var G;typeof u=="function"&&(G=u(I,k)),y(G!==void 0?G:I)},[u]),J=P.useCallback(function(){typeof d=="function"&&d(),T(!0)},[d]),q=P.useCallback(function(){typeof p=="function"&&p(),T(!1)},[p]),Y=a!==void 0?a:m,se=c!==void 0?c:b,ee=f!==void 0?f:O;return le(le({},h),{},{inputValue:Y,menuIsOpen:se,onChange:$,onInputChange:W,onMenuClose:q,onMenuOpen:J,value:ee})}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ve.apply(this,arguments)}function d5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VO(n.key),n)}}function f5(e,t,r){return t&&b_(e.prototype,t),r&&b_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(e,t)}function h5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function KO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KO=function(){return!!e})()}function v5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m5(e,t){if(t&&(ma(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v5(e)}function g5(e){var t=KO();return function(){var n=nv(e),i;if(t){var s=nv(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return m5(this,i)}}function y5(e){if(Array.isArray(e))return W0(e)}function S5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zw(e){return y5(e)||S5(e)||YO(e)||C5()}function w5(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function b5(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var P5=function(){function e(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(b5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=w5(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),on="-ms-",iv="-moz-",nt="-webkit-",GO="comm",eb="rule",tb="decl",_5="@import",QO="@keyframes",E5="@layer",R5=Math.abs,om=String.fromCharCode,T5=Object.assign;function k5(e,t){return Br(e,0)^45?(((t<<2^Br(e,0))<<2^Br(e,1))<<2^Br(e,2))<<2^Br(e,3):0}function JO(e){return e.trim()}function I5(e,t){return(e=t.exec(e))?e[0]:e}function it(e,t,r){return e.replace(t,r)}function Y0(e,t){return e.indexOf(t)}function Br(e,t){return e.charCodeAt(t)|0}function td(e,t,r){return e.slice(t,r)}function Fi(e){return e.length}function rb(e){return e.length}function Af(e,t){return t.push(e),e}function A5(e,t){return e.map(t).join("")}var am=1,_c=1,XO=0,Mn=0,fr=0,Uc="";function cm(e,t,r,n,i,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:am,column:_c,length:o,return:""}}function cl(e,t){return T5(cm("",null,null,"",null,null,0),e,{length:-e.length},t)}function x5(){return fr}function O5(){return fr=Mn>0?Br(Uc,--Mn):0,_c--,fr===10&&(_c=1,am--),fr}function qn(){return fr=Mn<XO?Br(Uc,Mn++):0,_c++,fr===10&&(_c=1,am++),fr}function Xi(){return Br(Uc,Mn)}function lh(){return Mn}function Nd(e,t){return td(Uc,e,t)}function rd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZO(e){return am=_c=1,XO=Fi(Uc=e),Mn=0,[]}function eD(e){return Uc="",e}function uh(e){return JO(Nd(Mn-1,K0(e===91?e+2:e===40?e+1:e)))}function D5(e){for(;(fr=Xi())&&fr<33;)qn();return rd(e)>2||rd(fr)>3?"":" "}function M5(e,t){for(;--t&&qn()&&!(fr<48||fr>102||fr>57&&fr<65||fr>70&&fr<97););return Nd(e,lh()+(t<6&&Xi()==32&&qn()==32))}function K0(e){for(;qn();)switch(fr){case e:return Mn;case 34:case 39:e!==34&&e!==39&&K0(fr);break;case 40:e===41&&K0(e);break;case 92:qn();break}return Mn}function N5(e,t){for(;qn()&&e+fr!==57;)if(e+fr===84&&Xi()===47)break;return"/*"+Nd(t,Mn-1)+"*"+om(e===47?e:qn())}function L5(e){for(;!rd(Xi());)qn();return Nd(e,Mn)}function j5(e){return eD(ph("",null,null,null,[""],e=ZO(e),0,[0],e))}function ph(e,t,r,n,i,s,o,a,c){for(var l=0,u=0,p=o,d=0,f=0,h=0,v=1,g=1,m=1,y=0,S="",C=i,b=s,T=n,_=S;g;)switch(h=y,y=qn()){case 40:if(h!=108&&Br(_,p-1)==58){Y0(_+=it(uh(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:_+=uh(y);break;case 9:case 10:case 13:case 32:_+=D5(h);break;case 92:_+=M5(lh()-1,7);continue;case 47:switch(Xi()){case 42:case 47:Af(z5(N5(qn(),lh()),t,r),c);break;default:_+="/"}break;case 123*v:a[l++]=Fi(_)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:m==-1&&(_=it(_,/\f/g,"")),f>0&&Fi(_)-p&&Af(f>32?__(_+";",n,r,p-1):__(it(_," ","")+";",n,r,p-2),c);break;case 59:_+=";";default:if(Af(T=P_(_,t,r,l,u,i,a,S,C=[],b=[],p),s),y===123)if(u===0)ph(_,t,T,T,C,s,p,a,b);else switch(d===99&&Br(_,3)===110?100:d){case 100:case 108:case 109:case 115:ph(e,T,T,n&&Af(P_(e,T,T,0,0,i,a,S,i,C=[],p),b),i,b,p,a,n?C:b);break;default:ph(_,T,T,T,[""],b,0,a,b)}}l=u=f=0,v=m=1,S=_="",p=o;break;case 58:p=1+Fi(_),f=h;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&O5()==125)continue}switch(_+=om(y),y*v){case 38:m=u>0?1:(_+="\f",-1);break;case 44:a[l++]=(Fi(_)-1)*m,m=1;break;case 64:Xi()===45&&(_+=uh(qn())),d=Xi(),u=p=Fi(S=_+=L5(lh())),y++;break;case 45:h===45&&Fi(_)==2&&(v=0)}}return s}function P_(e,t,r,n,i,s,o,a,c,l,u){for(var p=i-1,d=i===0?s:[""],f=rb(d),h=0,v=0,g=0;h<n;++h)for(var m=0,y=td(e,p+1,p=R5(v=o[h])),S=e;m<f;++m)(S=JO(v>0?d[m]+" "+y:it(y,/&\f/g,d[m])))&&(c[g++]=S);return cm(e,t,r,i===0?eb:a,c,l,u)}function z5(e,t,r){return cm(e,t,r,GO,om(x5()),td(e,2,-2),0)}function __(e,t,r,n){return cm(e,t,r,tb,td(e,0,n),td(e,n+1,-1),n)}function uc(e,t){for(var r="",n=rb(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function $5(e,t,r,n){switch(e.type){case E5:if(e.children.length)break;case _5:case tb:return e.return=e.return||e.value;case GO:return"";case QO:return e.return=e.value+"{"+uc(e.children,n)+"}";case eb:e.value=e.props.join(",")}return Fi(r=uc(e.children,n))?e.return=e.value+"{"+r+"}":""}function F5(e){var t=rb(e);return function(r,n,i,s){for(var o="",a=0;a<t;a++)o+=e[a](r,n,i,s)||"";return o}}function B5(e){return function(t){t.root||(t=t.return)&&e(t)}}function H5(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var U5=function(t,r,n){for(var i=0,s=0;i=s,s=Xi(),i===38&&s===12&&(r[n]=1),!rd(s);)qn();return Nd(t,Mn)},q5=function(t,r){var n=-1,i=44;do switch(rd(i)){case 0:i===38&&Xi()===12&&(r[n]=1),t[n]+=U5(Mn-1,r,n);break;case 2:t[n]+=uh(i);break;case 4:if(i===44){t[++n]=Xi()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=om(i)}while(i=qn());return t},W5=function(t,r){return eD(q5(ZO(t),r))},E_=new WeakMap,V5=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!E_.get(n))&&!i){E_.set(t,!0);for(var s=[],o=W5(r,s),a=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<a.length;u++,l++)t.props[l]=s[c]?o[c].replace(/&\f/g,a[u]):a[u]+" "+o[c]}}},Y5=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function tD(e,t){switch(k5(e,t)){case 5103:return nt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+e+iv+e+on+e+e;case 6828:case 4268:return nt+e+on+e+e;case 6165:return nt+e+on+"flex-"+e+e;case 5187:return nt+e+it(e,/(\w+).+(:[^]+)/,nt+"box-$1$2"+on+"flex-$1$2")+e;case 5443:return nt+e+on+"flex-item-"+it(e,/flex-|-self/,"")+e;case 4675:return nt+e+on+"flex-line-pack"+it(e,/align-content|flex-|-self/,"")+e;case 5548:return nt+e+on+it(e,"shrink","negative")+e;case 5292:return nt+e+on+it(e,"basis","preferred-size")+e;case 6060:return nt+"box-"+it(e,"-grow","")+nt+e+on+it(e,"grow","positive")+e;case 4554:return nt+it(e,/([^-])(transform)/g,"$1"+nt+"$2")+e;case 6187:return it(it(it(e,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),e,"")+e;case 5495:case 3959:return it(e,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return it(it(e,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+on+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+e+e;case 4095:case 3583:case 4068:case 2532:return it(e,/(.+)-inline(.+)/,nt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fi(e)-1-t>6)switch(Br(e,t+1)){case 109:if(Br(e,t+4)!==45)break;case 102:return it(e,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+iv+(Br(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Y0(e,"stretch")?tD(it(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Br(e,t+1)!==115)break;case 6444:switch(Br(e,Fi(e)-3-(~Y0(e,"!important")&&10))){case 107:return it(e,":",":"+nt)+e;case 101:return it(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(Br(e,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+on+"$2box$3")+e}break;case 5936:switch(Br(e,t+11)){case 114:return nt+e+on+it(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nt+e+on+it(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nt+e+on+it(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nt+e+on+e+e}return e}var K5=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case tb:t.return=tD(t.value,t.length);break;case QO:return uc([cl(t,{value:it(t.value,"@","@"+nt)})],i);case eb:if(t.length)return A5(t.props,function(s){switch(I5(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uc([cl(t,{props:[it(s,/:(read-\w+)/,":"+iv+"$1")]})],i);case"::placeholder":return uc([cl(t,{props:[it(s,/:(plac\w+)/,":"+nt+"input-$1")]}),cl(t,{props:[it(s,/:(plac\w+)/,":"+iv+"$1")]}),cl(t,{props:[it(s,/:(plac\w+)/,on+"input-$1")]})],i)}return""})}},G5=[K5],Q5=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||G5,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),m=1;m<g.length;m++)s[g[m]]=!0;a.push(v)});var c,l=[V5,Y5];{var u,p=[$5,B5(function(v){u.insert(v)})],d=F5(l.concat(i,p)),f=function(g){return uc(j5(g),d)};c=function(g,m,y,S){u=y,f(g?g+"{"+m.styles+"}":m.styles),S&&(h.inserted[m.name]=!0)}}var h={key:r,sheet:new P5({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:c};return h.sheet.hydrate(a),h},J5=!0;function X5(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var rD=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||J5===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Z5=function(t,r,n){rD(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function eB(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var tB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rB=/[A-Z]|^ms/g,nB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nD=function(t){return t.charCodeAt(1)===45},R_=function(t){return t!=null&&typeof t!="boolean"},ky=H5(function(e){return nD(e)?e:e.replace(rB,"-$&").toLowerCase()}),T_=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(nB,function(n,i,s){return Bi={name:i,styles:s,next:Bi},i})}return tB[t]!==1&&!nD(t)&&typeof r=="number"&&r!==0?r+"px":r};function nd(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Bi={name:r.name,styles:r.styles,next:Bi},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Bi={name:n.name,styles:n.styles,next:Bi},n=n.next;var i=r.styles+";";return i}return iB(e,t,r)}case"function":{if(e!==void 0){var s=Bi,o=r(e);return Bi=s,nd(e,t,o)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function iB(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=nd(e,t,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object")t!=null&&t[o]!==void 0?n+=s+"{"+t[o]+"}":R_(o)&&(n+=ky(s)+":"+T_(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)R_(o[a])&&(n+=ky(s)+":"+T_(s,o[a])+";");else{var c=nd(e,t,o);switch(s){case"animation":case"animationName":{n+=ky(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}return n}var k_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Bi,iD=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Bi=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=nd(n,r,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=nd(n,r,t[a]),i&&(s+=o[a]);k_.lastIndex=0;for(var c="",l;(l=k_.exec(s))!==null;)c+="-"+l[1];var u=eB(s)+c;return{name:u,styles:s,next:Bi}},sB=function(t){return t()},oB=IS.useInsertionEffect?IS.useInsertionEffect:!1,aB=oB||sB,nb={}.hasOwnProperty,sD=P.createContext(typeof HTMLElement<"u"?Q5({key:"css"}):null);sD.Provider;var cB=function(t){return P.forwardRef(function(r,n){var i=P.useContext(sD);return t(r,i,n)})},lB=P.createContext({}),G0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",uB=function(t,r){var n={};for(var i in r)nb.call(r,i)&&(n[i]=r[i]);return n[G0]=t,n},pB=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return rD(r,n,i),aB(function(){return Z5(r,n,i)}),null},dB=cB(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[G0],s=[n],o="";typeof e.className=="string"?o=X5(t.registered,s,e.className):e.className!=null&&(o=e.className+" ");var a=iD(s,void 0,P.useContext(lB));o+=t.key+"-"+a.name;var c={};for(var l in e)nb.call(e,l)&&l!=="css"&&l!==G0&&(c[l]=e[l]);return c.ref=r,c.className=o,P.createElement(P.Fragment,null,P.createElement(pB,{cache:t,serialized:a,isStringTag:typeof i=="string"}),P.createElement(i,c))}),fB=dB,ce=function(t,r){var n=arguments;if(r==null||!nb.call(r,"css"))return P.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=fB,s[1]=uB(t,r);for(var o=2;o<i;o++)s[o]=n[o];return P.createElement.apply(null,s)};function ib(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return iD(t)}var hB=function(){var t=ib.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function vB(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ec=Math.min,sa=Math.max,sv=Math.round,xf=Math.floor,ho=e=>({x:e,y:e}),mB={left:"right",right:"left",bottom:"top",top:"bottom"},gB={start:"end",end:"start"};function yB(e,t,r){return sa(e,Ec(t,r))}function lm(e,t){return typeof e=="function"?e(t):e}function Rc(e){return e.split("-")[0]}function Ld(e){return e.split("-")[1]}function SB(e){return e==="x"?"y":"x"}function sb(e){return e==="y"?"height":"width"}function ob(e){return["top","bottom"].includes(Rc(e))?"y":"x"}function ab(e){return SB(ob(e))}function CB(e,t,r){r===void 0&&(r=!1);const n=Ld(e),i=ab(e),s=sb(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=ov(o)),[o,ov(o)]}function wB(e){const t=ov(e);return[Q0(e),t,Q0(t)]}function Q0(e){return e.replace(/start|end/g,t=>gB[t])}function bB(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function PB(e,t,r,n){const i=Ld(e);let s=bB(Rc(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(Q0)))),s}function ov(e){return e.replace(/left|right|bottom|top/g,t=>mB[t])}function _B(e){return{top:0,right:0,bottom:0,left:0,...e}}function oD(e){return typeof e!="number"?_B(e):{top:e,right:e,bottom:e,left:e}}function av(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function I_(e,t,r){let{reference:n,floating:i}=e;const s=ob(t),o=ab(t),a=sb(o),c=Rc(t),l=s==="y",u=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,d=n[a]/2-i[a]/2;let f;switch(c){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:p};break;case"left":f={x:n.x-i.width,y:p};break;default:f={x:n.x,y:n.y}}switch(Ld(t)){case"start":f[o]-=d*(r&&l?-1:1);break;case"end":f[o]+=d*(r&&l?-1:1);break}return f}const EB=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:p}=I_(l,n,c),d=n,f={},h=0;for(let v=0;v<a.length;v++){const{name:g,fn:m}=a[v],{x:y,y:S,data:C,reset:b}=await m({x:u,y:p,initialPlacement:n,placement:d,strategy:i,middlewareData:f,rects:l,platform:o,elements:{reference:e,floating:t}});u=y??u,p=S??p,f={...f,[g]:{...f[g],...C}},b&&h<=50&&(h++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(l=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:u,y:p}=I_(l,d,c)),v=-1)}return{x:u,y:p,placement:d,strategy:i,middlewareData:f}};async function RB(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:d=!1,padding:f=0}=lm(t,e),h=oD(f),g=a[d?p==="floating"?"reference":"floating":p],m=av(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),y=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},b=av(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:c}):y);return{top:(m.top-b.top+h.top)/C.y,bottom:(b.bottom-m.bottom+h.bottom)/C.y,left:(m.left-b.left+h.left)/C.x,right:(b.right-m.right+h.right)/C.x}}const TB=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=lm(e,t)||{};if(l==null)return{};const p=oD(u),d={x:r,y:n},f=ab(i),h=sb(f),v=await o.getDimensions(l),g=f==="y",m=g?"top":"left",y=g?"bottom":"right",S=g?"clientHeight":"clientWidth",C=s.reference[h]+s.reference[f]-d[f]-s.floating[h],b=d[f]-s.reference[f],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let _=T?T[S]:0;(!_||!await(o.isElement==null?void 0:o.isElement(T)))&&(_=a.floating[S]||s.floating[h]);const R=C/2-b/2,O=_/2-v[h]/2-1,D=Ec(p[m],O),$=Ec(p[y],O),W=D,J=_-v[h]-$,q=_/2-v[h]/2+R,Y=yB(W,q,J),se=!c.arrow&&Ld(i)!=null&&q!==Y&&s.reference[h]/2-(q<W?D:$)-v[h]/2<0,ee=se?q<W?q-W:q-J:0;return{[f]:d[f]+ee,data:{[f]:Y,centerOffset:q-Y-ee,...se&&{alignmentOffset:ee}},reset:se}}}),kB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...g}=lm(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const m=Rc(i),y=Rc(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=d||(y||!v?[ov(a)]:wB(a));!d&&h!=="none"&&C.push(...PB(a,v,h,S));const b=[a,...C],T=await RB(t,g),_=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&_.push(T[m]),p){const W=CB(i,o,S);_.push(T[W[0]],T[W[1]])}if(R=[...R,{placement:i,overflows:_}],!_.every(W=>W<=0)){var O,D;const W=(((O=s.flip)==null?void 0:O.index)||0)+1,J=b[W];if(J)return{data:{index:W,overflows:R},reset:{placement:J}};let q=(D=R.filter(Y=>Y.overflows[0]<=0).sort((Y,se)=>Y.overflows[1]-se.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(f){case"bestFit":{var $;const Y=($=R.map(se=>[se.placement,se.overflows.filter(ee=>ee>0).reduce((ee,I)=>ee+I,0)]).sort((se,ee)=>se[1]-ee[1])[0])==null?void 0:$[0];Y&&(q=Y);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};async function IB(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Rc(r),a=Ld(r),c=ob(r)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,p=lm(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return a&&typeof h=="number"&&(f=a==="end"?h*-1:h),c?{x:f*u,y:d*l}:{x:d*l,y:f*u}}const AB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=t,c=await IB(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}};function qc(e){return aD(e)?(e.nodeName||"").toLowerCase():"#document"}function Wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function As(e){var t;return(t=(aD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aD(e){return e instanceof Node||e instanceof Wn(e).Node}function An(e){return e instanceof Element||e instanceof Wn(e).Element}function ns(e){return e instanceof HTMLElement||e instanceof Wn(e).HTMLElement}function A_(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wn(e).ShadowRoot}function jd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ri(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function xB(e){return["table","td","th"].includes(qc(e))}function cb(e){const t=lb(),r=Ri(e);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function OB(e){let t=vo(e);for(;ns(t)&&!Tc(t);){if(cb(t))return t;t=vo(t)}return null}function lb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tc(e){return["html","body","#document"].includes(qc(e))}function Ri(e){return Wn(e).getComputedStyle(e)}function um(e){return An(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function vo(e){if(qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||A_(e)&&e.host||As(e);return A_(t)?t.host:t}function cD(e){const t=vo(e);return Tc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ns(t)&&jd(t)?t:cD(t)}function id(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=cD(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=Wn(i);return s?t.concat(o,o.visualViewport||[],jd(i)?i:[],o.frameElement&&r?id(o.frameElement):[]):t.concat(i,id(i,[],r))}function lD(e){const t=Ri(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ns(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,a=sv(r)!==s||sv(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function ub(e){return An(e)?e:e.contextElement}function pc(e){const t=ub(e);if(!ns(t))return ho(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=lD(t);let o=(s?sv(r.width):r.width)/n,a=(s?sv(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const DB=ho(0);function uD(e){const t=Wn(e);return!lb()||!t.visualViewport?DB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MB(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Wn(e)?!1:t}function ga(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=ub(e);let o=ho(1);t&&(n?An(n)&&(o=pc(n)):o=pc(e));const a=MB(s,r,n)?uD(s):ho(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,p=i.height/o.y;if(s){const d=Wn(s),f=n&&An(n)?Wn(n):n;let h=d,v=h.frameElement;for(;v&&n&&f!==h;){const g=pc(v),m=v.getBoundingClientRect(),y=Ri(v),S=m.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,C=m.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,l*=g.y,u*=g.x,p*=g.y,c+=S,l+=C,h=Wn(v),v=h.frameElement}}return av({width:u,height:p,x:c,y:l})}const NB=[":popover-open",":modal"];function pb(e){return NB.some(t=>{try{return e.matches(t)}catch{return!1}})}function LB(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=As(n),a=t?pb(t.floating):!1;if(n===o||a&&s)return r;let c={scrollLeft:0,scrollTop:0},l=ho(1);const u=ho(0),p=ns(n);if((p||!p&&!s)&&((qc(n)!=="body"||jd(o))&&(c=um(n)),ns(n))){const d=ga(n);l=pc(n),u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x,y:r.y*l.y-c.scrollTop*l.y+u.y}}function jB(e){return Array.from(e.getClientRects())}function pD(e){return ga(As(e)).left+um(e).scrollLeft}function zB(e){const t=As(e),r=um(e),n=e.ownerDocument.body,i=sa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=sa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+pD(e);const a=-r.scrollTop;return Ri(n).direction==="rtl"&&(o+=sa(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function $B(e,t){const r=Wn(e),n=As(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=lb();(!l||l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function FB(e,t){const r=ga(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=ns(e)?pc(e):ho(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,c=i*s.x,l=n*s.y;return{width:o,height:a,x:c,y:l}}function x_(e,t,r){let n;if(t==="viewport")n=$B(e,r);else if(t==="document")n=zB(As(e));else if(An(t))n=FB(t,r);else{const i=uD(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return av(n)}function dD(e,t){const r=vo(e);return r===t||!An(r)||Tc(r)?!1:Ri(r).position==="fixed"||dD(r,t)}function BB(e,t){const r=t.get(e);if(r)return r;let n=id(e,[],!1).filter(a=>An(a)&&qc(a)!=="body"),i=null;const s=Ri(e).position==="fixed";let o=s?vo(e):e;for(;An(o)&&!Tc(o);){const a=Ri(o),c=cb(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||jd(o)&&!c&&dD(e,o))?n=n.filter(u=>u!==o):i=a,o=vo(o)}return t.set(e,n),n}function HB(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?pb(t)?[]:BB(t,this._c):[].concat(r),n],a=o[0],c=o.reduce((l,u)=>{const p=x_(t,u,i);return l.top=sa(p.top,l.top),l.right=Ec(p.right,l.right),l.bottom=Ec(p.bottom,l.bottom),l.left=sa(p.left,l.left),l},x_(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UB(e){const{width:t,height:r}=lD(e);return{width:t,height:r}}function qB(e,t,r){const n=ns(t),i=As(t),s=r==="fixed",o=ga(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const c=ho(0);if(n||!n&&!s)if((qc(t)!=="body"||jd(i))&&(a=um(t)),n){const p=ga(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=pD(i));const l=o.left+a.scrollLeft-c.x,u=o.top+a.scrollTop-c.y;return{x:l,y:u,width:o.width,height:o.height}}function Iy(e){return Ri(e).position==="static"}function O_(e,t){return!ns(e)||Ri(e).position==="fixed"?null:t?t(e):e.offsetParent}function fD(e,t){const r=Wn(e);if(pb(e))return r;if(!ns(e)){let i=vo(e);for(;i&&!Tc(i);){if(An(i)&&!Iy(i))return i;i=vo(i)}return r}let n=O_(e,t);for(;n&&xB(n)&&Iy(n);)n=O_(n,t);return n&&Tc(n)&&Iy(n)&&!cb(n)?r:n||OB(e)||r}const WB=async function(e){const t=this.getOffsetParent||fD,r=this.getDimensions,n=await r(e.floating);return{reference:qB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function VB(e){return Ri(e).direction==="rtl"}const hD={convertOffsetParentRelativeRectToViewportRelativeRect:LB,getDocumentElement:As,getClippingRect:HB,getOffsetParent:fD,getElementRects:WB,getClientRects:jB,getDimensions:UB,getScale:pc,isElement:An,isRTL:VB};function YB(e,t){let r=null,n;const i=As(e);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:l,top:u,width:p,height:d}=e.getBoundingClientRect();if(a||t(),!p||!d)return;const f=xf(u),h=xf(i.clientWidth-(l+p)),v=xf(i.clientHeight-(u+d)),g=xf(l),y={rootMargin:-f+"px "+-h+"px "+-v+"px "+-g+"px",threshold:sa(0,Ec(1,c))||1};let S=!0;function C(b){const T=b[0].intersectionRatio;if(T!==c){if(!S)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(C,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,y)}r.observe(e)}return o(!0),s}function vD(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=ub(e),u=i||s?[...l?id(l):[],...id(t)]:[];u.forEach(m=>{i&&m.addEventListener("scroll",r,{passive:!0}),s&&m.addEventListener("resize",r)});const p=l&&a?YB(l,r):null;let d=-1,f=null;o&&(f=new ResizeObserver(m=>{let[y]=m;y&&y.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(t)})),r()}),l&&!c&&f.observe(l),f.observe(t));let h,v=c?ga(e):null;c&&g();function g(){const m=ga(e);v&&(m.x!==v.x||m.y!==v.y||m.width!==v.width||m.height!==v.height)&&r(),v=m,h=requestAnimationFrame(g)}return r(),()=>{var m;u.forEach(y=>{i&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),p==null||p(),(m=f)==null||m.disconnect(),f=null,c&&cancelAnimationFrame(h)}}const KB=AB,GB=kB,D_=TB,QB=(e,t,r)=>{const n=new Map,i={platform:hD,...r},s={...i.platform,_c:n};return EB(e,t,{...i,platform:s})};var cv=P.useLayoutEffect,JB=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],lv=function(){};function XB(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function ZB(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&s.push("".concat(XB(e,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var M_=function(t){return c8(t)?t.filter(Boolean):ma(t)==="object"&&t!==null?[t]:[]},mD=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Is(t,JB);return le({},r)},Zt=function(t,r,n){var i=t.cx,s=t.getStyles,o=t.getClassNames,a=t.className;return{css:s(r,t),className:i(n??{},o(r,t),a)}};function pm(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function e8(e){return pm(e)?window.innerHeight:e.clientHeight}function gD(e){return pm(e)?window.pageYOffset:e.scrollTop}function uv(e,t){if(pm(e)){window.scrollTo(0,t);return}e.scrollTop=t}function t8(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function r8(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function Of(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:lv,i=gD(e),s=t-i,o=10,a=0;function c(){a+=o;var l=r8(a,i,s,r);uv(e,l),a<r?window.requestAnimationFrame(c):n(e)}c()}function N_(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=t.offsetHeight/3;n.bottom+i>r.bottom?uv(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):n.top-i<r.top&&uv(e,Math.max(t.offsetTop-i,0))}function n8(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function L_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function i8(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var yD=!1,s8={get passive(){return yD=!0}},Df=typeof window<"u"?window:{};Df.addEventListener&&Df.removeEventListener&&(Df.addEventListener("p",lv,s8),Df.removeEventListener("p",lv,!1));var o8=yD;function a8(e){return e!=null}function c8(e){return Array.isArray(e)}function Mf(e,t,r){return e?t:r}var l8=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=Object.entries(t).filter(function(o){var a=gs(o,1),c=a[0];return!n.includes(c)});return s.reduce(function(o,a){var c=gs(a,2),l=c[0],u=c[1];return o[l]=u,o},{})},u8=["children","innerProps"],p8=["children","innerProps"];function d8(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,i=e.placement,s=e.shouldScroll,o=e.isFixedPosition,a=e.controlHeight,c=t8(r),l={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return l;var u=c.getBoundingClientRect(),p=u.height,d=r.getBoundingClientRect(),f=d.bottom,h=d.height,v=d.top,g=r.offsetParent.getBoundingClientRect(),m=g.top,y=o?window.innerHeight:e8(c),S=gD(c),C=parseInt(getComputedStyle(r).marginBottom,10),b=parseInt(getComputedStyle(r).marginTop,10),T=m-b,_=y-v,R=T+S,O=p-S-v,D=f-y+S+C,$=S+v-b,W=160;switch(i){case"auto":case"bottom":if(_>=h)return{placement:"bottom",maxHeight:t};if(O>=h&&!o)return s&&Of(c,D,W),{placement:"bottom",maxHeight:t};if(!o&&O>=n||o&&_>=n){s&&Of(c,D,W);var J=o?_-C:O-C;return{placement:"bottom",maxHeight:J}}if(i==="auto"||o){var q=t,Y=o?T:R;return Y>=n&&(q=Math.min(Y-C-a,t)),{placement:"top",maxHeight:q}}if(i==="bottom")return s&&uv(c,D),{placement:"bottom",maxHeight:t};break;case"top":if(T>=h)return{placement:"top",maxHeight:t};if(R>=h&&!o)return s&&Of(c,$,W),{placement:"top",maxHeight:t};if(!o&&R>=n||o&&T>=n){var se=t;return(!o&&R>=n||o&&T>=n)&&(se=o?T-b:R-b),s&&Of(c,$,W),{placement:"top",maxHeight:se}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}function f8(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var SD=function(t){return t==="auto"?"bottom":t},h8=function(t,r){var n,i=t.placement,s=t.theme,o=s.borderRadius,a=s.spacing,c=s.colors;return le((n={label:"menu"},dp(n,f8(i),"100%"),dp(n,"position","absolute"),dp(n,"width","100%"),dp(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},CD=P.createContext(null),v8=function(t){var r=t.children,n=t.minMenuHeight,i=t.maxMenuHeight,s=t.menuPlacement,o=t.menuPosition,a=t.menuShouldScrollIntoView,c=t.theme,l=P.useContext(CD)||{},u=l.setPortalPlacement,p=P.useRef(null),d=P.useState(i),f=gs(d,2),h=f[0],v=f[1],g=P.useState(null),m=gs(g,2),y=m[0],S=m[1],C=c.spacing.controlHeight;return cv(function(){var b=p.current;if(b){var T=o==="fixed",_=a&&!T,R=d8({maxHeight:i,menuEl:b,minHeight:n,placement:s,shouldScroll:_,isFixedPosition:T,controlHeight:C});v(R.maxHeight),S(R.placement),u==null||u(R.placement)}},[i,s,o,a,n,u,C]),r({ref:p,placerProps:le(le({},t),{},{placement:y||SD(s),maxHeight:h})})},m8=function(t){var r=t.children,n=t.innerRef,i=t.innerProps;return ce("div",ve({},Zt(t,"menu",{menu:!0}),{ref:n},i),r)},g8=m8,y8=function(t,r){var n=t.maxHeight,i=t.theme.spacing.baseUnit;return le({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:i,paddingTop:i})},S8=function(t){var r=t.children,n=t.innerProps,i=t.innerRef,s=t.isMulti;return ce("div",ve({},Zt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},n),r)},wD=function(t,r){var n=t.theme,i=n.spacing.baseUnit,s=n.colors;return le({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},C8=wD,w8=wD,b8=function(t){var r=t.children,n=r===void 0?"No options":r,i=t.innerProps,s=Is(t,u8);return ce("div",ve({},Zt(le(le({},s),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},P8=function(t){var r=t.children,n=r===void 0?"Loading...":r,i=t.innerProps,s=Is(t,p8);return ce("div",ve({},Zt(le(le({},s),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},_8=function(t){var r=t.rect,n=t.offset,i=t.position;return{left:r.left,position:i,top:n,width:r.width,zIndex:1}},E8=function(t){var r=t.appendTo,n=t.children,i=t.controlElement,s=t.innerProps,o=t.menuPlacement,a=t.menuPosition,c=P.useRef(null),l=P.useRef(null),u=P.useState(SD(o)),p=gs(u,2),d=p[0],f=p[1],h=P.useMemo(function(){return{setPortalPlacement:f}},[]),v=P.useState(null),g=gs(v,2),m=g[0],y=g[1],S=P.useCallback(function(){if(i){var _=n8(i),R=a==="fixed"?0:window.pageYOffset,O=_[d]+R;(O!==(m==null?void 0:m.offset)||_.left!==(m==null?void 0:m.rect.left)||_.width!==(m==null?void 0:m.rect.width))&&y({offset:O,rect:_})}},[i,a,d,m==null?void 0:m.offset,m==null?void 0:m.rect.left,m==null?void 0:m.rect.width]);cv(function(){S()},[S]);var C=P.useCallback(function(){typeof l.current=="function"&&(l.current(),l.current=null),i&&c.current&&(l.current=vD(i,c.current,S,{elementResize:"ResizeObserver"in window}))},[i,S]);cv(function(){C()},[C]);var b=P.useCallback(function(_){c.current=_,C()},[C]);if(!r&&a!=="fixed"||!m)return null;var T=ce("div",ve({ref:b},Zt(le(le({},t),{},{offset:m.offset,position:a,rect:m.rect}),"menuPortal",{"menu-portal":!0}),s),n);return ce(CD.Provider,{value:h},r?$c.createPortal(T,r):T)},R8=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},T8=function(t){var r=t.children,n=t.innerProps,i=t.isDisabled,s=t.isRtl;return ce("div",ve({},Zt(t,"container",{"--is-disabled":i,"--is-rtl":s}),n),r)},k8=function(t,r){var n=t.theme.spacing,i=t.isMulti,s=t.hasValue,o=t.selectProps.controlShouldRenderValue;return le({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},I8=function(t){var r=t.children,n=t.innerProps,i=t.isMulti,s=t.hasValue;return ce("div",ve({},Zt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),n),r)},A8=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},x8=function(t){var r=t.children,n=t.innerProps;return ce("div",ve({},Zt(t,"indicatorsContainer",{indicators:!0}),n),r)},j_,O8=["size"],D8=["innerProps","isRtl","size"],M8={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},bD=function(t){var r=t.size,n=Is(t,O8);return ce("svg",ve({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:M8},n))},db=function(t){return ce(bD,ve({size:20},t),ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},PD=function(t){return ce(bD,ve({size:20},t),ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},_D=function(t,r){var n=t.isFocused,i=t.theme,s=i.spacing.baseUnit,o=i.colors;return le({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:s*2,":hover":{color:n?o.neutral80:o.neutral40}})},N8=_D,L8=function(t){var r=t.children,n=t.innerProps;return ce("div",ve({},Zt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||ce(PD,null))},j8=_D,z8=function(t){var r=t.children,n=t.innerProps;return ce("div",ve({},Zt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||ce(db,null))},$8=function(t,r){var n=t.isDisabled,i=t.theme,s=i.spacing.baseUnit,o=i.colors;return le({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},F8=function(t){var r=t.innerProps;return ce("span",ve({},r,Zt(t,"indicatorSeparator",{"indicator-separator":!0})))},B8=hB(j_||(j_=vB([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),H8=function(t,r){var n=t.isFocused,i=t.size,s=t.theme,o=s.colors,a=s.spacing.baseUnit;return le({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:a*2})},Ay=function(t){var r=t.delay,n=t.offset;return ce("span",{css:ib({animation:"".concat(B8," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},U8=function(t){var r=t.innerProps,n=t.isRtl,i=t.size,s=i===void 0?4:i,o=Is(t,D8);return ce("div",ve({},Zt(le(le({},o),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),ce(Ay,{delay:0,offset:n}),ce(Ay,{delay:160,offset:!0}),ce(Ay,{delay:320,offset:!n}))},q8=function(t,r){var n=t.isDisabled,i=t.isFocused,s=t.theme,o=s.colors,a=s.borderRadius,c=s.spacing;return le({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},W8=function(t){var r=t.children,n=t.isDisabled,i=t.isFocused,s=t.innerRef,o=t.innerProps,a=t.menuIsOpen;return ce("div",ve({ref:s},Zt(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":n||void 0}),r)},V8=W8,Y8=["data"],K8=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},G8=function(t){var r=t.children,n=t.cx,i=t.getStyles,s=t.getClassNames,o=t.Heading,a=t.headingProps,c=t.innerProps,l=t.label,u=t.theme,p=t.selectProps;return ce("div",ve({},Zt(t,"group",{group:!0}),c),ce(o,ve({},a,{selectProps:p,theme:u,getStyles:i,getClassNames:s,cx:n}),l),ce("div",null,r))},Q8=function(t,r){var n=t.theme,i=n.colors,s=n.spacing;return le({label:"group",cursor:"default",display:"block"},r?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},J8=function(t){var r=mD(t);r.data;var n=Is(r,Y8);return ce("div",ve({},Zt(t,"groupHeading",{"group-heading":!0}),n))},X8=G8,Z8=["innerRef","isDisabled","isHidden","inputClassName"],eH=function(t,r){var n=t.isDisabled,i=t.value,s=t.theme,o=s.spacing,a=s.colors;return le(le({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},tH),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},ED={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},tH={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":le({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ED)},rH=function(t){return le({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},ED)},nH=function(t){var r=t.cx,n=t.value,i=mD(t),s=i.innerRef,o=i.isDisabled,a=i.isHidden,c=i.inputClassName,l=Is(i,Z8);return ce("div",ve({},Zt(t,"input",{"input-container":!0}),{"data-value":n||""}),ce("input",ve({className:r({input:!0},c),ref:s,style:rH(a),disabled:o},l)))},iH=nH,sH=function(t,r){var n=t.theme,i=n.spacing,s=n.borderRadius,o=n.colors;return le({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},oH=function(t,r){var n=t.theme,i=n.borderRadius,s=n.colors,o=t.cropWithEllipsis;return le({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},aH=function(t,r){var n=t.theme,i=n.spacing,s=n.borderRadius,o=n.colors,a=t.isFocused;return le({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},RD=function(t){var r=t.children,n=t.innerProps;return ce("div",n,r)},cH=RD,lH=RD;function uH(e){var t=e.children,r=e.innerProps;return ce("div",ve({role:"button"},r),t||ce(db,{size:14}))}var pH=function(t){var r=t.children,n=t.components,i=t.data,s=t.innerProps,o=t.isDisabled,a=t.removeProps,c=t.selectProps,l=n.Container,u=n.Label,p=n.Remove;return ce(l,{data:i,innerProps:le(le({},Zt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:c},ce(u,{data:i,innerProps:le({},Zt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),ce(p,{data:i,innerProps:le(le({},Zt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},a),selectProps:c}))},dH=pH,fH=function(t,r){var n=t.isDisabled,i=t.isFocused,s=t.isSelected,o=t.theme,a=o.spacing,c=o.colors;return le({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:i?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},hH=function(t){var r=t.children,n=t.isDisabled,i=t.isFocused,s=t.isSelected,o=t.innerRef,a=t.innerProps;return ce("div",ve({},Zt(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":n},a),r)},vH=hH,mH=function(t,r){var n=t.theme,i=n.spacing,s=n.colors;return le({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},gH=function(t){var r=t.children,n=t.innerProps;return ce("div",ve({},Zt(t,"placeholder",{placeholder:!0}),n),r)},yH=gH,SH=function(t,r){var n=t.isDisabled,i=t.theme,s=i.spacing,o=i.colors;return le({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},CH=function(t){var r=t.children,n=t.isDisabled,i=t.innerProps;return ce("div",ve({},Zt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),r)},wH=CH,bH={ClearIndicator:z8,Control:V8,DropdownIndicator:L8,DownChevron:PD,CrossIcon:db,Group:X8,GroupHeading:J8,IndicatorsContainer:x8,IndicatorSeparator:F8,Input:iH,LoadingIndicator:U8,Menu:g8,MenuList:S8,MenuPortal:E8,LoadingMessage:P8,NoOptionsMessage:b8,MultiValue:dH,MultiValueContainer:cH,MultiValueLabel:lH,MultiValueRemove:uH,Option:vH,Placeholder:yH,SelectContainer:T8,SingleValue:wH,ValueContainer:I8},PH=function(t){return le(le({},bH),t.components)},z_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function _H(e,t){return!!(e===t||z_(e)&&z_(t))}function EH(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!_H(e[r],t[r]))return!1;return!0}function RH(e,t){t===void 0&&(t=EH);var r=null;function n(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;var o=e.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}var TH={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},kH=function(t){return ce("span",ve({css:TH},t))},$_=kH,IH={guidance:function(t){var r=t.isSearchable,n=t.isMulti,i=t.tabSelectsValue,s=t.context,o=t.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,i=n===void 0?"":n,s=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,i=t.options,s=t.label,o=s===void 0?"":s,a=t.selectValue,c=t.isDisabled,l=t.isSelected,u=t.isAppleDevice,p=function(v,g){return v&&v.length?"".concat(v.indexOf(g)+1," of ").concat(v.length):""};if(r==="value"&&a)return"value ".concat(o," focused, ").concat(p(a,n),".");if(r==="menu"&&u){var d=c?" disabled":"",f="".concat(l?" selected":"").concat(d);return"".concat(o).concat(f,", ").concat(p(i,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},AH=function(t){var r=t.ariaSelection,n=t.focusedOption,i=t.focusedValue,s=t.focusableOptions,o=t.isFocused,a=t.selectValue,c=t.selectProps,l=t.id,u=t.isAppleDevice,p=c.ariaLiveMessages,d=c.getOptionLabel,f=c.inputValue,h=c.isMulti,v=c.isOptionDisabled,g=c.isSearchable,m=c.menuIsOpen,y=c.options,S=c.screenReaderStatus,C=c.tabSelectsValue,b=c.isLoading,T=c["aria-label"],_=c["aria-live"],R=P.useMemo(function(){return le(le({},IH),p||{})},[p]),O=P.useMemo(function(){var Y="";if(r&&R.onChange){var se=r.option,ee=r.options,I=r.removedValue,k=r.removedValues,G=r.value,te=function(rt){return Array.isArray(rt)?null:rt},M=I||se||te(G),oe=M?d(M):"",de=ee||k||void 0,ne=de?de.map(d):[],Re=le({isDisabled:M&&v(M,a),label:oe,labels:ne},r);Y=R.onChange(Re)}return Y},[r,R,v,a,d]),D=P.useMemo(function(){var Y="",se=n||i,ee=!!(n&&a&&a.includes(n));if(se&&R.onFocus){var I={focused:se,label:d(se),isDisabled:v(se,a),isSelected:ee,options:s,context:se===n?"menu":"value",selectValue:a,isAppleDevice:u};Y=R.onFocus(I)}return Y},[n,i,d,v,R,s,a,u]),$=P.useMemo(function(){var Y="";if(m&&y.length&&!b&&R.onFilter){var se=S({count:s.length});Y=R.onFilter({inputValue:f,resultsMessage:se})}return Y},[s,f,m,R,y,S,b]),W=(r==null?void 0:r.action)==="initial-input-focus",J=P.useMemo(function(){var Y="";if(R.guidance){var se=i?"value":m?"menu":"input";Y=R.guidance({"aria-label":T,context:se,isDisabled:n&&v(n,a),isMulti:h,isSearchable:g,tabSelectsValue:C,isInitialFocus:W})}return Y},[T,n,i,h,v,g,m,R,a,C,W]),q=ce(P.Fragment,null,ce("span",{id:"aria-selection"},O),ce("span",{id:"aria-focused"},D),ce("span",{id:"aria-results"},$),ce("span",{id:"aria-guidance"},J));return ce(P.Fragment,null,ce($_,{id:l},W&&q),ce($_,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!W&&q))},xH=AH,J0=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],OH=new RegExp("["+J0.map(function(e){return e.letters}).join("")+"]","g"),TD={};for(var xy=0;xy<J0.length;xy++)for(var Oy=J0[xy],Dy=0;Dy<Oy.letters.length;Dy++)TD[Oy.letters[Dy]]=Oy.base;var kD=function(t){return t.replace(OH,function(r){return TD[r]})},DH=RH(kD),F_=function(t){return t.replace(/^\s+|\s+$/g,"")},MH=function(t){return"".concat(t.label," ").concat(t.value)},NH=function(t){return function(r,n){if(r.data.__isNew__)return!0;var i=le({ignoreCase:!0,ignoreAccents:!0,stringify:MH,trim:!0,matchFrom:"any"},t),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,c=i.trim,l=i.matchFrom,u=c?F_(n):n,p=c?F_(a(r)):a(r);return s&&(u=u.toLowerCase(),p=p.toLowerCase()),o&&(u=DH(u),p=kD(p)),l==="start"?p.substr(0,u.length)===u:p.indexOf(u)>-1}},LH=["innerRef"];function jH(e){var t=e.innerRef,r=Is(e,LH),n=l8(r,"onExited","in","enter","exit","appear");return ce("input",ve({ref:t},n,{css:ib({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var zH=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function $H(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,i=e.onTopArrive,s=e.onTopLeave,o=P.useRef(!1),a=P.useRef(!1),c=P.useRef(0),l=P.useRef(null),u=P.useCallback(function(g,m){if(l.current!==null){var y=l.current,S=y.scrollTop,C=y.scrollHeight,b=y.clientHeight,T=l.current,_=m>0,R=C-b-S,O=!1;R>m&&o.current&&(n&&n(g),o.current=!1),_&&a.current&&(s&&s(g),a.current=!1),_&&m>R?(r&&!o.current&&r(g),T.scrollTop=C,O=!0,o.current=!0):!_&&-m>S&&(i&&!a.current&&i(g),T.scrollTop=0,O=!0,a.current=!0),O&&zH(g)}},[r,n,i,s]),p=P.useCallback(function(g){u(g,g.deltaY)},[u]),d=P.useCallback(function(g){c.current=g.changedTouches[0].clientY},[]),f=P.useCallback(function(g){var m=c.current-g.changedTouches[0].clientY;u(g,m)},[u]),h=P.useCallback(function(g){if(g){var m=o8?{passive:!1}:!1;g.addEventListener("wheel",p,m),g.addEventListener("touchstart",d,m),g.addEventListener("touchmove",f,m)}},[f,d,p]),v=P.useCallback(function(g){g&&(g.removeEventListener("wheel",p,!1),g.removeEventListener("touchstart",d,!1),g.removeEventListener("touchmove",f,!1))},[f,d,p]);return P.useEffect(function(){if(t){var g=l.current;return h(g),function(){v(g)}}},[t,h,v]),function(g){l.current=g}}var B_=["boxSizing","height","overflow","paddingRight","position"],H_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function U_(e){e.preventDefault()}function q_(e){e.stopPropagation()}function W_(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function V_(){return"ontouchstart"in window||navigator.maxTouchPoints}var Y_=!!(typeof window<"u"&&window.document&&window.document.createElement),ll=0,Oa={capture:!1,passive:!1};function FH(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,i=P.useRef({}),s=P.useRef(null),o=P.useCallback(function(c){if(Y_){var l=document.body,u=l&&l.style;if(n&&B_.forEach(function(h){var v=u&&u[h];i.current[h]=v}),n&&ll<1){var p=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+p||0;Object.keys(H_).forEach(function(h){var v=H_[h];u&&(u[h]=v)}),u&&(u.paddingRight="".concat(f,"px"))}l&&V_()&&(l.addEventListener("touchmove",U_,Oa),c&&(c.addEventListener("touchstart",W_,Oa),c.addEventListener("touchmove",q_,Oa))),ll+=1}},[n]),a=P.useCallback(function(c){if(Y_){var l=document.body,u=l&&l.style;ll=Math.max(ll-1,0),n&&ll<1&&B_.forEach(function(p){var d=i.current[p];u&&(u[p]=d)}),l&&V_()&&(l.removeEventListener("touchmove",U_,Oa),c&&(c.removeEventListener("touchstart",W_,Oa),c.removeEventListener("touchmove",q_,Oa)))}},[n]);return P.useEffect(function(){if(t){var c=s.current;return o(c),function(){a(c)}}},[t,o,a]),function(c){s.current=c}}var BH=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},HH={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function UH(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,i=n===void 0?!0:n,s=e.onBottomArrive,o=e.onBottomLeave,a=e.onTopArrive,c=e.onTopLeave,l=$H({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:c}),u=FH({isEnabled:r}),p=function(f){l(f),u(f)};return ce(P.Fragment,null,r&&ce("div",{onClick:BH,css:HH}),t(p))}var qH={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},WH=function(t){var r=t.name,n=t.onFocus;return ce("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:qH,value:"",onChange:function(){}})},VH=WH;function fb(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function YH(){return fb(/^iPhone/i)}function ID(){return fb(/^Mac/i)}function KH(){return fb(/^iPad/i)||ID()&&navigator.maxTouchPoints>1}function GH(){return YH()||KH()}function QH(){return ID()||GH()}var JH=function(t){return t.label},XH=function(t){return t.label},ZH=function(t){return t.value},e9=function(t){return!!t.isDisabled},t9={clearIndicator:j8,container:R8,control:q8,dropdownIndicator:N8,group:K8,groupHeading:Q8,indicatorsContainer:A8,indicatorSeparator:$8,input:eH,loadingIndicator:H8,loadingMessage:w8,menu:h8,menuList:y8,menuPortal:_8,multiValue:sH,multiValueLabel:oH,multiValueRemove:aH,noOptionsMessage:C8,option:fH,placeholder:mH,singleValue:SH,valueContainer:k8},r9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},n9=4,AD=4,i9=38,s9=AD*2,o9={baseUnit:AD,controlHeight:i9,menuGutter:s9},My={borderRadius:n9,colors:r9,spacing:o9},a9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:L_(),captureMenuScroll:!L_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:NH(),formatGroupLabel:JH,getOptionLabel:XH,getOptionValue:ZH,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:e9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!i8(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function K_(e,t,r,n){var i=DD(e,t,r),s=MD(e,t,r),o=OD(e,t),a=pv(e,t);return{type:"option",data:t,isDisabled:i,isSelected:s,label:o,value:a,index:n}}function dh(e,t){return e.options.map(function(r,n){if("options"in r){var i=r.options.map(function(o,a){return K_(e,o,t,a)}).filter(function(o){return Q_(e,o)});return i.length>0?{type:"group",data:r,options:i,index:n}:void 0}var s=K_(e,r,t,n);return Q_(e,s)?s:void 0}).filter(a8)}function xD(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Zw(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function G_(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,Zw(n.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(n.index,"-").concat(i.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function c9(e,t){return xD(dh(e,t))}function Q_(e,t){var r=e.inputValue,n=r===void 0?"":r,i=t.data,s=t.isSelected,o=t.label,a=t.value;return(!LD(e)||!s)&&ND(e,{label:o,value:a,data:i},n)}function l9(e,t){var r=e.focusedValue,n=e.selectValue,i=n.indexOf(r);if(i>-1){var s=t.indexOf(r);if(s>-1)return r;if(i<t.length)return t[i]}return null}function u9(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var Ny=function(t,r){var n,i=(n=t.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return i||null},OD=function(t,r){return t.getOptionLabel(r)},pv=function(t,r){return t.getOptionValue(r)};function DD(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function MD(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=pv(e,t);return r.some(function(i){return pv(e,i)===n})}function ND(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var LD=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},p9=1,jD=function(e){h5(r,e);var t=g5(r);function r(n){var i;if(d5(this,r),i=t.call(this,n),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=QH(),i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,l){var u=i.props,p=u.onChange,d=u.name;l.name=d,i.ariaOnChange(c,l),p(c,l)},i.setValue=function(c,l,u){var p=i.props,d=p.closeMenuOnSelect,f=p.isMulti,h=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:h}),d&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:l,option:u})},i.selectOption=function(c){var l=i.props,u=l.blurInputOnSelect,p=l.isMulti,d=l.name,f=i.state.selectValue,h=p&&i.isOptionSelected(c,f),v=i.isOptionDisabled(c,f);if(h){var g=i.getOptionValue(c);i.setValue(f.filter(function(m){return i.getOptionValue(m)!==g}),"deselect-option",c)}else if(!v)p?i.setValue([].concat(Zw(f),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:d});return}u&&i.blurInput()},i.removeValue=function(c){var l=i.props.isMulti,u=i.state.selectValue,p=i.getOptionValue(c),d=u.filter(function(h){return i.getOptionValue(h)!==p}),f=Mf(l,d,d[0]||null);i.onChange(f,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(Mf(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],p=l.slice(0,l.length-1),d=Mf(c,p,p[0]||null);i.onChange(d,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(c){return Ny(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return G_(dh(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return ZB.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(c){return OD(i.props,c)},i.getOptionValue=function(c){return pv(i.props,c)},i.getStyles=function(c,l){var u=i.props.unstyled,p=t9[c](l,u);p.boxSizing="border-box";var d=i.props.styles[c];return d?d(p,l):p},i.getClassNames=function(c,l){var u,p;return(u=(p=i.props.classNames)[c])===null||u===void 0?void 0:u.call(p,l)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return PH(i.props)},i.buildCategorizedOptions=function(){return dh(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return xD(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,l){i.setState({ariaSelection:le({value:c},l)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,p=l.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&pm(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var l=c.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var l=c.touches,u=l&&l.item(0);if(u){var p=Math.abs(u.clientX-i.initialTouchX),d=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=p>f||d>f}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var l=i.props.inputValue,u=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var l=i.getFocusableOptions(),u=l.indexOf(c);i.setState({focusedOption:c,focusedOptionId:u>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return LD(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var l=i.props,u=l.isMulti,p=l.backspaceRemovesValue,d=l.escapeClearsValue,f=l.inputValue,h=l.isClearable,v=l.isDisabled,g=l.menuIsOpen,m=l.onKeyDown,y=l.tabSelectsValue,S=l.openMenuOnFocus,C=i.state,b=C.focusedOption,T=C.focusedValue,_=C.selectValue;if(!v&&!(typeof m=="function"&&(m(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(T)i.removeValue(T);else{if(!p)return;u?i.popValue():h&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!g||!y||!b||S&&i.isOptionSelected(b,_))return;i.selectOption(b);break;case"Enter":if(c.keyCode===229)break;if(g){if(!b||i.isComposing)return;i.selectOption(b);break}return;case"Escape":g?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):h&&d&&i.clearValue();break;case" ":if(f)return;if(!g){i.openMenu("first");break}if(!b)return;i.selectOption(b);break;case"ArrowUp":g?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":g?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!g)return;i.focusOption("pageup");break;case"PageDown":if(!g)return;i.focusOption("pagedown");break;case"Home":if(!g)return;i.focusOption("first");break;case"End":if(!g)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++p9),i.state.selectValue=M_(n.value),n.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=Ny(s,o[a])}return i}return f5(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&N_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,c=this.state.isFocused;(c&&!o&&i.isDisabled||c&&a&&!i.menuIsOpen)&&this.focusInput(),c&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(N_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,c=o.isFocused,l=this.buildFocusableOptions(),u=i==="first"?0:l.length-1;if(!this.props.isMulti){var p=l.indexOf(a[0]);p>-1&&(u=p)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[u],focusedOptionId:this.getFocusedOptionId(l[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(a);a||(c=-1);var l=o.length-1,u=-1;if(o.length){switch(i){case"previous":c===0?u=0:c===-1?u=l:u=c-1;break;case"next":c>-1&&c<l&&(u=c+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:o[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var c=0,l=a.indexOf(o);o||(l=-1),i==="up"?c=l>0?l-1:a.length-1:i==="down"?c=(l+1)%a.length:i==="pageup"?(c=l-s,c<0&&(c=0)):i==="pagedown"?(c=l+s,c>a.length-1&&(c=a.length-1)):i==="last"&&(c=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(My):le(le({},My),this.props.theme):My}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,c=this.getValue,l=this.selectOption,u=this.setValue,p=this.props,d=p.isMulti,f=p.isRtl,h=p.options,v=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:c,hasValue:v,isMulti:d,isRtl:f,options:h,selectOption:l,selectProps:p,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return DD(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return MD(this.props,i,s)}},{key:"filterOption",value:function(i,s){return ND(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,c=i.inputValue,l=i.tabIndex,u=i.form,p=i.menuIsOpen,d=i.required,f=this.getComponents(),h=f.Input,v=this.state,g=v.inputIsHidden,m=v.ariaSelection,y=this.commonProps,S=a||this.getElementId("input"),C=le(le(le({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(m==null?void 0:m.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?P.createElement(h,ve({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:u,type:"text",value:c},C)):P.createElement(jH,ve({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:lv,onFocus:this.onInputFocus,disabled:s,tabIndex:l,inputMode:"none",form:u,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,c=s.MultiValueLabel,l=s.MultiValueRemove,u=s.SingleValue,p=s.Placeholder,d=this.commonProps,f=this.props,h=f.controlShouldRenderValue,v=f.isDisabled,g=f.isMulti,m=f.inputValue,y=f.placeholder,S=this.state,C=S.selectValue,b=S.focusedValue,T=S.isFocused;if(!this.hasValue()||!h)return m?null:P.createElement(p,ve({},d,{key:"placeholder",isDisabled:v,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return C.map(function(R,O){var D=R===b,$="".concat(i.getOptionLabel(R),"-").concat(i.getOptionValue(R));return P.createElement(o,ve({},d,{components:{Container:a,Label:c,Remove:l},isFocused:D,isDisabled:v,key:$,index:O,removeProps:{onClick:function(){return i.removeValue(R)},onTouchEnd:function(){return i.removeValue(R)},onMouseDown:function(J){J.preventDefault()}},data:R}),i.formatOptionLabel(R,"value"))});if(m)return null;var _=C[0];return P.createElement(u,ve({},d,{data:_,isDisabled:v}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,c=a.isDisabled,l=a.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||l)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return P.createElement(s,ve({},o,{innerProps:p,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,c=a.isDisabled,l=a.isLoading,u=this.state.isFocused;if(!s||!l)return null;var p={"aria-hidden":"true"};return P.createElement(s,ve({},o,{innerProps:p,isDisabled:c,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused;return P.createElement(o,ve({},a,{isDisabled:c,isFocused:l}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return P.createElement(s,ve({},o,{innerProps:l,isDisabled:a,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,c=s.Menu,l=s.MenuList,u=s.MenuPortal,p=s.LoadingMessage,d=s.NoOptionsMessage,f=s.Option,h=this.commonProps,v=this.state.focusedOption,g=this.props,m=g.captureMenuScroll,y=g.inputValue,S=g.isLoading,C=g.loadingMessage,b=g.minMenuHeight,T=g.maxMenuHeight,_=g.menuIsOpen,R=g.menuPlacement,O=g.menuPosition,D=g.menuPortalTarget,$=g.menuShouldBlockScroll,W=g.menuShouldScrollIntoView,J=g.noOptionsMessage,q=g.onMenuScrollToTop,Y=g.onMenuScrollToBottom;if(!_)return null;var se=function(oe,de){var ne=oe.type,Re=oe.data,Qe=oe.isDisabled,rt=oe.isSelected,fe=oe.label,ur=oe.value,It=v===Re,yt=Qe?void 0:function(){return i.onOptionHover(Re)},Mt=Qe?void 0:function(){return i.selectOption(Re)},De="".concat(i.getElementId("option"),"-").concat(de),Be={id:De,onClick:Mt,onMouseMove:yt,onMouseOver:yt,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:rt};return P.createElement(f,ve({},h,{innerProps:Be,data:Re,isDisabled:Qe,isSelected:rt,key:De,label:fe,type:ne,value:ur,isFocused:It,innerRef:It?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(oe.data,"menu"))},ee;if(this.hasOptions())ee=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var oe=M.data,de=M.options,ne=M.index,Re="".concat(i.getElementId("group"),"-").concat(ne),Qe="".concat(Re,"-heading");return P.createElement(o,ve({},h,{key:Re,data:oe,options:de,Heading:a,headingProps:{id:Qe,data:M.data},label:i.formatGroupLabel(M.data)}),M.options.map(function(rt){return se(rt,"".concat(ne,"-").concat(rt.index))}))}else if(M.type==="option")return se(M,"".concat(M.index))});else if(S){var I=C({inputValue:y});if(I===null)return null;ee=P.createElement(p,h,I)}else{var k=J({inputValue:y});if(k===null)return null;ee=P.createElement(d,h,k)}var G={minMenuHeight:b,maxMenuHeight:T,menuPlacement:R,menuPosition:O,menuShouldScrollIntoView:W},te=P.createElement(v8,ve({},h,G),function(M){var oe=M.ref,de=M.placerProps,ne=de.placement,Re=de.maxHeight;return P.createElement(c,ve({},h,G,{innerRef:oe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:S,placement:ne}),P.createElement(UH,{captureEnabled:m,onTopArrive:q,onBottomArrive:Y,lockEnabled:$},function(Qe){return P.createElement(l,ve({},h,{innerRef:function(fe){i.getMenuListRef(fe),Qe(fe)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:i.getElementId("listbox")},isLoading:S,maxHeight:Re,focusedOption:v}),ee)}))});return D||O==="fixed"?P.createElement(u,ve({},h,{appendTo:D,controlElement:this.controlRef,menuPlacement:R,menuPosition:O}),te):te}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,c=s.isMulti,l=s.name,u=s.required,p=this.state.selectValue;if(u&&!this.hasValue()&&!a)return P.createElement(VH,{name:l,onFocus:this.onValueInputFocus});if(!(!l||a))if(c)if(o){var d=p.map(function(v){return i.getOptionValue(v)}).join(o);return P.createElement("input",{name:l,type:"hidden",value:d})}else{var f=p.length>0?p.map(function(v,g){return P.createElement("input",{key:"i-".concat(g),name:l,type:"hidden",value:i.getOptionValue(v)})}):P.createElement("input",{name:l,type:"hidden",value:""});return P.createElement("div",null,f)}else{var h=p[0]?this.getOptionValue(p[0]):"";return P.createElement("input",{name:l,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,c=s.focusedValue,l=s.isFocused,u=s.selectValue,p=this.getFocusableOptions();return P.createElement(xH,ve({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:c,isFocused:l,selectValue:u,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,c=i.ValueContainer,l=this.props,u=l.className,p=l.id,d=l.isDisabled,f=l.menuIsOpen,h=this.state.isFocused,v=this.commonProps=this.getCommonProps();return P.createElement(a,ve({},v,{className:u,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:h}),this.renderLiveRegion(),P.createElement(s,ve({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:h,menuIsOpen:f}),P.createElement(c,ve({},v,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),P.createElement(o,ve({},v,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,l=s.ariaSelection,u=s.isFocused,p=s.prevWasFocused,d=s.instancePrefix,f=i.options,h=i.value,v=i.menuIsOpen,g=i.inputValue,m=i.isMulti,y=M_(h),S={};if(o&&(h!==o.value||f!==o.options||v!==o.menuIsOpen||g!==o.inputValue)){var C=v?c9(i,y):[],b=v?G_(dh(i,y),"".concat(d,"-option")):[],T=a?l9(s,y):null,_=u9(s,C),R=Ny(b,_);S={selectValue:y,focusedOption:_,focusedOptionId:R,focusableOptionsWithIds:b,focusedValue:T,clearFocusValueOnUpdate:!1}}var O=c!=null&&i!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},D=l,$=u&&p;return u&&!$&&(D={value:Mf(m,y,y[0]||null),options:y,action:"initial-input-focus"},$=!p),(l==null?void 0:l.action)==="initial-input-focus"&&(D=null),le(le(le({},S),O),{},{prevProps:i,ariaSelection:D,prevWasFocused:$})}}]),r}(P.Component);jD.defaultProps=a9;var d9=P.forwardRef(function(e,t){var r=p5(e);return P.createElement(jD,ve({ref:t},r))}),f9=d9;function h9({label:e,options:t,attributes:r={}}){const[n,i]=P.useState(r.defaultValue),s=({label:o,value:a})=>{i({label:o,value:a}),r.onChange&&r.onChange({label:o,value:a})};return P.useEffect(()=>{i(r.defaultValue)},[r.defaultValue]),w.jsxs("div",{className:"flex flex-col space-y-1 max-w-lg relative",children:[w.jsxs("p",{className:"max-w-full break-words",children:[e,r.required&&w.jsx("span",{children:" *"})]}),w.jsx(f9,{...r,menuPlacement:"auto",className:`min-w-40 w-full ${r.className}`,"aria-label":e,options:t.map(({text:o,attributes:a})=>({label:o,value:o,isDisabled:a==null?void 0:a.disabled})),value:n,onChange:s,styles:{control:(o,a)=>({...o,outline:a.isFocused&&"grey",outlineWidth:"2px",outlineOffset:a.isFocused&&"2px",outlineStyle:a.isFocused&&"solid",transition:"none"})},classNames:{control:()=>"dark:!bg-asgray dark:!text-white dark:hover:bg-asgray-50 !shadow-none !border-[#d4d6d8] dark:!border-none dark:!bg-asgray-800 !outline-[#d4d6d8] dark:!outline-gray-600 !rounded-lg",menu:()=>"dark:!bg-asgray dark:!text-white dark:hover:bg-asgray-50 break-words",option:({isFocused:o,isSelected:a})=>` ${a&&"!bg-asgray-500 dark:!bg-asgray-300"} ${o&&!a&&"!bg-asgray-50/50 dark:!bg-asgray-400/50"}`,singleValue:()=>"dark:!text-white !bg-white !text-black !z-10 dark:!bg-asgray-800 dark:!text-white",multiValue:()=>"dark:!bg-asgray-300 dark:!text-white",multiValueLabel:()=>"dark:!text-white",multiValueRemove:()=>"!bg-transparent",clearIndicator:()=>"dark:hover:!text-white",dropdownIndicator:()=>"dark:hover:!text-white",indicatorsContainer:()=>"!text-white",input:()=>"break-words !bg-white !text-black dark:!bg-asgray-800 dark:!text-white !w-full !-ml-1",placeholder:()=>"!bg-white !text-asgray-300 !z-10 dark:!bg-asgray-800 dark:!text-asgray-50"}})]})}const hb=(e,{required:t=!1,pattern:r=null},n=200)=>{const[i,s]=P.useState(!1),[o,a]=P.useState(!1);return P.useEffect(()=>{if(o){const l=setTimeout(()=>{let u=!1;if(r)try{new RegExp(r).test(e)||(u=!0)}catch(p){console.error("Invalid RegExp pattern:",p),u=!0}t&&(!e||e.toString().trim()==="")&&(u=!0),s(u)},n);return()=>clearTimeout(l)}},[e,t,r,o,n]),[i,()=>{a(!0)}]};function v9({label:e,attributes:t={},text:r}){const[n,i]=P.useState(r||""),[s,o]=hb(n,{required:t.required}),a=c=>{i(c.target.value),t.onChange&&t.onChange(c)};return w.jsxs("div",{className:"flex flex-col space-y-1",children:[e&&w.jsxs("label",{htmlFor:t.id,className:"max-w-full break-words",children:[e,t.required&&w.jsx("span",{children:" *"})]}),w.jsx("div",{className:ue("textarea-container",{"error-border":s}),children:w.jsx("textarea",{...t,className:ue("textarea textarea-bordered w-full bg-white dark:bg-asgray-800 border-none",t.className,{"error-border":s}),onBlur:o,"aria-required":t.required,"aria-invalid":s,"aria-label":e,value:n,onChange:a})}),s&&w.jsx("span",{className:"error-text",children:t.title||w.jsx(mt,{id:"tww_textarea_required"})})]})}function m9({text:e}){return w.jsx("p",{className:"text-center",children:e})}function g9({text:e,action:t,onClick:r,style:n}){const i=s=>{r&&(s.preventDefault(),r())};return w.jsx(ci,{style:n||"primary",label:e,onClick:i,type:t})}function y9({label:e,attributes:t={}}){const[r,n]=P.useState(t.defaultValue),i=s=>{n(s.target.checked),t.onChange&&t.onChange({label:e,value:s.target.checked})};return w.jsx("div",{className:"inline-block",children:w.jsxs("label",{className:"label cursor-pointer flex gap-2 items-start",children:[w.jsx("span",{className:"label-text text-black dark:text-white",children:e}),w.jsx("input",{...t,type:"checkbox",className:"checkbox checkbox-sm border-asgray-300 dark:border-asgray-300",value:r,onChange:i})]})})}function dm(){return(dm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zD(e,t){if(e==null)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)t.indexOf(r=s[n])>=0||(i[r]=e[r]);return i}function X0(e){var t=P.useRef(e),r=P.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var sd=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},kp=function(e){return"touches"in e},Z0=function(e){return e&&e.ownerDocument.defaultView||self},J_=function(e,t,r){var n=e.getBoundingClientRect(),i=kp(t)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(t.touches,r):t;return{left:sd((i.pageX-(n.left+Z0(e).pageXOffset))/n.width),top:sd((i.pageY-(n.top+Z0(e).pageYOffset))/n.height)}},X_=function(e){!kp(e)&&e.preventDefault()},$D=x.memo(function(e){var t=e.onMove,r=e.onKey,n=zD(e,["onMove","onKey"]),i=P.useRef(null),s=X0(t),o=X0(r),a=P.useRef(null),c=P.useRef(!1),l=P.useMemo(function(){var f=function(g){X_(g),(kp(g)?g.touches.length>0:g.buttons>0)&&i.current?s(J_(i.current,g,a.current)):v(!1)},h=function(){return v(!1)};function v(g){var m=c.current,y=Z0(i.current),S=g?y.addEventListener:y.removeEventListener;S(m?"touchmove":"mousemove",f),S(m?"touchend":"mouseup",h)}return[function(g){var m=g.nativeEvent,y=i.current;if(y&&(X_(m),!function(C,b){return b&&!kp(C)}(m,c.current)&&y)){if(kp(m)){c.current=!0;var S=m.changedTouches||[];S.length&&(a.current=S[0].identifier)}y.focus(),s(J_(y,m,a.current)),v(!0)}},function(g){var m=g.which||g.keyCode;m<37||m>40||(g.preventDefault(),o({left:m===39?.05:m===37?-.05:0,top:m===40?.05:m===38?-.05:0}))},v]},[o,s]),u=l[0],p=l[1],d=l[2];return P.useEffect(function(){return d},[d]),x.createElement("div",dm({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:p,tabIndex:0,role:"slider"}))}),vb=function(e){return e.filter(Boolean).join(" ")},FD=function(e){var t=e.color,r=e.left,n=e.top,i=n===void 0?.5:n,s=vb(["react-colorful__pointer",e.className]);return x.createElement("div",{className:s,style:{top:100*i+"%",left:100*r+"%"}},x.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},qr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},S9=function(e){return _9(eC(e))},eC=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?qr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?qr(parseInt(e.substring(6,8),16)/255,2):1}},C9=function(e){return P9(b9(e))},w9=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:qr(e.h),s:qr(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:qr(i/2),a:qr(n,2)}},tC=function(e){var t=w9(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},b9=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var s=Math.floor(t),o=n*(1-r),a=n*(1-(t-s)*r),c=n*(1-(1-t+s)*r),l=s%6;return{r:qr(255*[n,a,o,o,c,n][l]),g:qr(255*[c,n,n,a,o,o][l]),b:qr(255*[o,o,c,n,n,a][l]),a:qr(i,2)}},Nf=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},P9=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=i<1?Nf(qr(255*i)):"";return"#"+Nf(t)+Nf(r)+Nf(n)+s},_9=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=Math.max(t,r,n),o=s-Math.min(t,r,n),a=o?s===t?(r-n)/o:s===r?2+(n-t)/o:4+(t-r)/o:0;return{h:qr(60*(a<0?a+6:a)),s:qr(s?o/s*100:0),v:qr(s/255*100),a:i}},E9=x.memo(function(e){var t=e.hue,r=e.onChange,n=vb(["react-colorful__hue",e.className]);return x.createElement("div",{className:n},x.createElement($D,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:sd(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":qr(t),"aria-valuemax":"360","aria-valuemin":"0"},x.createElement(FD,{className:"react-colorful__hue-pointer",left:t/360,color:tC({h:t,s:100,v:100,a:1})})))}),R9=x.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:tC({h:t.h,s:100,v:100,a:1})};return x.createElement("div",{className:"react-colorful__saturation",style:n},x.createElement($D,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:sd(t.s+100*i.left,0,100),v:sd(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+qr(t.s)+"%, Brightness "+qr(t.v)+"%"},x.createElement(FD,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:tC(t)})))}),BD=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},T9=function(e,t){return e.toLowerCase()===t.toLowerCase()||BD(eC(e),eC(t))};function k9(e,t,r){var n=X0(r),i=P.useState(function(){return e.toHsva(t)}),s=i[0],o=i[1],a=P.useRef({color:t,hsva:s});P.useEffect(function(){if(!e.equal(t,a.current.color)){var l=e.toHsva(t);a.current={hsva:l,color:t},o(l)}},[t,e]),P.useEffect(function(){var l;BD(s,a.current.hsva)||e.equal(l=e.fromHsva(s),a.current.color)||(a.current={hsva:s,color:l},n(l))},[s,e,n]);var c=P.useCallback(function(l){o(function(u){return Object.assign({},u,l)})},[]);return[s,c]}var I9=typeof window<"u"?P.useLayoutEffect:P.useEffect,A9=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Z_=new Map,x9=function(e){I9(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Z_.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Z_.set(t,r);var n=A9();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},O9=function(e){var t=e.className,r=e.colorModel,n=e.color,i=n===void 0?r.defaultColor:n,s=e.onChange,o=zD(e,["className","colorModel","color","onChange"]),a=P.useRef(null);x9(a);var c=k9(r,i,s),l=c[0],u=c[1],p=vb(["react-colorful",t]);return x.createElement("div",dm({},o,{ref:a,className:p}),x.createElement(R9,{hsva:l,onChange:u}),x.createElement(E9,{hue:l.h,onChange:u,className:"react-colorful__last-control"}))},D9={defaultColor:"000",toHsva:S9,fromHsva:function(e){return C9({h:e.h,s:e.s,v:e.v,a:1})},equal:T9},M9=function(e){return x.createElement(O9,dm({},e,{colorModel:D9}))};function N9({attributes:e={},showInput:t=!0}){const r=P.useRef(),[n,i]=P.useState(e.defaultValue||"#ffffff"),s=o=>{const a=o.target.value;i(a),e.onChange&&e.onChange(a)};return P.useEffect(()=>{e.defaultValue!==n&&e.onChange&&e.onChange(n);const o=r.current,a=o.getElementsByClassName("react-colorful__interactive")[0];o&&a&&a.setAttribute("aria-valuenow",Number.parseInt(n.replace("#",""),16))},[e.onChange,e.defaultValue,n]),w.jsxs("div",{className:"flex flex-col space-y-3",children:[t&&w.jsx(mM,{label:"Color","data-testid":"color-input",attributes:{value:n,onChange:s}}),w.jsx("div",{ref:r,children:w.jsx(M9,{className:"min-w-[200px] !w-full",color:n,onChange:i,"data-testid":"color-picker"})})]})}function ya(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Q(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function od(e){if(!ya(e)&&typeof e!="number")return!1;const t=Q(e);return!isNaN(Number(t))}const L9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j9=(e,t,r)=>{let n;const i=L9[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ly(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const z9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},F9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B9={date:Ly({formats:z9,defaultWidth:"full"}),time:Ly({formats:$9,defaultWidth:"full"}),dateTime:Ly({formats:F9,defaultWidth:"full"})},H9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U9=(e,t,r,n)=>H9[e];function ul(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const q9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q9=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},J9={ordinalNumber:Q9,era:ul({values:q9,defaultWidth:"wide"}),quarter:ul({values:W9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ul({values:V9,defaultWidth:"wide"}),day:ul({values:Y9,defaultWidth:"wide"}),dayPeriod:ul({values:K9,defaultWidth:"wide",formattingValues:G9,defaultFormattingWidth:"wide"})};function pl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?Z9(a,p=>p.test(o)):X9(a,p=>p.test(o));let l;l=e.valueCallback?e.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(o.length);return{value:l,rest:u}}}function X9(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Z9(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function eU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const tU=/^(\d+)(th|st|nd|rd)?/i,rU=/\d+/i,nU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iU={any:[/^b/i,/^(a|c)/i]},sU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oU={any:[/1/i,/2/i,/3/i,/4/i]},aU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fU={ordinalNumber:eU({matchPattern:tU,parsePattern:rU,valueCallback:e=>parseInt(e,10)}),era:pl({matchPatterns:nU,defaultMatchWidth:"wide",parsePatterns:iU,defaultParseWidth:"any"}),quarter:pl({matchPatterns:sU,defaultMatchWidth:"wide",parsePatterns:oU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pl({matchPatterns:aU,defaultMatchWidth:"wide",parsePatterns:cU,defaultParseWidth:"any"}),day:pl({matchPatterns:lU,defaultMatchWidth:"wide",parsePatterns:uU,defaultParseWidth:"any"}),dayPeriod:pl({matchPatterns:pU,defaultMatchWidth:"any",parsePatterns:dU,defaultParseWidth:"any"})},HD={code:"en-US",formatDistance:j9,formatLong:B9,formatRelative:U9,localize:J9,match:fU,options:{weekStartsOn:0,firstWeekContainsDate:1}};let hU={};function Ra(){return hU}const UD=6048e5,vU=864e5,fm=6e4,hm=36e5,mU=1e3;function Zi(e){const t=Q(e);return t.setHours(0,0,0,0),t}function dv(e){const t=Q(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ad(e,t){const r=Zi(e),n=Zi(t),i=+r-dv(r),s=+n-dv(n);return Math.round((i-s)/vU)}function dt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vm(e){const t=Q(e),r=dt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function gU(e){const t=Q(e);return ad(t,vm(t))+1}function Ts(e,t){var a,c,l,u;const r=Ra(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Q(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function kc(e){return Ts(e,{weekStartsOn:1})}function qD(e){const t=Q(e),r=t.getFullYear(),n=dt(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=kc(n),s=dt(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=kc(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function yU(e){const t=qD(e),r=dt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),kc(r)}function mb(e){const t=Q(e),r=+kc(t)-+yU(t);return Math.round(r/UD)+1}function gb(e,t){var u,p,d,f;const r=Q(e),n=r.getFullYear(),i=Ra(),s=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(d=i.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=dt(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=Ts(o,t),c=dt(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const l=Ts(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function SU(e,t){var a,c,l,u;const r=Ra(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=gb(e,t),s=dt(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Ts(s,t)}function WD(e,t){const r=Q(e),n=+Ts(r,t)-+SU(r,t);return Math.round(n/UD)+1}function pt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ms={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return pt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pt(r+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return pt(i,t.length)}},Da={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ms.y(e,t)},Y:function(e,t,r,n){const i=gb(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return pt(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):pt(s,t.length)},R:function(e,t){const r=qD(e);return pt(r,t.length)},u:function(e,t){const r=e.getFullYear();return pt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return pt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return pt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ms.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return pt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=WD(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):pt(i,t.length)},I:function(e,t,r){const n=mb(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):pt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ms.d(e,t)},D:function(e,t,r){const n=gU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):pt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return pt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return pt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return pt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Da.noon:n===0?i=Da.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Da.evening:n>=12?i=Da.afternoon:n>=4?i=Da.morning:i=Da.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ms.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ms.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):pt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):pt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ms.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ms.s(e,t)},S:function(e,t){return Ms.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return rE(n);case"XXXX":case"XX":return Qo(n);case"XXXXX":case"XXX":default:return Qo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return rE(n);case"xxxx":case"xx":return Qo(n);case"xxxxx":case"xxx":default:return Qo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tE(n,":");case"OOOO":default:return"GMT"+Qo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tE(n,":");case"zzzz":default:return"GMT"+Qo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return pt(n,t.length)},T:function(e,t,r){const n=e.getTime();return pt(n,t.length)}};function tE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+pt(s,2)}function rE(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):Qo(e,t)}function Qo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=pt(Math.trunc(n/60),2),s=pt(n%60,2);return r+i+t+s}const nE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},VD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},CU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return nE(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",nE(n,t)).replace("{{time}}",VD(i,t))},fv={p:VD,P:CU},wU=/^D+$/,bU=/^Y+$/,PU=["D","DD","YY","YYYY"];function YD(e){return wU.test(e)}function KD(e){return bU.test(e)}function rC(e,t,r){const n=_U(e,t,r);if(console.warn(n),PU.includes(e))throw new RangeError(n)}function _U(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TU=/^'([^]*?)'?$/,kU=/''/g,IU=/[a-zA-Z]/;function nC(e,t,r){var u,p,d,f,h,v,g,m;const n=Ra(),i=(r==null?void 0:r.locale)??n.locale??HD,s=(r==null?void 0:r.firstWeekContainsDate)??((p=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((m=(g=n.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,a=Q(e);if(!od(a))throw new RangeError("Invalid time value");let c=t.match(RU).map(y=>{const S=y[0];if(S==="p"||S==="P"){const C=fv[S];return C(y,i.formatLong)}return y}).join("").match(EU).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const S=y[0];if(S==="'")return{isToken:!1,value:AU(y)};if(eE[S])return{isToken:!0,value:y};if(S.match(IU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const l={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const S=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&KD(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&YD(S))&&rC(S,t,String(e));const C=eE[S[0]];return C(a,S,i.localize,l)}).join("")}function AU(e){const t=e.match(TU);return t?t[1].replace(kU,"'"):e}function yb(e,t){const r=+Q(e);return dt(e,r+t)}function iC(e,t){return yb(e,t*fm)}function xU(e,t){return yb(e,t*hm)}function Ro(e,t){const r=Q(e);return isNaN(t)?dt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function hv(e,t){const r=t*7;return Ro(e,r)}function Ti(e,t){const r=Q(e);if(isNaN(t))return dt(e,NaN);if(!t)return r;const n=r.getDate(),i=dt(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function Sb(e,t){const r=t*3;return Ti(e,r)}function ys(e,t){return Ti(e,t*12)}function OU(e,t){return Ro(e,-t)}function iE(e,t){return hv(e,-t)}function Ic(e,t){return Ti(e,-t)}function GD(e,t){return Sb(e,-t)}function Ac(e,t){return ys(e,-t)}function Ss(e){return Q(e).getSeconds()}function es(e){return Q(e).getMinutes()}function ts(e){return Q(e).getHours()}function DU(e){return Q(e).getDay()}function sE(e){return Q(e).getDate()}function wn(e){return Q(e).getMonth()}function oa(e){const t=Q(e);return Math.trunc(t.getMonth()/3)+1}function ze(e){return Q(e).getFullYear()}function sC(e){return Q(e).getTime()}function fh(e,t){const r=Q(e);return r.setSeconds(t),r}function hh(e,t){const r=Q(e);return r.setMinutes(t),r}function vh(e,t){const r=Q(e);return r.setHours(t),r}function MU(e){const t=Q(e),r=t.getFullYear(),n=t.getMonth(),i=dt(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Cn(e,t){const r=Q(e),n=r.getFullYear(),i=r.getDate(),s=dt(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=MU(s);return r.setMonth(t,Math.min(i,o)),r}function Ba(e,t){const r=Q(e),n=Math.trunc(r.getMonth()/3)+1,i=t-n;return Cn(r,r.getMonth()+i*3)}function zi(e,t){const r=Q(e);return isNaN(+r)?dt(e,NaN):(r.setFullYear(t),r)}function oE(e){let t;return e.forEach(r=>{const n=Q(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function aE(e){let t;return e.forEach(function(r){const n=Q(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function vv(e,t){const r=Q(e),n=Q(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function mv(e,t){const r=Q(e),n=Q(t);return r.getFullYear()-n.getFullYear()}function gv(e,t){const r=Q(e),n=Q(t),i=r.getFullYear()-n.getFullYear(),s=oa(r)-oa(n);return i*4+s}function QD(e){const t=Q(e);return t.setDate(1),t.setHours(0,0,0,0),t}function oC(e){const t=Q(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function aC(e){const t=Q(e);return t.setHours(23,59,59,999),t}function NU(e,t){var a,c,l,u;const r=Ra(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Q(e),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function LU(e){const t=Q(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function JD(e){const t=Q(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function jU(e,t){const r=Q(e),n=Q(t);return+r==+n}function zU(e,t){const r=Zi(e),n=Zi(t);return+r==+n}function $U(e,t){const r=Q(e),n=Q(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function FU(e,t){const r=Q(e),n=Q(t);return r.getFullYear()===n.getFullYear()}function BU(e,t){const r=oC(e),n=oC(t);return+r==+n}function mo(e,t){const r=Q(e),n=Q(t);return r.getTime()>n.getTime()}function Sa(e,t){const r=Q(e),n=Q(t);return+r<+n}function cd(e,t){const r=+Q(e),[n,i]=[+Q(t.start),+Q(t.end)].sort((s,o)=>s-o);return r>=n&&r<=i}function HU(){return Object.assign({},Ra())}function UU(e,t){const r=t instanceof Date?dt(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const qU=10;class XD{constructor(){H(this,"subPriority",0)}validate(t,r){return!0}}class WU extends XD{constructor(t,r,n,i,s){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,s&&(this.subPriority=s)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class VU extends XD{constructor(){super(...arguments);H(this,"priority",qU);H(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:dt(r,UU(r,Date))}}class ot{run(t,r,n,i){const s=this.parse(t,r,n,i);return s?{setter:new WU(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,r,n){return!0}}class YU extends ot{constructor(){super(...arguments);H(this,"priority",140);H(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}const cr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},qi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function lr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wt(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Wi(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(i*hm+s*fm+o*mU),rest:t.slice(r[0].length)}}function ZD(e){return Wt(cr.anyDigitsSigned,e)}function er(e,t){switch(e){case 1:return Wt(cr.singleDigit,t);case 2:return Wt(cr.twoDigits,t);case 3:return Wt(cr.threeDigits,t);case 4:return Wt(cr.fourDigits,t);default:return Wt(new RegExp("^\\d{1,"+e+"}"),t)}}function yv(e,t){switch(e){case 1:return Wt(cr.singleDigitSigned,t);case 2:return Wt(cr.twoDigitsSigned,t);case 3:return Wt(cr.threeDigitsSigned,t);case 4:return Wt(cr.fourDigitsSigned,t);default:return Wt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Cb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function eM(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const s=n+50,o=Math.trunc(s/100)*100,a=e>=s%100;i=e+o-(a?100:0)}return r?i:1-i}function tM(e){return e%400===0||e%4===0&&e%100!==0}class KU extends ot{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return lr(er(4,r),s);case"yo":return lr(i.ordinalNumber(r,{unit:"year"}),s);default:return lr(er(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){const s=r.getFullYear();if(i.isTwoDigitYear){const a=eM(i.year,s);return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class GU extends ot{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return lr(er(4,r),s);case"Yo":return lr(i.ordinalNumber(r,{unit:"year"}),s);default:return lr(er(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,s){const o=gb(r,s);if(i.isTwoDigitYear){const c=eM(i.year,o);return r.setFullYear(c,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Ts(r,s)}const a=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(a,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Ts(r,s)}}class QU extends ot{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return yv(n==="R"?4:n.length,r)}set(r,n,i){const s=dt(r,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),kc(s)}}class JU extends ot{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return yv(n==="u"?4:n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class XU extends ot{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return er(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class ZU extends ot{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return er(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class e7 extends ot{constructor(){super(...arguments);H(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);H(this,"priority",110)}parse(r,n,i){const s=o=>o-1;switch(n){case"M":return lr(Wt(cr.month,r),s);case"MM":return lr(er(2,r),s);case"Mo":return lr(i.ordinalNumber(r,{unit:"month"}),s);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}class t7 extends ot{constructor(){super(...arguments);H(this,"priority",110);H(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){const s=o=>o-1;switch(n){case"L":return lr(Wt(cr.month,r),s);case"LL":return lr(er(2,r),s);case"Lo":return lr(i.ordinalNumber(r,{unit:"month"}),s);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}function r7(e,t,r){const n=Q(e),i=WD(n,r)-t;return n.setDate(n.getDate()-i*7),n}class n7 extends ot{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return Wt(cr.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i,s){return Ts(r7(r,i,s),s)}}function i7(e,t){const r=Q(e),n=mb(r)-t;return r.setDate(r.getDate()-n*7),r}class s7 extends ot{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return Wt(cr.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return kc(i7(r,i))}}const o7=[31,28,31,30,31,30,31,31,30,31,30,31],a7=[31,29,31,30,31,30,31,31,30,31,30,31];class c7 extends ot{constructor(){super(...arguments);H(this,"priority",90);H(this,"subPriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return Wt(cr.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return er(n.length,r)}}validate(r,n){const i=r.getFullYear(),s=tM(i),o=r.getMonth();return s?n>=1&&n<=a7[o]:n>=1&&n<=o7[o]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}}class l7 extends ot{constructor(){super(...arguments);H(this,"priority",90);H(this,"subpriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return Wt(cr.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return er(n.length,r)}}validate(r,n){const i=r.getFullYear();return tM(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}}function wb(e,t,r){var p,d,f,h;const n=Ra(),i=(r==null?void 0:r.weekStartsOn)??((d=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,s=Q(e),o=s.getDay(),c=(t%7+7)%7,l=7-i,u=t<0||t>6?t-(o+l)%7:(c+l)%7-(o+l)%7;return Ro(s,u)}class u7 extends ot{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,s){return r=wb(r,i,s),r.setHours(0,0,0,0),r}}class p7 extends ot{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return lr(er(n.length,r),o);case"eo":return lr(i.ordinalNumber(r,{unit:"day"}),o);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,s){return r=wb(r,i,s),r.setHours(0,0,0,0),r}}class d7 extends ot{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return lr(er(n.length,r),o);case"co":return lr(i.ordinalNumber(r,{unit:"day"}),o);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,s){return r=wb(r,i,s),r.setHours(0,0,0,0),r}}function f7(e){let r=Q(e).getDay();return r===0&&(r=7),r}function h7(e,t){const r=Q(e),n=f7(r),i=t-n;return Ro(r,i)}class v7 extends ot{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return er(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return lr(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return lr(i.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return lr(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return lr(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=h7(r,i),r.setHours(0,0,0,0),r}}class m7 extends ot{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(Cb(i),0,0,0),r}}class g7 extends ot{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(Cb(i),0,0,0),r}}class y7 extends ot{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(Cb(i),0,0,0),r}}class S7 extends ot{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return Wt(cr.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,i){const s=r.getHours()>=12;return s&&i<12?r.setHours(i+12,0,0,0):!s&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}}class C7 extends ot{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return Wt(cr.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}}class w7 extends ot{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return Wt(cr.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}}class b7 extends ot{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return Wt(cr.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return er(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,i){const s=i<=24?i%24:i;return r.setHours(s,0,0,0),r}}class P7 extends ot{constructor(){super(...arguments);H(this,"priority",60);H(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return Wt(cr.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}}class _7 extends ot{constructor(){super(...arguments);H(this,"priority",50);H(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return Wt(cr.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return er(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}}class E7 extends ot{constructor(){super(...arguments);H(this,"priority",30);H(this,"incompatibleTokens",["t","T"])}parse(r,n){const i=s=>Math.trunc(s*Math.pow(10,-n.length+3));return lr(er(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}}class R7 extends ot{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Wi(qi.basicOptionalMinutes,r);case"XX":return Wi(qi.basic,r);case"XXXX":return Wi(qi.basicOptionalSeconds,r);case"XXXXX":return Wi(qi.extendedOptionalSeconds,r);case"XXX":default:return Wi(qi.extended,r)}}set(r,n,i){return n.timestampIsSet?r:dt(r,r.getTime()-dv(r)-i)}}class T7 extends ot{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Wi(qi.basicOptionalMinutes,r);case"xx":return Wi(qi.basic,r);case"xxxx":return Wi(qi.basicOptionalSeconds,r);case"xxxxx":return Wi(qi.extendedOptionalSeconds,r);case"xxx":default:return Wi(qi.extended,r)}}set(r,n,i){return n.timestampIsSet?r:dt(r,r.getTime()-dv(r)-i)}}class k7 extends ot{constructor(){super(...arguments);H(this,"priority",40);H(this,"incompatibleTokens","*")}parse(r){return ZD(r)}set(r,n,i){return[dt(r,i*1e3),{timestampIsSet:!0}]}}class I7 extends ot{constructor(){super(...arguments);H(this,"priority",20);H(this,"incompatibleTokens","*")}parse(r){return ZD(r)}set(r,n,i){return[dt(r,i),{timestampIsSet:!0}]}}const A7={G:new YU,y:new KU,Y:new GU,R:new QU,u:new JU,Q:new XU,q:new ZU,M:new e7,L:new t7,w:new n7,I:new s7,d:new c7,D:new l7,E:new u7,e:new p7,c:new d7,i:new v7,a:new m7,b:new g7,B:new y7,h:new S7,H:new C7,K:new w7,k:new b7,m:new P7,s:new _7,S:new E7,X:new R7,x:new T7,t:new k7,T:new I7},x7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D7=/^'([^]*?)'?$/,M7=/''/g,N7=/\S/,L7=/[a-zA-Z]/;function jy(e,t,r,n){var v,g,m,y,S,C,b,T;const i=HU(),s=(n==null?void 0:n.locale)??i.locale??HD,o=(n==null?void 0:n.firstWeekContainsDate)??((g=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((C=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??i.weekStartsOn??((T=(b=i.locale)==null?void 0:b.options)==null?void 0:T.weekStartsOn)??0;if(t==="")return e===""?Q(r):dt(r,NaN);const c={firstWeekContainsDate:o,weekStartsOn:a,locale:s},l=[new VU],u=t.match(O7).map(_=>{const R=_[0];if(R in fv){const O=fv[R];return O(_,s.formatLong)}return _}).join("").match(x7),p=[];for(let _ of u){!(n!=null&&n.useAdditionalWeekYearTokens)&&KD(_)&&rC(_,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&YD(_)&&rC(_,t,e);const R=_[0],O=A7[R];if(O){const{incompatibleTokens:D}=O;if(Array.isArray(D)){const W=p.find(J=>D.includes(J.token)||J.token===R);if(W)throw new RangeError(`The format string mustn't contain \`${W.fullToken}\` and \`${_}\` at the same time`)}else if(O.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);p.push({token:R,fullToken:_});const $=O.run(e,_,s.match,c);if(!$)return dt(r,NaN);l.push($.setter),e=$.rest}else{if(R.match(L7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(_==="''"?_="'":R==="'"&&(_=j7(_)),e.indexOf(_)===0)e=e.slice(_.length);else return dt(r,NaN)}}if(e.length>0&&N7.test(e))return dt(r,NaN);const d=l.map(_=>_.priority).sort((_,R)=>R-_).filter((_,R,O)=>O.indexOf(_)===R).map(_=>l.filter(R=>R.priority===_).sort((R,O)=>O.subPriority-R.subPriority)).map(_=>_[0]);let f=Q(r);if(isNaN(f.getTime()))return dt(r,NaN);const h={};for(const _ of d){if(!_.validate(f,c))return dt(r,NaN);const R=_.set(f,h,c);Array.isArray(R)?(f=R[0],Object.assign(h,R[1])):f=R}return dt(r,f)}function j7(e){return e.match(D7)[1].replace(M7,"'")}function z7(e,t){const r=(t==null?void 0:t.additionalDigits)??2,n=H7(e);let i;if(n.date){const c=U7(n.date,r);i=q7(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(n.time&&(o=W7(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(a=V7(n.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(s+o),l=new Date(0);return l.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),l.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),l}return new Date(s+o+a)}const Lf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$7=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,F7=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,B7=/^([+-])(\d{2})(?::?(\d{2}))?$/;function H7(e){const t={},r=e.split(Lf.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Lf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Lf.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Lf.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function U7(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function q7(e,t){if(t===null)return new Date(NaN);const r=e.match($7);if(!r)return new Date(NaN);const n=!!r[4],i=dl(r[1]),s=dl(r[2])-1,o=dl(r[3]),a=dl(r[4]),c=dl(r[5])-1;if(n)return J7(t,a,c)?Y7(t,a,c):new Date(NaN);{const l=new Date(0);return!G7(t,s,o)||!Q7(t,i)?new Date(NaN):(l.setUTCFullYear(t,s,Math.max(i,o)),l)}}function dl(e){return e?parseInt(e):1}function W7(e){const t=e.match(F7);if(!t)return NaN;const r=zy(t[1]),n=zy(t[2]),i=zy(t[3]);return X7(r,n,i)?r*hm+n*fm+i*1e3:NaN}function zy(e){return e&&parseFloat(e.replace(",","."))||0}function V7(e){if(e==="Z")return 0;const t=e.match(B7);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Z7(n,i)?r*(n*hm+i*fm):NaN}function Y7(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const K7=[31,null,31,30,31,30,31,31,30,31,30,31];function rM(e){return e%400===0||e%4===0&&e%100!==0}function G7(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(K7[t]||(rM(e)?29:28))}function Q7(e,t){return t>=1&&t<=(rM(e)?366:365)}function J7(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function X7(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Z7(e,t){return t>=0&&t<=59}function eq(e,t){return yb(e,t*1e3)}function tq(e,t){let r=Q(e);return isNaN(+r)?dt(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=Cn(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function rq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cC(e,t)}function cC(e,t){return cC=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cC(e,t)}function nq(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function cE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(e,t,r){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(r):e.classList.contains(r)}function sq(e,t,r){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&iq(e,t,r))return!0;e=e.parentNode||e.host}return e}function oq(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var aq=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,r=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,r),window.removeEventListener("testPassiveEventSupport",n,r),t}};function cq(e){return e===void 0&&(e=0),function(){return++e}}var lq=cq(),lC,jf={},$y={},uq=["touchstart","touchmove"],pq="ignore-react-onclickoutside";function lE(e,t){var r={},n=uq.indexOf(t)!==-1;return n&&lC&&(r.passive=!e.props.preventDefault),r}function mm(e,t){var r,n,i=e.displayName||e.name||"Component";return n=r=function(s){rq(o,s);function o(c){var l;return l=s.call(this,c)||this,l.__outsideClickHandler=function(u){if(typeof l.__clickOutsideHandlerProp=="function"){l.__clickOutsideHandlerProp(u);return}var p=l.getInstance();if(typeof p.props.handleClickOutside=="function"){p.props.handleClickOutside(u);return}if(typeof p.handleClickOutside=="function"){p.handleClickOutside(u);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},l.__getComponentNode=function(){var u=l.getInstance();return t&&typeof t.setClickOutsideRef=="function"?t.setClickOutsideRef()(u):typeof u.setClickOutsideRef=="function"?u.setClickOutsideRef():$c.findDOMNode(u)},l.enableOnClickOutside=function(){if(!(typeof document>"u"||$y[l._uid])){typeof lC>"u"&&(lC=aq()),$y[l._uid]=!0;var u=l.props.eventTypes;u.forEach||(u=[u]),jf[l._uid]=function(p){if(l.componentNode!==null&&!(l.initTimeStamp>p.timeStamp)&&(l.props.preventDefault&&p.preventDefault(),l.props.stopPropagation&&p.stopPropagation(),!(l.props.excludeScrollbar&&oq(p)))){var d=p.composed&&p.composedPath&&p.composedPath().shift()||p.target;sq(d,l.componentNode,l.props.outsideClickIgnoreClass)===document&&l.__outsideClickHandler(p)}},u.forEach(function(p){document.addEventListener(p,jf[l._uid],lE(cE(l),p))})}},l.disableOnClickOutside=function(){delete $y[l._uid];var u=jf[l._uid];if(u&&typeof document<"u"){var p=l.props.eventTypes;p.forEach||(p=[p]),p.forEach(function(d){return document.removeEventListener(d,u,lE(cE(l),d))}),delete jf[l._uid]}},l.getRef=function(u){return l.instanceRef=u},l._uid=lq(),l.initTimeStamp=performance.now(),l}var a=o.prototype;return a.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var l=this.instanceRef;return l.getInstance?l.getInstance():l},a.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var l=this.getInstance();if(t&&typeof t.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=t.handleClickOutside(l),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+i+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var l=this.props;l.excludeScrollbar;var u=nq(l,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?u.ref=this.getRef:u.wrappedRef=this.getRef,u.disableOnClickOutside=this.disableOnClickOutside,u.enableOnClickOutside=this.enableOnClickOutside,P.createElement(e,u)},o}(P.Component),r.displayName="OnClickOutside("+i+")",r.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:pq,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return e.getClass?e.getClass():e},n}var mh=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Sv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sv(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Sv(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function nM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uE(e,t){const r=nM(e);return Math.round(t*r)/r}function pE(e){const t=P.useRef(e);return mh(()=>{t.current=e}),t}function dq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,p]=P.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,f]=P.useState(n);Sv(d,n)||f(n);const[h,v]=P.useState(null),[g,m]=P.useState(null),y=P.useCallback(ee=>{ee!==T.current&&(T.current=ee,v(ee))},[]),S=P.useCallback(ee=>{ee!==_.current&&(_.current=ee,m(ee))},[]),C=s||h,b=o||g,T=P.useRef(null),_=P.useRef(null),R=P.useRef(u),O=c!=null,D=pE(c),$=pE(i),W=P.useCallback(()=>{if(!T.current||!_.current)return;const ee={placement:t,strategy:r,middleware:d};$.current&&(ee.platform=$.current),QB(T.current,_.current,ee).then(I=>{const k={...I,isPositioned:!0};J.current&&!Sv(R.current,k)&&(R.current=k,$c.flushSync(()=>{p(k)}))})},[d,t,r,$]);mh(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(ee=>({...ee,isPositioned:!1})))},[l]);const J=P.useRef(!1);mh(()=>(J.current=!0,()=>{J.current=!1}),[]),mh(()=>{if(C&&(T.current=C),b&&(_.current=b),C&&b){if(D.current)return D.current(C,b,W);W()}},[C,b,W,D,O]);const q=P.useMemo(()=>({reference:T,floating:_,setReference:y,setFloating:S}),[y,S]),Y=P.useMemo(()=>({reference:C,floating:b}),[C,b]),se=P.useMemo(()=>{const ee={position:r,left:0,top:0};if(!Y.floating)return ee;const I=uE(Y.floating,u.x),k=uE(Y.floating,u.y);return a?{...ee,transform:"translate("+I+"px, "+k+"px)",...nM(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:k}},[r,a,Y.floating,u.x,u.y]);return P.useMemo(()=>({...u,update:W,refs:q,elements:Y,floatingStyles:se}),[u,W,q,Y,se])}const fq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?D_({element:n.current,padding:i}).fn(r):{}:n?D_({element:n,padding:i}).fn(r):{}}}},hq=(e,t)=>({...KB(e),options:[e,t]}),vq=(e,t)=>({...GB(e),options:[e,t]}),mq=(e,t)=>({...fq(e),options:[e,t]}),iM={...IS},gq=iM.useInsertionEffect,yq=gq||(e=>e());function Sq(e){const t=P.useRef(()=>{});return yq(()=>{t.current=e}),P.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var uC=typeof document<"u"?P.useLayoutEffect:P.useEffect;function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(this,arguments)}let dE=!1,Cq=0;const fE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Cq++;function wq(){const[e,t]=P.useState(()=>dE?fE():void 0);return uC(()=>{e==null&&t(fE())},[]),P.useEffect(()=>{dE=!0},[]),e}const bq=iM.useId,sM=bq||wq,Pq=P.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:s}},width:o=14,height:a=7,tipRadius:c=0,strokeWidth:l=0,staticOffset:u,stroke:p,d,style:{transform:f,...h}={},...v}=t,g=sM();if(!i)return null;const m=l*2,y=m/2,S=o/2*(c/-8+1),C=a/2*c/4,[b,T]=n.split("-"),_=hD.isRTL(i),R=!!d,O=b==="top"||b==="bottom",D=u&&T==="end"?"bottom":"top";let $=u&&T==="end"?"right":"left";u&&_&&($=T==="end"?"left":"right");const W=(s==null?void 0:s.x)!=null?u||s.x:"",J=(s==null?void 0:s.y)!=null?u||s.y:"",q=d||"M0,0"+(" H"+o)+(" L"+(o-S)+","+(a-C))+(" Q"+o/2+","+a+" "+S+","+(a-C))+" Z",Y={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[b];return P.createElement("svg",pC({},v,{"aria-hidden":!0,ref:r,width:R?o:o+m,height:o,viewBox:"0 0 "+o+" "+(a>o?a:o),style:{position:"absolute",pointerEvents:"none",[$]:W,[D]:J,[b]:O||R?"100%":"calc(100% - "+m/2+"px)",transform:""+Y+(f??""),...h}}),m>0&&P.createElement("path",{clipPath:"url(#"+g+")",fill:"none",stroke:p,strokeWidth:m+(d?0:1),d:q}),P.createElement("path",{stroke:m&&!d?v.fill:"none",d:q}),P.createElement("clipPath",{id:g},P.createElement("rect",{x:-y,y:y*(R?-1:1),width:o+m,height:o})))});function _q(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const Eq=P.createContext(null),Rq=P.createContext(null),Tq=()=>{var e;return((e=P.useContext(Eq))==null?void 0:e.id)||null},kq=()=>P.useContext(Rq);function Iq(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=sM(),s=P.useRef({}),[o]=P.useState(()=>_q()),a=Tq()!=null,[c,l]=P.useState(n.reference),u=Sq((f,h,v)=>{s.current.openEvent=f?h:void 0,o.emit("openchange",{open:f,event:h,reason:v,nested:a}),r==null||r(f,h,v)}),p=P.useMemo(()=>({setPositionReference:l}),[]),d=P.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return P.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:d,events:o,floatingId:i,refs:p}),[t,u,d,o,i,p])}function Aq(e){e===void 0&&(e={});const{nodeId:t}=e,r=Iq({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[s,o]=P.useState(null),[a,c]=P.useState(null),u=(i==null?void 0:i.reference)||s,p=P.useRef(null),d=kq();uC(()=>{u&&(p.current=u)},[u]);const f=dq({...e,elements:{...i,...a&&{reference:a}}}),h=P.useCallback(S=>{const C=An(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;c(C),f.refs.setReference(C)},[f.refs]),v=P.useCallback(S=>{(An(S)||S===null)&&(p.current=S,o(S)),(An(f.refs.reference.current)||f.refs.reference.current===null||S!==null&&!An(S))&&f.refs.setReference(S)},[f.refs]),g=P.useMemo(()=>({...f.refs,setReference:v,setPositionReference:h,domReference:p}),[f.refs,v,h]),m=P.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),y=P.useMemo(()=>({...f,...n,refs:g,elements:m,nodeId:t}),[f,g,m,t,n]);return uC(()=>{n.dataRef.current.floatingContext=y;const S=d==null?void 0:d.nodesRef.current.find(C=>C.id===t);S&&(S.context=y)}),P.useMemo(()=>({...f,context:y,refs:g,elements:m}),[f,g,m,y])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function kr(e,t,r){return t=Cv(t),Dq(e,oM()?Reflect.construct(t,r||[],Cv(e).constructor):t.apply(e,r))}function oM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!e})()}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aM(e){var t=xq(e,"string");return typeof t=="symbol"?t:t+""}function dC(e){"@babel/helpers - typeof";return dC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dC(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aM(n.key),n)}}function Ar(e,t,r){return t&&vE(e.prototype,t),r&&vE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,r){return t=aM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(this,arguments)}function xr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function Cv(e){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cv(e)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fC(e,t)}function Oq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dq(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oq(e)}function go(e){return Mq(e)||Nq(e)||Lq(e)||jq()}function Mq(e){if(Array.isArray(e))return hC(e)}function Nq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lq(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zd=12,zq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ft(e){var t=e?typeof e=="string"||e instanceof String?z7(e):Q(e):new Date;return zs(t)?t:null}function $q(e,t,r,n,i){var s=null,o=Cs(r)||Cs(aa()),a=!0;return Array.isArray(t)?(t.forEach(function(c){var l=jy(e,c,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(a=zs(l,i)&&e===Dt(l,c,r)),zs(l,i)&&a&&(s=l)}),s):(s=jy(e,t,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n?a=zs(s)&&e===Dt(s,t,r):zs(s)||(t=t.match(zq).map(function(c){var l=c[0];if(l==="p"||l==="P"){var u=fv[l];return o?u(c,o.formatLong):l}return c}).join(""),e.length>0&&(s=jy(e,t.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),zs(s)||(s=new Date(e))),zs(s)&&a?s:null)}function zs(e,t){return t=t||new Date("1/1/1000"),od(e)&&!Sa(e,t)}function Dt(e,t,r){if(r==="en")return nC(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=Cs(r);return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!n&&aa()&&Cs(aa())&&(n=Cs(aa())),nC(e,t,{locale:n||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ri(e,t){var r=t.dateFormat,n=t.locale;return e&&Dt(e,Array.isArray(r)?r[0]:r,n)||""}function Fq(e,t,r){if(!e)return"";var n=ri(e,r),i=t?ri(t,r):"";return"".concat(n," - ").concat(i)}function Bq(e,t){if(!(e!=null&&e.length))return"";var r=ri(e[0],t);if(e.length===1)return r;if(e.length===2){var n=ri(e[1],t);return"".concat(r,", ").concat(n)}var i=e.length-1;return"".concat(r," (+").concat(i,")")}function Fy(e,t){var r=t.hour,n=r===void 0?0:r,i=t.minute,s=i===void 0?0:i,o=t.second,a=o===void 0?0:o;return vh(hh(fh(e,a),s),n)}function Hq(e,t){return t&&Cs(t)||aa()&&Cs(aa()),mb(e)}function Uq(e,t){return Dt(e,"ddd",t)}function qq(e){return Zi(e)}function so(e,t,r){var n=Cs(t||aa());return Ts(e,{locale:n,weekStartsOn:r})}function oo(e){return QD(e)}function fp(e){return vm(e)}function mE(e){return oC(e)}function gE(){return Zi(ft())}function Wq(e){return NU(e)}function Hi(e,t){return e&&t?FU(e,t):!e&&!t}function Fn(e,t){return e&&t?$U(e,t):!e&&!t}function wv(e,t){return e&&t?BU(e,t):!e&&!t}function st(e,t){return e&&t?zU(e,t):!e&&!t}function ra(e,t){return e&&t?jU(e,t):!e&&!t}function hp(e,t,r){var n,i=Zi(t),s=aC(r);try{n=cd(e,{start:i,end:s})}catch{n=!1}return n}function aa(){var e=typeof window<"u"?window:globalThis;return e.__localeId__}function Cs(e){if(typeof e=="string"){var t=typeof window<"u"?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}else return e}function Vq(e,t,r){return t(Dt(e,"EEEE",r))}function Yq(e,t){return Dt(e,"EEEEEE",t)}function Kq(e,t){return Dt(e,"EEE",t)}function bb(e,t){return Dt(Cn(ft(),e),"LLLL",t)}function cM(e,t){return Dt(Cn(ft(),e),"LLL",t)}function Gq(e,t){return Dt(Ba(ft(),e),"QQQ",t)}function gm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,i=t.excludeDates,s=t.excludeDateIntervals,o=t.includeDates,a=t.includeDateIntervals,c=t.filterDate;return ym(e,{minDate:r,maxDate:n})||i&&i.some(function(l){return st(e,l.date?l.date:l)})||s&&s.some(function(l){var u=l.start,p=l.end;return cd(e,{start:u,end:p})})||o&&!o.some(function(l){return st(e,l)})||a&&!a.some(function(l){var u=l.start,p=l.end;return cd(e,{start:u,end:p})})||c&&!c(ft(e))||!1}function Pb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.excludeDates,n=t.excludeDateIntervals;return n&&n.length>0?n.some(function(i){var s=i.start,o=i.end;return cd(e,{start:s,end:o})}):r&&r.some(function(i){return st(e,i.date?i.date:i)})||!1}function gh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,i=t.excludeDates,s=t.includeDates,o=t.filterDate;return ym(e,{minDate:QD(r),maxDate:LU(n)})||i&&i.some(function(a){return Fn(e,a)})||s&&!s.some(function(a){return Fn(e,a)})||o&&!o(ft(e))||!1}function zf(e,t,r,n){var i=ze(e),s=wn(e),o=ze(t),a=wn(t),c=ze(n);if(i===o&&i===c)return s<=r&&r<=a;if(i<o)return c===i&&s<=r||c===o&&a>=r||c<o&&c>i}function By(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,i=t.excludeDates,s=t.includeDates,o=t.filterDate;return ym(e,{minDate:r,maxDate:n})||i&&i.some(function(a){return wv(e,a)})||s&&!s.some(function(a){return wv(e,a)})||o&&!o(ft(e))||!1}function $f(e,t,r){if(!od(t)||!od(r))return!1;var n=ze(t),i=ze(r);return n<=e&&i>=e}function lM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,i=t.excludeDates,s=t.includeDates,o=t.filterDate,a=new Date(e,0,1);return ym(a,{minDate:vm(r),maxDate:JD(n)})||i&&i.some(function(c){return Hi(a,c)})||s&&!s.some(function(c){return Hi(a,c)})||o&&!o(ft(a))||!1}function Ff(e,t,r,n){var i=ze(e),s=oa(e),o=ze(t),a=oa(t),c=ze(n);if(i===o&&i===c)return s<=r&&r<=a;if(i<o)return c===i&&s<=r||c===o&&a>=r||c<o&&c>i}function ym(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate;return r&&ad(e,r)<0||n&&ad(e,n)>0}function yE(e,t){return t.some(function(r){return ts(r)===ts(e)&&es(r)===es(e)&&Ss(r)===Ss(e)})}function SE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.excludeTimes,n=t.includeTimes,i=t.filterTime;return r&&yE(e,r)||n&&!yE(e,n)||i&&!i(e)||!1}function CE(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var i=ft();i=vh(i,ts(e)),i=hh(i,es(e)),i=fh(i,Ss(e));var s=ft();s=vh(s,ts(r)),s=hh(s,es(r)),s=fh(s,Ss(r));var o=ft();o=vh(o,ts(n)),o=hh(o,es(n)),o=fh(o,Ss(n));var a;try{a=!cd(i,{start:s,end:o})}catch{a=!1}return a}function wE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.includeDates,i=Ic(e,1);return r&&vv(r,i)>0||n&&n.every(function(s){return vv(s,i)>0})||!1}function bE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.includeDates,i=Ti(e,1);return r&&vv(i,r)>0||n&&n.every(function(s){return vv(i,s)>0})||!1}function Qq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.includeDates,i=vm(e),s=GD(i,1);return r&&gv(r,s)>0||n&&n.every(function(o){return gv(o,s)>0})||!1}function Jq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.includeDates,i=JD(e),s=Sb(i,1);return r&&gv(s,r)>0||n&&n.every(function(o){return gv(s,o)>0})||!1}function PE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.includeDates,i=Ac(e,1);return r&&mv(r,i)>0||n&&n.every(function(s){return mv(s,i)>0})||!1}function Xq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.yearItemNumber,i=n===void 0?zd:n,s=fp(Ac(e,i)),o=Ys(s,i),a=o.endPeriod,c=r&&ze(r);return c&&c>a||!1}function _E(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.includeDates,i=ys(e,1);return r&&mv(i,r)>0||n&&n.every(function(s){return mv(i,s)>0})||!1}function Zq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.yearItemNumber,i=n===void 0?zd:n,s=ys(e,i),o=Ys(s,i),a=o.startPeriod,c=r&&ze(r);return c&&c<a||!1}function uM(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return ad(i,t)>=0});return oE(n)}else return r?oE(r):t}function pM(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return ad(i,t)<=0});return aE(n)}else return r?aE(r):t}function EE(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",r=new Map,n=0,i=e.length;n<i;n++){var s=e[n];if(ya(s)){var o=Dt(s,"MM.dd.yyyy"),a=r.get(o)||[];a.includes(t)||(a.push(t),r.set(o,a))}else if(dC(s)==="object"){var c=Object.keys(s),l=c[0],u=s[c[0]];if(typeof l=="string"&&u.constructor===Array)for(var p=0,d=u.length;p<d;p++){var f=Dt(u[p],"MM.dd.yyyy"),h=r.get(f)||[];h.includes(l)||(h.push(l),r.set(f,h))}}}return r}function eW(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function tW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",r=new Map;return e.forEach(function(n){var i=n.date,s=n.holidayName;if(ya(i)){var o=Dt(i,"MM.dd.yyyy"),a=r.get(o)||{};if(!("className"in a&&a.className===t&&eW(a.holidayNames,[s]))){a.className=t;var c=a.holidayNames;a.holidayNames=c?[].concat(go(c),[s]):[s],r.set(o,a)}}}),r}function rW(e,t,r,n,i){for(var s=i.length,o=[],a=0;a<s;a++){var c=e;c=xU(c,ts(i[a])),c=iC(c,es(i[a])),c=eq(c,Ss(i[a]));var l=iC(e,(r+1)*n);mo(c,t)&&Sa(c,l)&&o.push(i[a])}return o}function RE(e){return e<10?"0".concat(e):"".concat(e)}function Ys(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zd,r=Math.ceil(ze(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function nW(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function TE(e){var t=e.getSeconds(),r=e.getMilliseconds();return Q(e.getTime()-t*1e3-r)}function iW(e,t){return TE(e).getTime()===TE(t).getTime()}function kE(e){if(!ya(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function IE(e,t){if(!ya(e)||!ya(t))throw new Error("Invalid date received");var r=kE(e),n=kE(t);return Sa(r,n)}function dM(e){var t=" ";return e.key===t}function sW(e,t,r,n){for(var i=[],s=0;s<2*t+1;s++){var o=e+t-s,a=!0;r&&(a=ze(r)<=o),n&&a&&(a=ze(n)>=o),a&&i.push(o)}return i}var oW=function(e){function t(r){var n;Ir(this,t),n=kr(this,t,[r]),E(n,"renderOptions",function(){var a=n.props.year,c=n.state.yearsList.map(function(p){return x.createElement("div",{className:a===p?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:p,onClick:n.onChange.bind(n,p),"aria-selected":a===p?"true":void 0},a===p?x.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",p)}),l=n.props.minDate?ze(n.props.minDate):null,u=n.props.maxDate?ze(n.props.maxDate):null;return(!u||!n.state.yearsList.find(function(p){return p===u}))&&c.unshift(x.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},x.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!l||!n.state.yearsList.find(function(p){return p===l}))&&c.push(x.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},x.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c}),E(n,"onChange",function(a){n.props.onChange(a)}),E(n,"handleClickOutside",function(){n.props.onCancel()}),E(n,"shiftYears",function(a){var c=n.state.yearsList.map(function(l){return l+a});n.setState({yearsList:c})}),E(n,"incrementYears",function(){return n.shiftYears(1)}),E(n,"decrementYears",function(){return n.shiftYears(-1)});var i=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,o=i||(s?10:5);return n.state={yearsList:sW(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=P.createRef(),n}return xr(t,e),Ar(t,[{key:"componentDidMount",value:function(){var n=this.dropdownRef.current;if(n){var i=n.children?Array.from(n.children):null,s=i?i.find(function(o){return o.ariaSelected}):null;n.scrollTop=s?s.offsetTop+(s.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}}},{key:"render",value:function(){var n=ue({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return x.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())}}])}(x.Component),aW=mm(oW),cW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"state",{dropdownVisible:!1}),E(r,"renderSelectOptions",function(){for(var o=r.props.minDate?ze(r.props.minDate):1900,a=r.props.maxDate?ze(r.props.maxDate):2100,c=[],l=o;l<=a;l++)c.push(x.createElement("option",{key:l,value:l},l));return c}),E(r,"onSelectChange",function(o){r.onChange(o.target.value)}),E(r,"renderSelectMode",function(){return x.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),E(r,"renderReadView",function(o){return x.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(c){return r.toggleDropdown(c)}},x.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),x.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))}),E(r,"renderDropdown",function(){return x.createElement(aW,{key:"dropdown",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),E(r,"renderScrollMode",function(){var o=r.state.dropdownVisible,a=[r.renderReadView(!o)];return o&&a.unshift(r.renderDropdown()),a}),E(r,"onChange",function(o){r.toggleDropdown(),o!==r.props.year&&r.props.onChange(o)}),E(r,"toggleDropdown",function(o){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,o)})}),E(r,"handleYearChange",function(o,a){r.onSelect(o,a),r.setOpen()}),E(r,"onSelect",function(o,a){r.props.onSelect&&r.props.onSelect(o,a)}),E(r,"setOpen",function(){r.props.setOpen&&r.props.setOpen(!0)}),r}return xr(t,e),Ar(t,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return x.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)}}])}(x.Component),lW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"isSelectedMonth",function(o){return r.props.month===o}),E(r,"renderOptions",function(){return r.props.monthNames.map(function(o,a){return x.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?x.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})}),E(r,"onChange",function(o){return r.props.onChange(o)}),E(r,"handleClickOutside",function(){return r.props.onCancel()}),r}return xr(t,e),Ar(t,[{key:"render",value:function(){return x.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(x.Component),uW=mm(lW),pW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"state",{dropdownVisible:!1}),E(r,"renderSelectOptions",function(o){return o.map(function(a,c){return x.createElement("option",{key:c,value:c},a)})}),E(r,"renderSelectMode",function(o){return x.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(c){return r.onChange(c.target.value)}},r.renderSelectOptions(o))}),E(r,"renderReadView",function(o,a){return x.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},x.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),x.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))}),E(r,"renderDropdown",function(o){return x.createElement(uW,{key:"dropdown",month:r.props.month,monthNames:o,onChange:r.onChange,onCancel:r.toggleDropdown})}),E(r,"renderScrollMode",function(o){var a=r.state.dropdownVisible,c=[r.renderReadView(!a,o)];return a&&c.unshift(r.renderDropdown(o)),c}),E(r,"onChange",function(o){r.toggleDropdown(),o!==r.props.month&&r.props.onChange(o)}),E(r,"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return xr(t,e),Ar(t,[{key:"render",value:function(){var n=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return cM(o,n.props.locale)}:function(o){return bb(o,n.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(i);break;case"select":s=this.renderSelectMode(i);break}return x.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)}}])}(x.Component);function dW(e,t){for(var r=[],n=oo(e),i=oo(t);!mo(n,i);)r.push(ft(n)),n=Ti(n,1);return r}var fW=function(e){function t(r){var n;return Ir(this,t),n=kr(this,t,[r]),E(n,"renderOptions",function(){return n.state.monthYearsList.map(function(i){var s=sC(i),o=Hi(n.props.date,i)&&Fn(n.props.date,i);return x.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?x.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Dt(i,n.props.dateFormat,n.props.locale))})}),E(n,"onChange",function(i){return n.props.onChange(i)}),E(n,"handleClickOutside",function(){n.props.onCancel()}),n.state={monthYearsList:dW(n.props.minDate,n.props.maxDate)},n}return xr(t,e),Ar(t,[{key:"render",value:function(){var n=ue({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return x.createElement("div",{className:n},this.renderOptions())}}])}(x.Component),hW=mm(fW),vW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"state",{dropdownVisible:!1}),E(r,"renderSelectOptions",function(){for(var o=oo(r.props.minDate),a=oo(r.props.maxDate),c=[];!mo(o,a);){var l=sC(o);c.push(x.createElement("option",{key:l,value:l},Dt(o,r.props.dateFormat,r.props.locale))),o=Ti(o,1)}return c}),E(r,"onSelectChange",function(o){r.onChange(o.target.value)}),E(r,"renderSelectMode",function(){return x.createElement("select",{value:sC(oo(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),E(r,"renderReadView",function(o){var a=Dt(r.props.date,r.props.dateFormat,r.props.locale);return x.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(l){return r.toggleDropdown(l)}},x.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),x.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),E(r,"renderDropdown",function(){return x.createElement(hW,{key:"dropdown",date:r.props.date,dateFormat:r.props.dateFormat,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,locale:r.props.locale})}),E(r,"renderScrollMode",function(){var o=r.state.dropdownVisible,a=[r.renderReadView(!o)];return o&&a.unshift(r.renderDropdown()),a}),E(r,"onChange",function(o){r.toggleDropdown();var a=ft(parseInt(o));Hi(r.props.date,a)&&Fn(r.props.date,a)||r.props.onChange(a)}),E(r,"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return xr(t,e),Ar(t,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return x.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)}}])}(x.Component),mW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"dayEl",x.createRef()),E(r,"handleClick",function(o){!r.isDisabled()&&r.props.onClick&&r.props.onClick(o)}),E(r,"handleMouseEnter",function(o){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(o)}),E(r,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),r.props.handleOnKeyDown(o)}),E(r,"isSameDay",function(o){return st(r.props.day,o)}),E(r,"isKeyboardSelected",function(){var o;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected);return!a&&r.isSameDayOrWeek(r.props.preSelection)}),E(r,"isDisabled",function(){return gm(r.props.day,r.props)}),E(r,"isExcluded",function(){return Pb(r.props.day,r.props)}),E(r,"isStartOfWeek",function(){return st(r.props.day,so(r.props.day,r.props.locale,r.props.calendarStartDay))}),E(r,"isSameWeek",function(o){return r.props.showWeekPicker&&st(o,so(r.props.day,r.props.locale,r.props.calendarStartDay))}),E(r,"isSameDayOrWeek",function(o){return r.isSameDay(o)||r.isSameWeek(o)}),E(r,"getHighLightedClass",function(){var o=r.props,a=o.day,c=o.highlightDates;if(!c)return!1;var l=Dt(a,"MM.dd.yyyy");return c.get(l)}),E(r,"getHolidaysClass",function(){var o=r.props,a=o.day,c=o.holidays;if(!c)return!1;var l=Dt(a,"MM.dd.yyyy");if(c.has(l))return[c.get(l).className]}),E(r,"isInRange",function(){var o=r.props,a=o.day,c=o.startDate,l=o.endDate;return!c||!l?!1:hp(a,c,l)}),E(r,"isInSelectingRange",function(){var o,a=r.props,c=a.day,l=a.selectsStart,u=a.selectsEnd,p=a.selectsRange,d=a.selectsDisabledDaysInRange,f=a.startDate,h=a.endDate,v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(l||u||p)||!v||!d&&r.isDisabled()?!1:l&&h&&(Sa(v,h)||ra(v,h))?hp(c,v,h):u&&f&&(mo(v,f)||ra(v,f))||p&&f&&!h&&(mo(v,f)||ra(v,f))?hp(c,f,v):!1}),E(r,"isSelectingRangeStart",function(){var o;if(!r.isInSelectingRange())return!1;var a=r.props,c=a.day,l=a.startDate,u=a.selectsStart,p=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return u?st(c,p):st(c,l)}),E(r,"isSelectingRangeEnd",function(){var o;if(!r.isInSelectingRange())return!1;var a=r.props,c=a.day,l=a.endDate,u=a.selectsEnd,p=a.selectsRange,d=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return u||p?st(c,d):st(c,l)}),E(r,"isRangeStart",function(){var o=r.props,a=o.day,c=o.startDate,l=o.endDate;return!c||!l?!1:st(c,a)}),E(r,"isRangeEnd",function(){var o=r.props,a=o.day,c=o.startDate,l=o.endDate;return!c||!l?!1:st(l,a)}),E(r,"isWeekend",function(){var o=DU(r.props.day);return o===0||o===6}),E(r,"isAfterMonth",function(){return r.props.month!==void 0&&(r.props.month+1)%12===wn(r.props.day)}),E(r,"isBeforeMonth",function(){return r.props.month!==void 0&&(wn(r.props.day)+1)%12===r.props.month}),E(r,"isCurrentDay",function(){return r.isSameDay(ft())}),E(r,"isSelected",function(){if(r.props.selectsMultiple){var o;return(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return r.isSameDayOrWeek(a)})}return r.isSameDayOrWeek(r.props.selected)}),E(r,"getClassNames",function(o){var a=r.props.dayClassName?r.props.dayClassName(o):void 0;return ue("react-datepicker__day",a,"react-datepicker__day--"+Uq(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"),r.getHolidaysClass())}),E(r,"getAriaLabel",function(){var o=r.props,a=o.day,c=o.ariaLabelPrefixWhenEnabled,l=c===void 0?"Choose":c,u=o.ariaLabelPrefixWhenDisabled,p=u===void 0?"Not available":u,d=r.isDisabled()||r.isExcluded()?p:l;return"".concat(d," ").concat(Dt(a,"PPPP",r.props.locale))}),E(r,"getTitle",function(){var o=r.props,a=o.day,c=o.holidays,l=c===void 0?new Map:c,u=o.excludeDates,p=Dt(a,"MM.dd.yyyy"),d=[];return l.has(p)&&d.push.apply(d,go(l.get(p).holidayNames)),r.isExcluded()&&d.push(u==null?void 0:u.filter(function(f){return st(f.date?f.date:f,a)}).map(function(f){return f.message})),d.join(", ")}),E(r,"getTabIndex",function(o,a){var c=o||r.props.selected,l=a||r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(c)&&st(l,c))?0:-1;return u}),E(r,"handleFocusDay",function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=!1;r.getTabIndex()===0&&!a.isInputFocused&&r.isSameDay(r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(c=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(c=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(c=!0),r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()&&(c=!1),r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()&&(c=!1)),c&&((o=r.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),E(r,"renderDayContents",function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(sE(r.props.day),r.props.day):sE(r.props.day)}),E(r,"render",function(){return x.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&x.createElement("span",{className:"overlay"},r.getTitle()))}),r}return xr(t,e),Ar(t,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(n){this.handleFocusDay(n)}}])}(x.Component),gW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"weekNumberEl",x.createRef()),E(r,"handleClick",function(o){r.props.onClick&&r.props.onClick(o)}),E(r,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),r.props.handleOnKeyDown(o)}),E(r,"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!st(r.props.date,r.props.selected)&&st(r.props.date,r.props.preSelection)}),E(r,"getTabIndex",function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||st(r.props.date,r.props.selected)&&st(r.props.preSelection,r.props.selected))?0:-1}),E(r,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;r.getTabIndex()===0&&!o.isInputFocused&&st(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})}),r}return xr(t,e),Ar(t,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(n){this.handleFocusWeekNumber(n)}},{key:"render",value:function(){var n=this.props,i=n.weekNumber,s=n.ariaLabelPrefix,o=s===void 0?"week ":s,a=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&st(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return x.createElement("div",{ref:this.weekNumberEl,className:ue(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(x.Component),yW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"handleDayClick",function(o,a){r.props.onDayClick&&r.props.onDayClick(o,a)}),E(r,"handleDayMouseEnter",function(o){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)}),E(r,"handleWeekClick",function(o,a,c){typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(o,a,c),r.props.showWeekPicker&&r.handleDayClick(o,c),r.props.shouldCloseOnSelect&&r.props.setOpen(!1)}),E(r,"formatWeekNumber",function(o){return r.props.formatWeekNumber?r.props.formatWeekNumber(o):Hq(o)}),E(r,"renderDays",function(){var o=r.startOfWeek(),a=[],c=r.formatWeekNumber(o);if(r.props.showWeekNumber){var l=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,o,c):void 0;a.push(x.createElement(gW,{key:"W",weekNumber:c,date:o,onClick:l,selected:r.props.selected,preSelection:r.props.preSelection,ariaLabelPrefix:r.props.ariaLabelPrefix,showWeekPicker:r.props.showWeekPicker,showWeekNumber:r.props.showWeekNumber,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(u){var p=Ro(o,u);return x.createElement(mW,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,month:r.props.month,onClick:r.handleDayClick.bind(r,p),usePointerEvent:r.props.usePointerEvent,onMouseEnter:r.handleDayMouseEnter.bind(r,p),minDate:r.props.minDate,maxDate:r.props.maxDate,calendarStartDay:r.props.calendarStartDay,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,showWeekPicker:r.props.showWeekPicker,showWeekNumber:r.props.showWeekNumber,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart,locale:r.props.locale})}))}),E(r,"startOfWeek",function(){return so(r.props.day,r.props.locale,r.props.calendarStartDay)}),E(r,"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!st(r.startOfWeek(),r.props.selected)&&st(r.startOfWeek(),r.props.preSelection)}),r}return xr(t,e),Ar(t,[{key:"render",value:function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":st(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return x.createElement("div",{className:ue(n)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(x.Component),SW=6,dc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Hy=E(E(E({},dc.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),dc.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),dc.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),Bf=1;function AE(e,t){return e?dc.FOUR_COLUMNS:t?dc.TWO_COLUMNS:dc.THREE_COLUMNS}var CW=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"MONTH_REFS",go(Array(12)).map(function(){return x.createRef()})),E(r,"QUARTER_REFS",go(Array(4)).map(function(){return x.createRef()})),E(r,"isDisabled",function(o){return gm(o,r.props)}),E(r,"isExcluded",function(o){return Pb(o,r.props)}),E(r,"handleDayClick",function(o,a){r.props.onDayClick&&r.props.onDayClick(o,a,r.props.orderInDisplay)}),E(r,"handleDayMouseEnter",function(o){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)}),E(r,"handleMouseLeave",function(){r.props.onMouseLeave&&r.props.onMouseLeave()}),E(r,"isRangeStartMonth",function(o){var a=r.props,c=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Fn(Cn(c,o),l)}),E(r,"isRangeStartQuarter",function(o){var a=r.props,c=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:wv(Ba(c,o),l)}),E(r,"isRangeEndMonth",function(o){var a=r.props,c=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Fn(Cn(c,o),u)}),E(r,"isRangeEndQuarter",function(o){var a=r.props,c=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:wv(Ba(c,o),u)}),E(r,"isInSelectingRangeMonth",function(o){var a,c=r.props,l=c.day,u=c.selectsStart,p=c.selectsEnd,d=c.selectsRange,f=c.startDate,h=c.endDate,v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||p||d)||!v?!1:u&&h?zf(v,h,o,l):p&&f||d&&f&&!h?zf(f,v,o,l):!1}),E(r,"isSelectingMonthRangeStart",function(o){var a;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,l=c.day,u=c.startDate,p=c.selectsStart,d=Cn(l,o),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return p?Fn(d,f):Fn(d,u)}),E(r,"isSelectingMonthRangeEnd",function(o){var a;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,l=c.day,u=c.endDate,p=c.selectsEnd,d=c.selectsRange,f=Cn(l,o),h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return p||d?Fn(f,h):Fn(f,u)}),E(r,"isInSelectingRangeQuarter",function(o){var a,c=r.props,l=c.day,u=c.selectsStart,p=c.selectsEnd,d=c.selectsRange,f=c.startDate,h=c.endDate,v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||p||d)||!v?!1:u&&h?Ff(v,h,o,l):p&&f||d&&f&&!h?Ff(f,v,o,l):!1}),E(r,"isWeekInMonth",function(o){var a=r.props.day,c=Ro(o,6);return Fn(o,a)||Fn(c,a)}),E(r,"isCurrentMonth",function(o,a){return ze(o)===ze(ft())&&a===wn(ft())}),E(r,"isCurrentQuarter",function(o,a){return ze(o)===ze(ft())&&a===oa(ft())}),E(r,"isSelectedMonth",function(o,a,c){return wn(c)===a&&ze(o)===ze(c)}),E(r,"isSelectedQuarter",function(o,a,c){return oa(o)===a&&ze(o)===ze(c)}),E(r,"renderWeeks",function(){for(var o=[],a=r.props.fixedHeight,c=0,l=!1,u=so(oo(r.props.day),r.props.locale,r.props.calendarStartDay),p=r.props.showWeekPicker?so(r.props.selected,r.props.locale,r.props.calendarStartDay):r.props.selected,d=r.props.showWeekPicker?so(r.props.preSelection,r.props.locale,r.props.calendarStartDay):r.props.preSelection;o.push(x.createElement(yW,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,key:c,day:u,month:wn(r.props.day),onDayClick:r.handleDayClick,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:d,selected:p,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumber:r.props.showWeekNumbers,showWeekPicker:r.props.showWeekPicker,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderDayContents:r.props.renderDayContents,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,calendarStartDay:r.props.calendarStartDay,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart})),!l;){c++,u=hv(u,1);var f=a&&c>=SW,h=!a&&!r.isWeekInMonth(u);if(f||h)if(r.props.peekNextMonth)l=!0;else break}return o}),E(r,"onMonthClick",function(o,a){var c=Cn(r.props.day,a);gh(c,r.props)||r.handleDayClick(oo(c),o)}),E(r,"onMonthMouseEnter",function(o){var a=Cn(r.props.day,o);gh(a,r.props)||r.handleDayMouseEnter(oo(a))}),E(r,"handleMonthNavigation",function(o,a){r.isDisabled(a)||r.isExcluded(a)||(r.props.setPreSelection(a),r.MONTH_REFS[o].current&&r.MONTH_REFS[o].current.focus())}),E(r,"onMonthKeyDown",function(o,a){var c=r.props,l=c.selected,u=c.preSelection,p=c.disabledKeyboardNavigation,d=c.showTwoColumnMonthYearPicker,f=c.showFourColumnMonthYearPicker,h=c.setPreSelection,v=c.handleOnMonthKeyDown,g=o.key;if(g!=="Tab"&&o.preventDefault(),!p){var m=AE(f,d),y=Hy[m].verticalNavigationOffset,S=Hy[m].grid;switch(g){case"Enter":r.onMonthClick(o,a),h(l);break;case"ArrowRight":r.handleMonthNavigation(a===11?0:a+Bf,Ti(u,Bf));break;case"ArrowLeft":r.handleMonthNavigation(a===0?11:a-Bf,Ic(u,Bf));break;case"ArrowUp":r.handleMonthNavigation(S[0].includes(a)?a+12-y:a-y,Ic(u,y));break;case"ArrowDown":r.handleMonthNavigation(S[S.length-1].includes(a)?a-12+y:a+y,Ti(u,y));break}}v&&v(o)}),E(r,"onQuarterClick",function(o,a){var c=Ba(r.props.day,a);By(c,r.props)||r.handleDayClick(mE(c),o)}),E(r,"onQuarterMouseEnter",function(o){var a=Ba(r.props.day,o);By(a,r.props)||r.handleDayMouseEnter(mE(a))}),E(r,"handleQuarterNavigation",function(o,a){r.isDisabled(a)||r.isExcluded(a)||(r.props.setPreSelection(a),r.QUARTER_REFS[o-1].current&&r.QUARTER_REFS[o-1].current.focus())}),E(r,"onQuarterKeyDown",function(o,a){var c=o.key;if(!r.props.disabledKeyboardNavigation)switch(c){case"Enter":r.onQuarterClick(o,a),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleQuarterNavigation(a===4?1:a+1,Sb(r.props.preSelection,1));break;case"ArrowLeft":r.handleQuarterNavigation(a===1?4:a-1,GD(r.props.preSelection,1));break}}),E(r,"isMonthDisabled",function(o){var a=r.props,c=a.day,l=a.minDate,u=a.maxDate,p=a.excludeDates,d=a.includeDates,f=Cn(c,o);return(l||u||p||d)&&gh(f,r.props)}),E(r,"getMonthClassNames",function(o){var a=r.props,c=a.day,l=a.startDate,u=a.endDate,p=a.selected,d=a.preSelection,f=a.monthClassName,h=f?f(Cn(c,o)):void 0;return ue("react-datepicker__month-text","react-datepicker__month-".concat(o),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(o),"react-datepicker__month-text--selected":r.isSelectedMonth(c,o,p),"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&r.isSelectedMonth(c,o,d),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":zf(l,u,o,c),"react-datepicker__month-text--range-start":r.isRangeStartMonth(o),"react-datepicker__month-text--range-end":r.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":r.isCurrentMonth(c,o)})}),E(r,"getTabIndex",function(o){var a=wn(r.props.preSelection),c=!r.props.disabledKeyboardNavigation&&o===a?"0":"-1";return c}),E(r,"getQuarterTabIndex",function(o){var a=oa(r.props.preSelection),c=!r.props.disabledKeyboardNavigation&&o===a?"0":"-1";return c}),E(r,"getAriaLabel",function(o){var a=r.props,c=a.chooseDayAriaLabelPrefix,l=c===void 0?"Choose":c,u=a.disabledDayAriaLabelPrefix,p=u===void 0?"Not available":u,d=a.day,f=a.locale,h=Cn(d,o),v=r.isDisabled(h)||r.isExcluded(h)?p:l;return"".concat(v," ").concat(Dt(h,"MMMM yyyy",f))}),E(r,"getQuarterClassNames",function(o){var a=r.props,c=a.day,l=a.startDate,u=a.endDate,p=a.selected,d=a.minDate,f=a.maxDate,h=a.preSelection,v=a.disabledKeyboardNavigation;return ue("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(d||f)&&By(Ba(c,o),r.props),"react-datepicker__quarter-text--selected":r.isSelectedQuarter(c,o,p),"react-datepicker__quarter-text--keyboard-selected":!v&&r.isSelectedQuarter(c,o,h),"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":Ff(l,u,o,c),"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(o)})}),E(r,"getMonthContent",function(o){var a=r.props,c=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,p=a.day,d=cM(o,u),f=bb(o,u);return l?l(o,d,f,p):c?f:d}),E(r,"getQuarterContent",function(o){var a=r.props,c=a.renderQuarterContent,l=a.locale,u=Gq(o,l);return c?c(o,u):u}),E(r,"renderMonths",function(){var o=r.props,a=o.showTwoColumnMonthYearPicker,c=o.showFourColumnMonthYearPicker,l=o.day,u=o.selected,p=Hy[AE(c,a)].grid;return p.map(function(d,f){return x.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,v){return x.createElement("div",{ref:r.MONTH_REFS[h],key:v,onClick:function(m){r.onMonthClick(m,h)},onKeyDown:function(m){dM(m)&&(m.preventDefault(),m.key="Enter"),r.onMonthKeyDown(m,h)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(h)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(h)}:void 0,tabIndex:r.getTabIndex(h),className:r.getMonthClassNames(h),"aria-disabled":r.isMonthDisabled(h),role:"option","aria-label":r.getAriaLabel(h),"aria-current":r.isCurrentMonth(l,h)?"date":void 0,"aria-selected":r.isSelectedMonth(l,h,u)},r.getMonthContent(h))}))})}),E(r,"renderQuarters",function(){var o=r.props,a=o.day,c=o.selected,l=[1,2,3,4];return x.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,p){return x.createElement("div",{key:p,ref:r.QUARTER_REFS[p],role:"option",onClick:function(f){r.onQuarterClick(f,u)},onKeyDown:function(f){r.onQuarterKeyDown(f,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":r.isSelectedQuarter(a,u,c),tabIndex:r.getQuarterTabIndex(u),"aria-current":r.isCurrentQuarter(a,u)?"date":void 0},r.getQuarterContent(u))}))}),E(r,"getClassNames",function(){var o=r.props,a=o.selectingDate,c=o.selectsStart,l=o.selectsEnd,u=o.showMonthYearPicker,p=o.showQuarterYearPicker,d=o.showWeekPicker;return ue("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(c||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":d})}),r}return xr(t,e),Ar(t,[{key:"render",value:function(){var n=this.props,i=n.showMonthYearPicker,s=n.showQuarterYearPicker,o=n.day,a=n.ariaLabelPrefix,c=a===void 0?"Month ":a,l=c?c.trim()+" ":"";return x.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Dt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():s?this.renderQuarters():this.renderWeeks())}}])}(x.Component),fM=function(e){function t(){var r;Ir(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kr(this,t,[].concat(i)),E(r,"state",{height:null}),E(r,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){r.list&&(r.list.scrollTop=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-r.header.clientHeight:r.list.clientHeight,r.centerLi))})}),E(r,"handleClick",function(o){(r.props.minTime||r.props.maxTime)&&CE(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&SE(o,r.props)||r.props.onChange(o)}),E(r,"isSelectedTime",function(o){return r.props.selected&&iW(r.props.selected,o)}),E(r,"isDisabledTime",function(o){return(r.props.minTime||r.props.maxTime)&&CE(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&SE(o,r.props)}),E(r,"liClasses",function(o){var a=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(o):void 0];return r.isSelectedTime(o)&&a.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(o)&&a.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(ts(o)*3600+es(o)*60+Ss(o))%(r.props.intervals*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),E(r,"handleOnKeyDown",function(o,a){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&r.handleClick(a),r.props.handleOnKeyDown(o)}),E(r,"renderTimes",function(){for(var o=[],a=r.props.format?r.props.format:"p",c=r.props.intervals,l=r.props.selected||r.props.openToDate||ft(),u=qq(l),p=r.props.injectTimes&&r.props.injectTimes.sort(function(y,S){return y-S}),d=60*nW(l),f=d/c,h=0;h<f;h++){var v=iC(u,h*c);if(o.push(v),p){var g=rW(u,v,h,c,p);o=o.concat(g)}}var m=o.reduce(function(y,S){return S.getTime()<=l.getTime()?S:y},o[0]);return o.map(function(y,S){return x.createElement("li",{key:S,onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(b){y===m&&(r.centerLi=b)},onKeyDown:function(b){r.handleOnKeyDown(b,y)},tabIndex:y===m?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},Dt(y,a,r.props.locale))})}),r}return xr(t,e),Ar(t,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var n=this,i=this.state.height;return x.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},x.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},x.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),x.createElement("div",{className:"react-datepicker__time"},x.createElement("div",{className:"react-datepicker__time-box"},x.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(x.Component);E(fM,"calcCenterPosition",function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)});var xE=3,wW=function(e){function t(r){var n;return Ir(this,t),n=kr(this,t,[r]),E(n,"YEAR_REFS",go(Array(n.props.yearItemNumber)).map(function(){return x.createRef()})),E(n,"isDisabled",function(i){return gm(i,n.props)}),E(n,"isExcluded",function(i){return Pb(i,n.props)}),E(n,"selectingDate",function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection}),E(n,"updateFocusOnPaginate",function(i){var s=(function(){this.YEAR_REFS[i].current.focus()}).bind(n);window.requestAnimationFrame(s)}),E(n,"handleYearClick",function(i,s){n.props.onDayClick&&n.props.onDayClick(i,s)}),E(n,"handleYearNavigation",function(i,s){var o=n.props,a=o.date,c=o.yearItemNumber,l=Ys(a,c),u=l.startPeriod;n.isDisabled(s)||n.isExcluded(s)||(n.props.setPreSelection(s),i-u<0?n.updateFocusOnPaginate(c-(u-i)):i-u>=c?n.updateFocusOnPaginate(Math.abs(c-(i-u))):n.YEAR_REFS[i-u].current.focus())}),E(n,"isSameDay",function(i,s){return st(i,s)}),E(n,"isCurrentYear",function(i){return i===ze(ft())}),E(n,"isRangeStart",function(i){return n.props.startDate&&n.props.endDate&&Hi(zi(ft(),i),n.props.startDate)}),E(n,"isRangeEnd",function(i){return n.props.startDate&&n.props.endDate&&Hi(zi(ft(),i),n.props.endDate)}),E(n,"isInRange",function(i){return $f(i,n.props.startDate,n.props.endDate)}),E(n,"isInSelectingRange",function(i){var s=n.props,o=s.selectsStart,a=s.selectsEnd,c=s.selectsRange,l=s.startDate,u=s.endDate;return!(o||a||c)||!n.selectingDate()?!1:o&&u?$f(i,n.selectingDate(),u):a&&l||c&&l&&!u?$f(i,l,n.selectingDate()):!1}),E(n,"isSelectingRangeStart",function(i){if(!n.isInSelectingRange(i))return!1;var s=n.props,o=s.startDate,a=s.selectsStart,c=zi(ft(),i);return a?Hi(c,n.selectingDate()):Hi(c,o)}),E(n,"isSelectingRangeEnd",function(i){if(!n.isInSelectingRange(i))return!1;var s=n.props,o=s.endDate,a=s.selectsEnd,c=s.selectsRange,l=zi(ft(),i);return a||c?Hi(l,n.selectingDate()):Hi(l,o)}),E(n,"isKeyboardSelected",function(i){var s=fp(zi(n.props.date,i));return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!st(s,fp(n.props.selected))&&st(s,fp(n.props.preSelection))}),E(n,"onYearClick",function(i,s){var o=n.props.date;n.handleYearClick(fp(zi(o,s)),i)}),E(n,"onYearKeyDown",function(i,s){var o=i.key,a=n.props,c=a.date,l=a.yearItemNumber,u=a.handleOnKeyDown;if(o!=="Tab"&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(o){case"Enter":n.onYearClick(i,s),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleYearNavigation(s+1,ys(n.props.preSelection,1));break;case"ArrowLeft":n.handleYearNavigation(s-1,Ac(n.props.preSelection,1));break;case"ArrowUp":{var p=Ys(c,l),d=p.startPeriod,f=xE,h=s-f;if(h<d){var v=l%f;s>=d&&s<d+v?f=v:f+=v,h=s-f}n.handleYearNavigation(h,Ac(n.props.preSelection,f));break}case"ArrowDown":{var g=Ys(c,l),m=g.endPeriod,y=xE,S=s+y;if(S>m){var C=l%y;s<=m&&s>m-C?y=C:y+=C,S=s+y}n.handleYearNavigation(S,ys(n.props.preSelection,y));break}}u&&u(i)}),E(n,"getYearClassNames",function(i){var s=n.props,o=s.date,a=s.minDate,c=s.maxDate,l=s.selected,u=s.excludeDates,p=s.includeDates,d=s.filterDate,f=s.yearClassName;return ue("react-datepicker__year-text","react-datepicker__year-".concat(i),f?f(zi(o,i)):void 0,{"react-datepicker__year-text--selected":i===ze(l),"react-datepicker__year-text--disabled":(a||c||u||p||d)&&lM(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})}),E(n,"getYearTabIndex",function(i){if(n.props.disabledKeyboardNavigation)return"-1";var s=ze(n.props.preSelection);return i===s?"0":"-1"}),E(n,"getYearContainerClassNames",function(){var i=n.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,c=i.selectsRange;return ue("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||c)})}),E(n,"getYearContent",function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i}),n}return xr(t,e),Ar(t,[{key:"render",value:function(){for(var n=this,i=[],s=this.props,o=s.date,a=s.yearItemNumber,c=s.onYearMouseEnter,l=s.onYearMouseLeave,u=Ys(o,a),p=u.startPeriod,d=u.endPeriod,f=function(g){i.push(x.createElement("div",{ref:n.YEAR_REFS[g-p],onClick:function(y){n.onYearClick(y,g)},onKeyDown:function(y){dM(y)&&(y.preventDefault(),y.key="Enter"),n.onYearKeyDown(y,g)},tabIndex:n.getYearTabIndex(g),className:n.getYearClassNames(g),onMouseEnter:n.props.usePointerEvent?void 0:function(m){return c(m,g)},onPointerEnter:n.props.usePointerEvent?function(m){return c(m,g)}:void 0,onMouseLeave:n.props.usePointerEvent?void 0:function(m){return l(m,g)},onPointerLeave:n.props.usePointerEvent?function(m){return l(m,g)}:void 0,key:g,"aria-current":n.isCurrentYear(g)?"date":void 0},n.getYearContent(g)))},h=p;h<=d;h++)f(h);return x.createElement("div",{className:this.getYearContainerClassNames()},x.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))}}])}(x.Component),bW=function(e){function t(r){var n;return Ir(this,t),n=kr(this,t,[r]),E(n,"onTimeChange",function(i){n.setState({time:i});var s=n.props.date,o=s instanceof Date&&!isNaN(s),a=o?s:new Date;a.setHours(i.split(":")[0]),a.setMinutes(i.split(":")[1]),n.props.onChange(a)}),E(n,"renderTimeInput",function(){var i=n.state.time,s=n.props,o=s.date,a=s.timeString,c=s.customTimeInput;return c?x.cloneElement(c,{date:o,value:i,onChange:n.onTimeChange}):x.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(u){n.onTimeChange(u.target.value||a)}})}),n.state={time:n.props.timeString},n}return xr(t,e),Ar(t,[{key:"render",value:function(){return x.createElement("div",{className:"react-datepicker__input-time-container"},x.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),x.createElement("div",{className:"react-datepicker-time__input-container"},x.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.timeString!==i.time?{time:n.timeString}:null}}])}(x.Component);function PW(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,i=n===void 0?!1:n,s=e.className,o=e.children,a=r?"Choose Time":"Choose Date".concat(i?" and Time":"");return x.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)}var _W=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],EW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(t.className||"").split(/\s+/);return _W.some(function(n){return r.indexOf(n)>=0})},RW=function(e){function t(r){var n;return Ir(this,t),n=kr(this,t,[r]),E(n,"handleClickOutside",function(i){n.props.onClickOutside(i)}),E(n,"setClickOutsideRef",function(){return n.containerRef.current}),E(n,"handleDropdownFocus",function(i){EW(i.target)&&n.props.onDropdownFocus()}),E(n,"getDateInView",function(){var i=n.props,s=i.preSelection,o=i.selected,a=i.openToDate,c=uM(n.props),l=pM(n.props),u=ft(),p=a||o||s;return p||(c&&Sa(u,c)?c:l&&mo(u,l)?l:u)}),E(n,"increaseMonth",function(){n.setState(function(i){var s=i.date;return{date:Ti(s,1)}},function(){return n.handleMonthChange(n.state.date)})}),E(n,"decreaseMonth",function(){n.setState(function(i){var s=i.date;return{date:Ic(s,1)}},function(){return n.handleMonthChange(n.state.date)})}),E(n,"handleDayClick",function(i,s,o){n.props.onSelect(i,s,o),n.props.setPreSelection&&n.props.setPreSelection(i)}),E(n,"handleDayMouseEnter",function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)}),E(n,"handleMonthMouseLeave",function(){n.setState({selectingDate:null}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()}),E(n,"handleYearMouseEnter",function(i,s){n.setState({selectingDate:zi(ft(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,s)}),E(n,"handleYearMouseLeave",function(i,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,s)}),E(n,"handleYearChange",function(i){n.props.onYearChange&&(n.props.onYearChange(i),n.setState({isRenderAriaLiveMessage:!0})),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(i),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(i)}),E(n,"handleMonthChange",function(i){n.handleCustomMonthChange(i),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(i),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(i)}),E(n,"handleCustomMonthChange",function(i){n.props.onMonthChange&&(n.props.onMonthChange(i),n.setState({isRenderAriaLiveMessage:!0}))}),E(n,"handleMonthYearChange",function(i){n.handleYearChange(i),n.handleMonthChange(i)}),E(n,"changeYear",function(i){n.setState(function(s){var o=s.date;return{date:zi(o,i)}},function(){return n.handleYearChange(n.state.date)})}),E(n,"changeMonth",function(i){n.setState(function(s){var o=s.date;return{date:Cn(o,i)}},function(){return n.handleMonthChange(n.state.date)})}),E(n,"changeMonthYear",function(i){n.setState(function(s){var o=s.date;return{date:zi(Cn(o,wn(i)),ze(i))}},function(){return n.handleMonthYearChange(n.state.date)})}),E(n,"header",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.state.date,s=so(i,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(x.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var c=Ro(s,a),l=n.formatWeekday(c,n.props.locale),u=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return x.createElement("div",{key:a,"aria-label":Dt(c,"EEEE",n.props.locale),className:ue("react-datepicker__day-name",u)},l)}))}),E(n,"formatWeekday",function(i,s){return n.props.formatWeekDay?Vq(i,n.props.formatWeekDay,s):n.props.useWeekdaysShort?Kq(i,s):Yq(i,s)}),E(n,"decreaseYear",function(){n.setState(function(i){var s=i.date;return{date:Ac(s,n.props.showYearPicker?n.props.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})}),E(n,"clearSelectingDate",function(){n.setState({selectingDate:null})}),E(n,"renderPreviousButton",function(){if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=PE(n.state.date,n.props);break;case n.props.showYearPicker:i=Xq(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=Qq(n.state.date,n.props);break;default:i=wE(n.state.date,n.props);break}if(!(!n.props.forceShowMonthNavigation&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],a=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(a=n.decreaseYear),i&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),a=null);var c=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,l=n.props,u=l.previousMonthButtonLabel,p=l.previousYearButtonLabel,d=n.props,f=d.previousMonthAriaLabel,h=f===void 0?typeof u=="string"?u:"Previous Month":f,v=d.previousYearAriaLabel,g=v===void 0?typeof p=="string"?p:"Previous Year":v;return x.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:n.props.handleOnKeyDown,"aria-label":c?g:h},x.createElement("span",{className:s.join(" ")},c?n.props.previousYearButtonLabel:n.props.previousMonthButtonLabel))}}}),E(n,"increaseYear",function(){n.setState(function(i){var s=i.date;return{date:ys(s,n.props.showYearPicker?n.props.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})}),E(n,"renderNextButton",function(){if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=_E(n.state.date,n.props);break;case n.props.showYearPicker:i=Zq(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=Jq(n.state.date,n.props);break;default:i=bE(n.state.date,n.props);break}if(!(!n.props.forceShowMonthNavigation&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var a=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(a=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),a=null);var c=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,l=n.props,u=l.nextMonthButtonLabel,p=l.nextYearButtonLabel,d=n.props,f=d.nextMonthAriaLabel,h=f===void 0?typeof u=="string"?u:"Next Month":f,v=d.nextYearAriaLabel,g=v===void 0?typeof p=="string"?p:"Next Year":v;return x.createElement("button",{type:"button",className:s.join(" "),onClick:a,onKeyDown:n.props.handleOnKeyDown,"aria-label":c?g:h},x.createElement("span",{className:o.join(" ")},c?n.props.nextYearButtonLabel:n.props.nextMonthButtonLabel))}}}),E(n,"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.state.date,s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),x.createElement("div",{className:s.join(" ")},Dt(i,n.props.dateFormat,n.props.locale))}),E(n,"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n.props.showYearDropdown||i))return x.createElement(cW,{adjustDateOnChange:n.props.adjustDateOnChange,date:n.state.date,onSelect:n.props.onSelect,setOpen:n.props.setOpen,dropdownMode:n.props.dropdownMode,onChange:n.changeYear,minDate:n.props.minDate,maxDate:n.props.maxDate,year:ze(n.state.date),scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),E(n,"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n.props.showMonthDropdown||i))return x.createElement(pW,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,onChange:n.changeMonth,month:wn(n.state.date),useShortMonthInDropdown:n.props.useShortMonthInDropdown})}),E(n,"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n.props.showMonthYearDropdown||i))return x.createElement(vW,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,dateFormat:n.props.dateFormat,onChange:n.changeMonthYear,minDate:n.props.minDate,maxDate:n.props.maxDate,date:n.state.date,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown})}),E(n,"handleTodayButtonClick",function(i){n.props.onSelect(gE(),i),n.props.setPreSelection&&n.props.setPreSelection(gE())}),E(n,"renderTodayButton",function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return x.createElement("div",{className:"react-datepicker__today-button",onClick:function(s){return n.handleTodayButtonClick(s)}},n.props.todayButton)}),E(n,"renderDefaultHeader",function(i){var s=i.monthDate,o=i.i;return x.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),x.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),x.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))}),E(n,"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.monthDate,o=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var a=wE(n.state.date,n.props),c=bE(n.state.date,n.props),l=PE(n.state.date,n.props),u=_E(n.state.date,n.props),p=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return x.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},n.props.renderCustomHeader(fs(fs({},n.state),{},{customHeaderCount:o,monthDate:s,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:c,prevYearButtonDisabled:l,nextYearButtonDisabled:u})),p&&x.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))}),E(n,"renderYearHeader",function(i){var s=i.monthDate,o=n.props,a=o.showYearPicker,c=o.yearItemNumber,l=Ys(s,c),u=l.startPeriod,p=l.endPeriod;return x.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(u," - ").concat(p):ze(s))}),E(n,"renderHeader",function(i){switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(i);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(i);default:return n.renderDefaultHeader(i)}}),E(n,"renderMonths",function(){var i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var s=[],o=n.props.showPreviousMonths?n.props.monthsShown-1:0,a=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ys(n.state.date,o):Ic(n.state.date,o),c=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:o,l=0;l<n.props.monthsShown;++l){var u=l-c+o,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ys(a,u):Ti(a,u),d="month-".concat(l),f=l<n.props.monthsShown-1,h=l>0;s.push(x.createElement("div",{key:d,ref:function(g){n.monthContainer=g},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:l}),x.createElement(CW,{chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:n.props.weekAriaLabelPrefix,ariaLabelPrefix:n.props.monthAriaLabelPrefix,onChange:n.changeMonthYear,day:p,dayClassName:n.props.dayClassName,calendarStartDay:n.props.calendarStartDay,monthClassName:n.props.monthClassName,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,onWeekSelect:n.props.onWeekSelect,orderInDisplay:l,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.state.selectingDate,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,fixedHeight:n.props.fixedHeight,filterDate:n.props.filterDate,preSelection:n.props.preSelection,setPreSelection:n.props.setPreSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumbers:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,peekNextMonth:n.props.peekNextMonth,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,renderDayContents:n.props.renderDayContents,renderMonthContent:n.props.renderMonthContent,renderQuarterContent:n.props.renderQuarterContent,renderYearContent:n.props.renderYearContent,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,showMonthYearPicker:n.props.showMonthYearPicker,showFullMonthYearPicker:n.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:n.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:n.props.showFourColumnMonthYearPicker,showYearPicker:n.props.showYearPicker,showQuarterYearPicker:n.props.showQuarterYearPicker,showWeekPicker:n.props.showWeekPicker,isInputFocused:n.props.isInputFocused,containerRef:n.containerRef,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:h})))}return s}}),E(n,"renderYears",function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return x.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),x.createElement(wW,ld({onDayClick:n.handleDayClick,selectingDate:n.state.selectingDate,clearSelectingDate:n.clearSelectingDate,date:n.state.date},n.props,{onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))}),E(n,"renderTimeSection",function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return x.createElement(fM,{selected:n.props.selected,openToDate:n.props.openToDate,onChange:n.props.onTimeChange,timeClassName:n.props.timeClassName,format:n.props.timeFormat,includeTimes:n.props.includeTimes,intervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,filterTime:n.props.filterTime,timeCaption:n.props.timeCaption,todayButton:n.props.todayButton,showMonthDropdown:n.props.showMonthDropdown,showMonthYearDropdown:n.props.showMonthYearDropdown,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,monthRef:n.state.monthContainer,injectTimes:n.props.injectTimes,locale:n.props.locale,handleOnKeyDown:n.props.handleOnKeyDown,showTimeSelectOnly:n.props.showTimeSelectOnly})}),E(n,"renderInputTimeSection",function(){var i=new Date(n.props.selected),s=zs(i)&&!!n.props.selected,o=s?"".concat(RE(i.getHours()),":").concat(RE(i.getMinutes())):"";if(n.props.showTimeInput)return x.createElement(bW,{date:i,timeString:o,timeInputLabel:n.props.timeInputLabel,onChange:n.props.onTimeChange,customTimeInput:n.props.customTimeInput})}),E(n,"renderAriaLiveRegion",function(){var i=Ys(n.state.date,n.props.yearItemNumber),s=i.startPeriod,o=i.endPeriod,a;return n.props.showYearPicker?a="".concat(s," - ").concat(o):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?a=ze(n.state.date):a="".concat(bb(wn(n.state.date),n.props.locale)," ").concat(ze(n.state.date)),x.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&a)}),E(n,"renderChildren",function(){if(n.props.children)return x.createElement("div",{className:"react-datepicker__children-container"},n.props.children)}),n.containerRef=x.createRef(),n.state={date:n.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},n}return xr(t,e),Ar(t,[{key:"componentDidMount",value:function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())}},{key:"componentDidUpdate",value:function(n){var i=this;if(this.props.preSelection&&(!st(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var s=!Fn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!st(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var n=this.props.container||PW;return x.createElement("div",{style:{display:"contents"},ref:this.containerRef},x.createElement(n,{className:ue("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:zd}}}])}(x.Component),TW=function(t){var r=t.icon,n=t.className,i=n===void 0?"":n,s=t.onClick,o="react-datepicker__calendar-icon";return x.isValidElement(r)?x.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(o," ").concat(i),onClick:function(c){typeof r.props.onClick=="function"&&r.props.onClick(c),typeof s=="function"&&s(c)}}):typeof r=="string"?x.createElement("i",{className:"".concat(o," ").concat(r," ").concat(i),"aria-hidden":"true",onClick:s}):x.createElement("svg",{className:"".concat(o," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},x.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},kW=TW,hM=function(e){function t(r){var n;return Ir(this,t),n=kr(this,t,[r]),n.el=document.createElement("div"),n}return xr(t,e),Ar(t,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return U3.createPortal(this.props.children,this.el)}}])}(x.Component),IW="[tabindex], a, button, input, select, textarea",AW=function(t){return!t.disabled&&t.tabIndex!==-1},vM=function(e){function t(r){var n;return Ir(this,t),n=kr(this,t,[r]),E(n,"getTabChildren",function(){return Array.prototype.slice.call(n.tabLoopRef.current.querySelectorAll(IW),1,-1).filter(AW)}),E(n,"handleFocusStart",function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),E(n,"handleFocusEnd",function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()}),n.tabLoopRef=x.createRef(),n}return xr(t,e),Ar(t,[{key:"render",value:function(){return this.props.enableTabLoop?x.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},x.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,x.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(x.Component);function xW(e){var t=function(n){var i=fs(fs({},n),{},{popperModifiers:n.popperModifiers||[],popperProps:n.popperProps||{},hidePopper:typeof n.hidePopper=="boolean"?n.hidePopper:!0}),s=x.useRef(),o=Aq(fs({open:!i.hidePopper,whileElementsMounted:vD,placement:i.popperPlacement,middleware:[vq({padding:15}),hq(10),mq({element:s})].concat(go(i.popperModifiers))},i.popperProps));return x.createElement(e,ld({},i,{popperProps:fs(fs({},o),{},{arrowRef:s})}))};return t}var OW=function(e){function t(){return Ir(this,t),kr(this,t,arguments)}return xr(t,e),Ar(t,[{key:"render",value:function(){var n=this.props,i=n.className,s=n.wrapperClassName,o=n.hidePopper,a=n.popperComponent,c=n.targetComponent,l=n.enableTabLoop,u=n.popperOnKeyDown,p=n.portalId,d=n.portalHost,f=n.popperProps,h=n.showArrow,v;if(!o){var g=ue("react-datepicker-popper",i);v=x.createElement(vM,{enableTabLoop:l},x.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:g,"data-placement":f.placement,onKeyDown:u},a,h&&x.createElement(Pq,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=x.createElement(this.props.popperContainer,{},v)),p&&!o&&(v=x.createElement(hM,{portalId:p,portalHost:d},v));var m=ue("react-datepicker-wrapper",s);return x.createElement(x.Fragment,null,x.createElement("div",{ref:f.refs.setReference,className:m},c),v)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(x.Component),DW=xW(OW),OE="react-datepicker-ignore-onclickoutside",MW=mm(RW);function NW(e,t){return e&&t?wn(e)!==wn(t)||ze(e)!==ze(t):e!==t}var Uy="Date input not valid.",LW=function(e){function t(r){var n;return Ir(this,t),n=kr(this,t,[r]),E(n,"getPreSelection",function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ft()}),E(n,"modifyHolidays",function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return od(a)?[].concat(go(s),[fs(fs({},o),{},{date:a})]):s},[])}),E(n,"calcInitialState",function(){var i,s=n.getPreSelection(),o=uM(n.props),a=pM(n.props),c=o&&Sa(s,Zi(o))?o:a&&mo(s,aC(a))?a:s;return{open:n.props.startOpen||!1,preventFocus:!1,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:c,highlightDates:EE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),E(n,"clearPreventFocusTimeout",function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)}),E(n,"setFocus",function(){n.input&&n.input.focus&&n.input.focus({preventScroll:!0})}),E(n,"setBlur",function(){n.input&&n.input.blur&&n.input.blur(),n.cancelFocusInput()}),E(n,"setOpen",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:qy},function(){i||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.setBlur(),n.setState({inputValue:null})})})}),E(n,"inputOk",function(){return ya(n.state.preSelection)}),E(n,"isCalendarOpen",function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open}),E(n,"handleFocus",function(i){n.state.preventFocus||(n.props.onFocus(i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})}),E(n,"sendFocusBackToInput",function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})}),E(n,"cancelFocusInput",function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=null}),E(n,"deferFocusInput",function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)}),E(n,"handleDropdownFocus",function(){n.cancelFocusInput()}),E(n,"handleBlur",function(i){(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&n.props.onBlur(i),n.setState({focused:!1})}),E(n,"handleCalendarClickOutside",function(i){n.props.inline||n.setOpen(!1),n.props.onClickOutside(i),n.props.withPortal&&i.preventDefault()}),E(n,"handleChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,s),typeof a.isDefaultPrevented!="function"||a.isDefaultPrevented()))){n.setState({inputValue:a.target.value,lastPreSelectChange:jW});var c=$q(a.target.value,n.props.dateFormat,n.props.locale,n.props.strictParsing,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&c&&!st(c,n.props.selected)&&(c=tq(n.props.selected,{hours:ts(c),minutes:es(c),seconds:Ss(c)})),(c||!a.target.value)&&n.setSelected(c,a,!0)}}),E(n,"handleSelect",function(i,s,o){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(i,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var a=n.props,c=a.startDate,l=a.endDate;c&&!l&&(n.props.swapRange||!IE(i,c))&&n.setOpen(!1)}}),E(n,"setSelected",function(i,s,o,a){var c=i;if(n.props.showYearPicker){if(c!==null&&lM(ze(c),n.props))return}else if(n.props.showMonthYearPicker){if(c!==null&&gh(c,n.props))return}else if(c!==null&&gm(c,n.props))return;var l=n.props,u=l.onChange,p=l.selectsRange,d=l.startDate,f=l.endDate,h=l.selectsMultiple,v=l.selectedDates,g=l.minTime,m=l.swapRange;if(!ra(n.props.selected,c)||n.props.allowSameDay||p||h)if(c!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(c=Fy(c,{hour:ts(n.props.selected),minute:es(n.props.selected),second:Ss(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&g&&(c=Fy(c,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),n.props.inline||n.setState({preSelection:c}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:a})),p){var y=!d&&!f,S=d&&!f,C=d&&f;y?u([c,null],s):S&&(c===null?u([null,null],s):IE(c,d)?u(m?[c,d]:[c,null],s):u([d,c],s)),C&&u([c,null],s)}else if(h)if(!(v!=null&&v.length))u([c],s);else{var b=v.some(function(_){return st(_,c)});if(b){var T=v.filter(function(_){return!st(_,c)});u(T,s)}else u([].concat(go(v),[c]),s)}else u(c,s);o||(n.props.onSelect(c,s),n.setState({inputValue:null}))}),E(n,"setPreSelection",function(i){var s=typeof n.props.minDate<"u",o=typeof n.props.maxDate<"u",a=!0;if(i){var c=Zi(i);if(s&&o)a=hp(i,n.props.minDate,n.props.maxDate);else if(s){var l=Zi(n.props.minDate);a=mo(i,l)||ra(c,l)}else if(o){var u=aC(n.props.maxDate);a=Sa(i,u)||ra(c,u)}}a&&n.setState({preSelection:i})}),E(n,"toggleCalendar",function(){n.setOpen(!n.state.open)}),E(n,"handleTimeChange",function(i){var s=n.props.selected?n.props.selected:n.getPreSelection(),o=n.props.selected?i:Fy(s,{hour:ts(i),minute:es(i)});n.setState({preSelection:o}),n.props.onChange(o),n.props.shouldCloseOnSelect&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}),E(n,"onInputClick",function(){!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),n.props.onInputClick()}),E(n,"onInputKeyDown",function(i){n.props.onKeyDown(i);var s=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(s==="ArrowDown"||s==="ArrowUp"||s==="Enter")&&n.onInputClick();return}if(n.state.open){if(s==="ArrowDown"||s==="ArrowUp"){i.preventDefault();var o=n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=n.calendar.componentNode&&n.calendar.componentNode.querySelector(o);a&&a.focus({preventScroll:!0});return}var c=ft(n.state.preSelection);s==="Enter"?(i.preventDefault(),n.inputOk()&&n.state.lastPreSelectChange===qy?(n.handleSelect(c,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(c)):n.setOpen(!1)):s==="Escape"?(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1)):s==="Tab"&&n.setOpen(!1),n.inputOk()||n.props.onInputError({code:1,msg:Uy})}}),E(n,"onPortalKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))}),E(n,"onDayKeyDown",function(i){n.props.onKeyDown(i);var s=i.key,o=i.shiftKey,a=ft(n.state.preSelection);if(s==="Enter")i.preventDefault(),n.handleSelect(a,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(a);else if(s==="Escape")i.preventDefault(),n.setOpen(!1),n.inputOk()||n.props.onInputError({code:1,msg:Uy});else if(!n.props.disabledKeyboardNavigation){var c;switch(s){case"ArrowLeft":n.props.showWeekPicker?c=iE(a,1):c=OU(a,1);break;case"ArrowRight":n.props.showWeekPicker?c=hv(a,1):c=Ro(a,1);break;case"ArrowUp":c=iE(a,1);break;case"ArrowDown":c=hv(a,1);break;case"PageUp":c=o?Ac(a,1):Ic(a,1);break;case"PageDown":c=o?ys(a,1):Ti(a,1);break;case"Home":c=so(a,n.props.locale,n.props.calendarStartDay);break;case"End":c=Wq(a);break;default:c=null;break}if(!c){n.props.onInputError&&n.props.onInputError({code:1,msg:Uy});return}if(i.preventDefault(),n.setState({lastPreSelectChange:qy}),n.props.adjustDateOnChange&&n.setSelected(c),n.setPreSelection(c),n.props.inline){var l=wn(a),u=wn(c),p=ze(a),d=ze(c);l!==u||p!==d?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}}),E(n,"onPopperKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),n.sendFocusBackToInput())}),E(n,"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput(),n.props.selectsRange?n.props.onChange([null,null],i):n.props.onChange(null,i),n.setState({inputValue:null})}),E(n,"clear",function(){n.onClearClick()}),E(n,"onScroll",function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)}),E(n,"renderCalendar",function(){return!n.props.inline&&!n.isCalendarOpen()?null:x.createElement(MW,{ref:function(s){n.calendar=s},locale:n.props.locale,calendarStartDay:n.props.calendarStartDay,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:n.props.weekAriaLabelPrefix,monthAriaLabelPrefix:n.props.monthAriaLabelPrefix,adjustDateOnChange:n.props.adjustDateOnChange,setOpen:n.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,dateFormat:n.props.dateFormatCalendar,useWeekdaysShort:n.props.useWeekdaysShort,formatWeekDay:n.props.formatWeekDay,dropdownMode:n.props.dropdownMode,selected:n.props.selected,preSelection:n.state.preSelection,onSelect:n.handleSelect,onWeekSelect:n.props.onWeekSelect,openToDate:n.props.openToDate,minDate:n.props.minDate,maxDate:n.props.maxDate,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,filterDate:n.props.filterDate,onClickOutside:n.handleCalendarClickOutside,formatWeekNumber:n.props.formatWeekNumber,highlightDates:n.state.highlightDates,holidays:tW(n.modifyHolidays()),includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,includeTimes:n.props.includeTimes,injectTimes:n.props.injectTimes,inline:n.props.inline,shouldFocusDayInline:n.state.shouldFocusDayInline,peekNextMonth:n.props.peekNextMonth,showMonthDropdown:n.props.showMonthDropdown,showPreviousMonths:n.props.showPreviousMonths,useShortMonthInDropdown:n.props.useShortMonthInDropdown,showMonthYearDropdown:n.props.showMonthYearDropdown,showWeekNumbers:n.props.showWeekNumbers,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,forceShowMonthNavigation:n.props.forceShowMonthNavigation,showDisabledMonthNavigation:n.props.showDisabledMonthNavigation,scrollableYearDropdown:n.props.scrollableYearDropdown,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,todayButton:n.props.todayButton,weekLabel:n.props.weekLabel,outsideClickIgnoreClass:OE,fixedHeight:n.props.fixedHeight,monthsShown:n.props.monthsShown,monthSelectedIn:n.state.monthSelectedIn,onDropdownFocus:n.handleDropdownFocus,onMonthChange:n.props.onMonthChange,onYearChange:n.props.onYearChange,dayClassName:n.props.dayClassName,weekDayClassName:n.props.weekDayClassName,monthClassName:n.props.monthClassName,timeClassName:n.props.timeClassName,showDateSelect:n.props.showDateSelect,showTimeSelect:n.props.showTimeSelect,showTimeSelectOnly:n.props.showTimeSelectOnly,onTimeChange:n.handleTimeChange,timeFormat:n.props.timeFormat,timeIntervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,filterTime:n.props.filterTime,timeCaption:n.props.timeCaption,className:n.props.calendarClassName,container:n.props.calendarContainer,yearItemNumber:n.props.yearItemNumber,yearDropdownItemNumber:n.props.yearDropdownItemNumber,previousMonthAriaLabel:n.props.previousMonthAriaLabel,previousMonthButtonLabel:n.props.previousMonthButtonLabel,nextMonthAriaLabel:n.props.nextMonthAriaLabel,nextMonthButtonLabel:n.props.nextMonthButtonLabel,previousYearAriaLabel:n.props.previousYearAriaLabel,previousYearButtonLabel:n.props.previousYearButtonLabel,nextYearAriaLabel:n.props.nextYearAriaLabel,nextYearButtonLabel:n.props.nextYearButtonLabel,timeInputLabel:n.props.timeInputLabel,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderCustomHeader:n.props.renderCustomHeader,popperProps:n.props.popperProps,renderDayContents:n.props.renderDayContents,renderMonthContent:n.props.renderMonthContent,renderQuarterContent:n.props.renderQuarterContent,renderYearContent:n.props.renderYearContent,onDayMouseEnter:n.props.onDayMouseEnter,onMonthMouseLeave:n.props.onMonthMouseLeave,onYearMouseEnter:n.props.onYearMouseEnter,onYearMouseLeave:n.props.onYearMouseLeave,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,showTimeInput:n.props.showTimeInput,showMonthYearPicker:n.props.showMonthYearPicker,showFullMonthYearPicker:n.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:n.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:n.props.showFourColumnMonthYearPicker,showYearPicker:n.props.showYearPicker,showQuarterYearPicker:n.props.showQuarterYearPicker,showWeekPicker:n.props.showWeekPicker,excludeScrollbar:n.props.excludeScrollbar,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,isInputFocused:n.state.focused,customTimeInput:n.props.customTimeInput,setPreSelection:n.setPreSelection,usePointerEvent:n.props.usePointerEvent,yearClassName:n.props.yearClassName},n.props.children)}),E(n,"renderAriaLiveRegion",function(){var i=n.props,s=i.dateFormat,o=i.locale,a=n.props.showTimeInput||n.props.showTimeSelect,c=a?"PPPPp":"PPPP",l;return n.props.selectsRange?l="Selected start date: ".concat(ri(n.props.startDate,{dateFormat:c,locale:o}),". ").concat(n.props.endDate?"End date: "+ri(n.props.endDate,{dateFormat:c,locale:o}):""):n.props.showTimeSelectOnly?l="Selected time: ".concat(ri(n.props.selected,{dateFormat:s,locale:o})):n.props.showYearPicker?l="Selected year: ".concat(ri(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?l="Selected month: ".concat(ri(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?l="Selected quarter: ".concat(ri(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):l="Selected date: ".concat(ri(n.props.selected,{dateFormat:c,locale:o})),x.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},l)}),E(n,"renderDateInput",function(){var i,s=ue(n.props.className,E({},OE,n.state.open)),o=n.props.customInput||x.createElement("input",{type:"text"}),a=n.props.customInputRef||"ref",c=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?Fq(n.props.startDate,n.props.endDate,n.props):n.props.selectsMultiple?Bq(n.props.selectedDates,n.props):ri(n.props.selected,n.props);return x.cloneElement(o,(i={},E(E(E(E(E(E(E(E(E(E(i,a,function(l){n.input=l}),"value",c),"onBlur",n.handleBlur),"onChange",n.handleChange),"onClick",n.onInputClick),"onFocus",n.handleFocus),"onKeyDown",n.onInputKeyDown),"id",n.props.id),"name",n.props.name),"form",n.props.form),E(E(E(E(E(E(E(E(E(E(i,"autoFocus",n.props.autoFocus),"placeholder",n.props.placeholderText),"disabled",n.props.disabled),"autoComplete",n.props.autoComplete),"className",ue(o.props.className,s)),"title",n.props.title),"readOnly",n.props.readOnly),"required",n.props.required),"tabIndex",n.props.tabIndex),"aria-describedby",n.props.ariaDescribedBy),E(E(E(i,"aria-invalid",n.props.ariaInvalid),"aria-labelledby",n.props.ariaLabelledBy),"aria-required",n.props.ariaRequired)))}),E(n,"renderClearButton",function(){var i=n.props,s=i.isClearable,o=i.disabled,a=i.selected,c=i.startDate,l=i.endDate,u=i.clearButtonTitle,p=i.clearButtonClassName,d=p===void 0?"":p,f=i.ariaLabelClose,h=f===void 0?"Close":f,v=i.selectedDates;return s&&(a!=null||c!=null||l!=null||v!=null&&v.length)?x.createElement("button",{type:"button",className:ue("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":h,onClick:n.onClearClick,title:u,tabIndex:-1}):null}),n.state=n.calcInitialState(),n.preventFocusTimeout=null,n}return xr(t,e),Ar(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(n,i){n.inline&&NW(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:EE(this.props.highlightDates)}),!i.focused&&!ra(n.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),i.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var n=this.props,i=n.showIcon,s=n.icon,o=n.calendarIconClassname,a=n.toggleCalendarOnIconClick,c=this.state.open;return x.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&x.createElement(kW,ld({icon:s,className:"".concat(o," ").concat(c&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var i=this.state.open?x.createElement(vM,{enableTabLoop:this.props.enableTabLoop},x.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(i=x.createElement(hM,{portalId:this.props.portalId,portalHost:this.props.portalHost},i)),x.createElement("div",null,this.renderInputContainer(),i)}return x.createElement(DW,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:n,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:zd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(x.Component),jW="input",qy="navigate";function Wy({label:e,attributes:t={},includeTime:r,timeOnly:n,...i}){const[s,o]=P.useState(t.defaultValue),[a,c]=hb(s,{required:t.required}),l=u=>{if(o(u),t.onChange){const p=n?"HH:mm":r?"yyyy-MM-dd'T'HH:mm":"yyyy-MM-dd";t.onChange(nC(u,p))}};return w.jsxs("div",{className:"flex flex-col space-y-1",children:[e&&w.jsxs("label",{htmlFor:`datepicker-${i.id}`,className:"max-w-full break-words",children:[e,t.required&&w.jsx("span",{children:" *"})]}),!e&&t.required&&w.jsx("span",{className:"text-xs ml-auto",children:"required"}),w.jsx(LW,{...t,id:`datepicker-${t.name}`,name:`datepicker-${t.name}`,...i,className:ue(t.className,{"error-border":a}),onBlur:c,showTimeSelect:r||n,showTimeSelectOnly:n,value:s,selected:s,onChange:l,calendarStartDay:1,placeholderText:n?"-- : -- --":r?"mm / dd / yyyy   -- : -- --":"mm / dd / yyyy",dateFormat:n?"h:mm aa":r?"MM/dd/yyyy - h:mm aa":"MM/dd/yyyy"}),a&&w.jsx("span",{className:"error-text",children:t.title||w.jsx(mt,{id:"tww_textarea_required"})})]})}function zW({label:e,attributes:t={}}){return w.jsx("div",{className:"inline-block",children:w.jsxs("label",{className:"label cursor-pointer flex gap-2 items-start",children:[w.jsx("span",{className:"label-text text-black dark:text-white",children:e}),w.jsx("input",{...t,id:t==null?void 0:t.id,label:e,type:"radio",className:"radio radio-sm border-asgray-300 dark:border-asgray-300",value:e})]})})}function $W({label:e,attributes:t={}}){const r=n=>{const i=+n.target.value||t.defaultValue;t.onChange&&t.onChange(i)};return w.jsxs("div",{className:"flex flex-col space-y-1",children:[e&&w.jsx("label",{htmlFor:t.id,className:"max-w-full break-words",children:e}),w.jsx("input",{type:"range","aria-label":e,...t,defaultValue:(t==null?void 0:t.defaultValue)||0,className:`range ${t.className}`,onChange:r})]})}function FW({label:e,attributes:t={}}){const[r,n]=hb(t.defaultValue||"",{required:t.required,pattern:t.pattern}),i=s=>{var o;return(o=t.onChange)==null?void 0:o.call(t,s)};return w.jsxs("div",{className:"flex flex-col space-y-1",children:[e&&w.jsxs("label",{htmlFor:t.id,className:"max-w-full break-words",children:[e,t.required&&w.jsx("span",{children:" *"})]}),w.jsx("input",{...t,id:t.id,onChange:i,onBlur:n,className:ue("input input-bordered w-full bg-white dark:bg-asgray-800",t.className,{"error-border":r}),placeholder:t.placeholder,"aria-required":t.required,"aria-invalid":r,"aria-label":e}),r&&w.jsx("span",{className:"error-text",children:t.title||w.jsx(mt,{id:"tww_textinput_required"})})]})}const BW={text:FW,button:ci,radio:zW,checkbox:y9,date:Wy,time:Wy,"datetime-local":Wy,color:N9,range:$W,reset:ci};function mM({attributes:e,label:t,...r}){const n=e.type||"text",i=BW[n];let s={attributes:e,label:t,...r};return n==="button"?s={attributes:e,label:e.value}:n==="reset"&&(s={...e,label:e.text}),(n==="checkbox"||n==="radio")&&(s={attributes:e,label:e.value}),n==="time"&&(s={attributes:e,label:t,timeOnly:!0}),n==="datetime-local"&&(s={attributes:e,label:t,includeTime:!0}),i?w.jsx(i,{...s}):null}function HW({text:e}){return w.jsx("p",{className:"text-base ",children:e})}function UW({text:e}){return w.jsx("div",{className:"text-center text-base font-base",children:e})}function qW({text:e}){return w.jsx("div",{className:"text-center text-title font-title",children:e})}const WW={title:qW,subtitle:UW,label:HW,input:mM,textarea:v9,select:h9,caption:m9,control:g9},Ns=(e,t)=>`input_${e}_${t}`,VW=(e,t,r)=>{if(e[t])return/^\d{2}:\d{2}$/.test(e[t])&&r==="time"?new Date(`1970-01-01T${e[t]}:00Z`):e[t]},bv={"":({element:e,index:t,formData:r,handleChange:n})=>{const i=`input__${t}`;return{attributes:{...e.attributes,text:e.text,name:i,defaultValue:r[i],onChange:s=>n(i,s.target.value)}}},text:({element:e,index:t,formData:r,handleChange:n})=>{const i=Ns(e.attributes.type,t);return{attributes:{...e.attributes,name:i,defaultValue:r[i],onChange:s=>n(i,s.target.value)}}},radio:({element:e,index:t,formData:r,handleChange:n,setFormData:i})=>{const s=Ns(e.attributes.type,t);return{attributes:{...e.attributes,defaultChecked:r[s],id:s,onChange:o=>{const a=document.querySelectorAll('input[type="radio"]'),c=Array.from(a).filter(u=>u.name===o.target.name).map(u=>u.id),l=Object.fromEntries(Object.entries(r).filter(([u])=>!c.includes(u)));i(l),n(s,o.target.value)}}}},checkbox:({element:e,index:t,formData:r,setFormData:n})=>{const i=Ns(e.attributes.type,t);return{attributes:{...e.attributes,name:i,defaultChecked:r[i],onChange:({label:s,value:o})=>{if(!o){const{[i]:a,...c}=r;return n(c)}n(a=>({...a,[i]:s}))}}}},date:({element:e,index:t,formData:r,handleChange:n})=>{const i=Ns(e.attributes.type,t);return{attributes:{...e.attributes,name:i,defaultValue:VW(r,i,e.attributes.type),onChange:s=>n(i,s)}}},time:({element:e,index:t,formData:r,handleChange:n})=>bv.date({element:e,index:t,formData:r,handleChange:n}),"datetime-local":({element:e,index:t,formData:r,handleChange:n})=>bv.date({element:e,index:t,formData:r,handleChange:n}),color:({element:e,index:t,formData:r,handleChange:n})=>{const i=Ns(e.attributes.type,t);return{attributes:{...e.attributes,defaultValue:r[i],name:i,onChange:s=>n(i,s)}}},range:({element:e,index:t,formData:r,handleChange:n})=>{const i=Ns(e.attributes.type,t);return{attributes:{...e.attributes,name:i,defaultValue:r[i],onChange:s=>n(i,s)}}},reset:({element:e,index:t,setFormData:r})=>{const n=Ns(e.attributes.type,t);return{attributes:{...e.attributes,name:n,onClick:()=>r({})}}}},YW=e=>({onClick:()=>e()}),KW=({element:e,onCancel:t,success:r})=>e.action==="submit"&&r!==void 0?{isControl:!0,content:w.jsx("p",{"data-testid":"form-submit-message",className:`text-sm text-center mb-2 submit-message ${r?"text-success":"text-yellow-600 dark:text-warning"}`,children:w.jsx(mt,{id:r?"tww_form_successful":"tww_form_cancelled"})},`form-status-${e.index}`)}:e.action==="cancel"?r!==void 0?{isControl:!0,content:null}:YW(t):null,DE={textarea:({element:e,formData:t,handleChange:r})=>({text:t.textarea,attributes:{...e.attributes,onChange:n=>{r(n.target.name,n.target.value)}}}),select:({element:e,formData:t,handleChange:r})=>{const n=e.options.find(i=>i.value===t[e.attributes.name]);return{attributes:{...e.attributes,name:e.attributes.name,defaultValue:n?n.value:"",onChange:i=>{r(e.attributes.name,i.value)}}}}},GW=(e,t,r,n,i,s)=>e.map((o,a)=>{const c=WW[o.type];if(!c)return null;let l={...o};if(o.type==="input"&&bv[o.attributes.type]&&(l={...o,...bv[o.attributes.type]({element:o,index:a,formData:t,handleChange:r,setFormData:n})}),DE[o.type]){const u=DE[o.type]({element:o,formData:t,handleChange:r});l={...o,...u}}if(o.type==="control"){const u=KW({element:o,formData:t,setFormData:n,onCancel:i,success:s});if(u!=null&&u.isControl)return u.content;l={...o,...u}}return w.jsx(c,{...l},Ns(o.type,a))});function QW({elements:e,onSubmit:t,onCancel:r,persistedFormData:n,success:i}){const[s,o]=P.useState({...n}),[a,c]=P.useState(!0),l=(u,p)=>o(d=>({...d,[u]:p}));return P.useEffect(()=>c(i===void 0),[i]),w.jsxs("div",{className:"my-4 max-w-lg px-1 relative",children:[i!==void 0&&w.jsx(ci,{className:ue("border border-gray-300 dark:border-asgray-300 p-2 rounded-xl hover:bg-gray-200 dark:hover:bg-asgray-600 outline-none focus:bg-gray-200 focus:dark:bg-asgray-600 w-full",{"border-b-0 rounded-b-none":a}),label:a?"Hide Form":"Show Form",style:"secondary",onClick:()=>c(u=>!u),"data-testid":"form-expand-button"}),a&&w.jsx("div",{"data-testid":"form-element-wrapper",className:ue("w-full",{"cursor-not-allowed":i!==void 0}),children:w.jsx("form",{onKeyDown:u=>{u.key==="Enter"&&u.preventDefault()},onSubmit:u=>{u.preventDefault(),t(s)},className:ue("space-y-5 bg-[#D6DDE3] dark:bg-asgray p-5 rounded-xl form",{"rounded-t-none":a&&i!==void 0,"submitted-form":i!==void 0}),"data-testid":"form-element",children:GW(e,s,l,o,()=>r(s),i)})})]})}function gM({elements:e,eventId:t}){var a,c,l;const r=Po(),n=ie(u=>Eo(u,t)),{success:i,...s}=JSON.parse(((l=(c=(a=n==null?void 0:n.output)==null?void 0:a.parameters)==null?void 0:c.formData)==null?void 0:l.userinput)||"{}"),o=({formData:u,success:p})=>{const d={userinput:JSON.stringify(p?{...u,success:!0}:{success:!1})};r(NO({body:d,includeInChat:!1})),r(ed({eventId:t,formData:JSON.parse(JSON.stringify(d))}))};return w.jsx(QW,{type:"form",elements:e,onSubmit:u=>o({formData:u,success:!0}),onCancel:u=>o({formData:u,success:!1}),persistedFormData:s,success:i})}function JW(e,t){return{handleKeyDown:o=>{o.key==="Escape"&&e&&e()},handleModalContentClick:o=>{o.stopPropagation()},handleModalContentKeyDown:o=>{o.key==="Escape"&&o.stopPropagation()},handleButtonClick:o=>{t&&t(o),e&&e()}}}function yM({modalData:e,isOpen:t,onClose:r,container:n,onClick:i}){const{image:s,title:o,text:a,button_items:c,type:l}=e,{handleKeyDown:u,handleModalContentClick:p,handleModalContentKeyDown:d,handleButtonClick:f}=JW(r,i),h=document.getElementById(n);return t?w.jsx("div",{id:"Modal",className:"tww-modal-container",onClick:r,onKeyDown:u,style:h?{top:h.offsetTop,left:h.offsetLeft,width:h.offsetWidth,height:h.offsetHeight}:{top:0,left:0,width:"100%",height:"100%"},role:"dialog","aria-label":o||"Modal","aria-labelledby":o&&"modalTitle",children:w.jsxs("div",{className:ue({"tww-modal-wrapper":l!=="image"}),onClick:p,onKeyDown:d,children:[s&&w.jsx("img",{src:s.image_url,alt:s.alt,className:ue("tww-modal-image",{"h-[100px]":l!=="image"})}),o&&w.jsx("div",{id:"modalTitle",className:"tww-modal-title",children:o}),a&&w.jsx("p",{className:"py-4 dark:text-white",children:a}),c&&w.jsx("div",{className:"tww-modal-buttons-wrapper",children:c.map(v=>w.jsx(ci,{style:v.style,size:"lg",label:v.title,onClick:()=>f(v.postback)},v.title))})]})}):null}function SM({alt:e,image_url:t,thumbnail_url:r,className:n}){const[i,s]=P.useState(!1),[o,a]=P.useState(!1);return w.jsxs("div",{children:[!i&&w.jsx("div",{className:"tww-image-loader-container",children:w.jsx("div",{className:"tww-message-loader"})}),w.jsx("button",{type:"button",className:ue("tww-image-thumbnail",{"cursor-not-allowed":!t}),onClick:()=>t?a(!0):null,children:w.jsx("img",{src:t||r,alt:e,className:`${n} tww-image-border`,onLoad:()=>s(!0)})}),w.jsx(yM,{modalData:{image:{image_url:t},type:"image"},onClose:()=>a(!1),isOpen:o})]})}function CM({description:e="",image:t,title:r="",url:n}){const s=o=>o&&o.length>144?w.jsx("p",{className:"tooltip text-left","data-tip":o,children:`${o.slice(0,141)}...`}):w.jsx("p",{children:o});return w.jsxs("div",{className:"tww-link-preview-wrapper",children:[w.jsx("figure",{children:w.jsx("img",{src:t,alt:r,name:r,className:"absolute left-0 top-0 w-full h-full object-cover z-0"})}),w.jsxs("div",{className:"card-body px-4 pb-2 bg-asgray-600/70 !text-white rounded-2xl z-10",children:[w.jsx("div",{className:"card-title",children:r}),s(e),w.jsx("div",{className:"grid justify-items-end",children:w.jsx("div",{className:"w-6/12 text-right truncate",children:w.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"hover:underline",children:n})})})]})]})}function wM({title:e,list_items:t,eventId:r,isLastMessage:n,handleSendMessage:i}){var c,l;const s=ie(u=>Eo(u,r)),o=(l=(c=s==null?void 0:s.output)==null?void 0:c.parameters)==null?void 0:l.postback,a=(u,p)=>{i({...p,userinput:u},r)};return w.jsx("div",{children:w.jsx(UO,{title:e,list_items:t,onClick:a,disabled:o||!n})})}/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:bM,setPrototypeOf:ME,isFrozen:XW,getPrototypeOf:ZW,getOwnPropertyDescriptor:eV}=Object;let{freeze:Pn,seal:pi,create:PM}=Object,{apply:vC,construct:mC}=typeof Reflect<"u"&&Reflect;Pn||(Pn=function(t){return t});pi||(pi=function(t){return t});vC||(vC=function(t,r,n){return t.apply(r,n)});mC||(mC=function(t,r){return new t(...r)});const Hf=Kn(Array.prototype.forEach),NE=Kn(Array.prototype.pop),fl=Kn(Array.prototype.push),yh=Kn(String.prototype.toLowerCase),Vy=Kn(String.prototype.toString),LE=Kn(String.prototype.match),hl=Kn(String.prototype.replace),tV=Kn(String.prototype.indexOf),rV=Kn(String.prototype.trim),yi=Kn(Object.prototype.hasOwnProperty),fn=Kn(RegExp.prototype.test),vl=nV(TypeError);function Kn(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return vC(e,t,n)}}function nV(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return mC(e,r)}}function $e(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yh;ME&&ME(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(XW(t)||(t[n]=s),i=s)}e[i]=!0}return e}function iV(e){for(let t=0;t<e.length;t++)yi(e,t)||(e[t]=null);return e}function Jo(e){const t=PM(null);for(const[r,n]of bM(e))yi(e,r)&&(Array.isArray(n)?t[r]=iV(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Jo(n):t[r]=n);return t}function ml(e,t){for(;e!==null;){const n=eV(e,t);if(n){if(n.get)return Kn(n.get);if(typeof n.value=="function")return Kn(n.value)}e=ZW(e)}function r(){return null}return r}const jE=Pn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yy=Pn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ky=Pn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sV=Pn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gy=Pn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oV=Pn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),zE=Pn(["#text"]),$E=Pn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qy=Pn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),FE=Pn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Uf=Pn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),aV=pi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cV=pi(/<%[\w\W]*|[\w\W]*%>/gm),lV=pi(/\${[\w\W]*}/gm),uV=pi(/^data-[\-\w.\u00B7-\uFFFF]/),pV=pi(/^aria-[\-\w]+$/),_M=pi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dV=pi(/^(?:\w+script|data):/i),fV=pi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),EM=pi(/^html$/i),hV=pi(/^[a-z][.\w]*(-[.\w]+)+$/i);var BE=Object.freeze({__proto__:null,MUSTACHE_EXPR:aV,ERB_EXPR:cV,TMPLIT_EXPR:lV,DATA_ATTR:uV,ARIA_ATTR:pV,IS_ALLOWED_URI:_M,IS_SCRIPT_OR_DATA:dV,ATTR_WHITESPACE:fV,DOCTYPE_NAME:EM,CUSTOM_ELEMENT:hV});const gl={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},vV=function(){return typeof window>"u"?null:window},mV=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function RM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vV();const t=F=>RM(F);if(t.version="3.1.6",t.removed=[],!e||!e.document||e.document.nodeType!==gl.document)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:d,trustedTypes:f}=e,h=c.prototype,v=ml(h,"cloneNode"),g=ml(h,"remove"),m=ml(h,"nextSibling"),y=ml(h,"childNodes"),S=ml(h,"parentNode");if(typeof o=="function"){const F=r.createElement("template");F.content&&F.content.ownerDocument&&(r=F.content.ownerDocument)}let C,b="";const{implementation:T,createNodeIterator:_,createDocumentFragment:R,getElementsByTagName:O}=r,{importNode:D}=n;let $={};t.isSupported=typeof bM=="function"&&typeof S=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:W,ERB_EXPR:J,TMPLIT_EXPR:q,DATA_ATTR:Y,ARIA_ATTR:se,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:k}=BE;let{IS_ALLOWED_URI:G}=BE,te=null;const M=$e({},[...jE,...Yy,...Ky,...Gy,...zE]);let oe=null;const de=$e({},[...$E,...Qy,...FE,...Uf]);let ne=Object.seal(PM(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,Qe=null,rt=!0,fe=!0,ur=!1,It=!0,yt=!1,Mt=!0,De=!1,Be=!1,Te=!1,be=!1,Me=!1,Ae=!1,Nn=!0,Rn=!1;const Cr="user-content-";let et=!0,z=!1,V={},Se=null;const Je=$e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pe=null;const We=$e({},["audio","video","img","source","image","track"]);let Nt=null;const St=$e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml";let at=me,Ve=!1,we=null;const tt=$e({},[je,Ce,me],Vy);let Oe=null;const Ct=["application/xhtml+xml","text/html"],He="text/html";let Ue=null,Pt=null;const Bt=r.createElement("form"),pr=function(A){return A instanceof RegExp||A instanceof Function},wr=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Pt&&Pt===A)){if((!A||typeof A!="object")&&(A={}),A=Jo(A),Oe=Ct.indexOf(A.PARSER_MEDIA_TYPE)===-1?He:A.PARSER_MEDIA_TYPE,Ue=Oe==="application/xhtml+xml"?Vy:yh,te=yi(A,"ALLOWED_TAGS")?$e({},A.ALLOWED_TAGS,Ue):M,oe=yi(A,"ALLOWED_ATTR")?$e({},A.ALLOWED_ATTR,Ue):de,we=yi(A,"ALLOWED_NAMESPACES")?$e({},A.ALLOWED_NAMESPACES,Vy):tt,Nt=yi(A,"ADD_URI_SAFE_ATTR")?$e(Jo(St),A.ADD_URI_SAFE_ATTR,Ue):St,Pe=yi(A,"ADD_DATA_URI_TAGS")?$e(Jo(We),A.ADD_DATA_URI_TAGS,Ue):We,Se=yi(A,"FORBID_CONTENTS")?$e({},A.FORBID_CONTENTS,Ue):Je,Re=yi(A,"FORBID_TAGS")?$e({},A.FORBID_TAGS,Ue):{},Qe=yi(A,"FORBID_ATTR")?$e({},A.FORBID_ATTR,Ue):{},V=yi(A,"USE_PROFILES")?A.USE_PROFILES:!1,rt=A.ALLOW_ARIA_ATTR!==!1,fe=A.ALLOW_DATA_ATTR!==!1,ur=A.ALLOW_UNKNOWN_PROTOCOLS||!1,It=A.ALLOW_SELF_CLOSE_IN_ATTR!==!1,yt=A.SAFE_FOR_TEMPLATES||!1,Mt=A.SAFE_FOR_XML!==!1,De=A.WHOLE_DOCUMENT||!1,be=A.RETURN_DOM||!1,Me=A.RETURN_DOM_FRAGMENT||!1,Ae=A.RETURN_TRUSTED_TYPE||!1,Te=A.FORCE_BODY||!1,Nn=A.SANITIZE_DOM!==!1,Rn=A.SANITIZE_NAMED_PROPS||!1,et=A.KEEP_CONTENT!==!1,z=A.IN_PLACE||!1,G=A.ALLOWED_URI_REGEXP||_M,at=A.NAMESPACE||me,ne=A.CUSTOM_ELEMENT_HANDLING||{},A.CUSTOM_ELEMENT_HANDLING&&pr(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&pr(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),yt&&(fe=!1),Me&&(be=!0),V&&(te=$e({},zE),oe=[],V.html===!0&&($e(te,jE),$e(oe,$E)),V.svg===!0&&($e(te,Yy),$e(oe,Qy),$e(oe,Uf)),V.svgFilters===!0&&($e(te,Ky),$e(oe,Qy),$e(oe,Uf)),V.mathMl===!0&&($e(te,Gy),$e(oe,FE),$e(oe,Uf))),A.ADD_TAGS&&(te===M&&(te=Jo(te)),$e(te,A.ADD_TAGS,Ue)),A.ADD_ATTR&&(oe===de&&(oe=Jo(oe)),$e(oe,A.ADD_ATTR,Ue)),A.ADD_URI_SAFE_ATTR&&$e(Nt,A.ADD_URI_SAFE_ATTR,Ue),A.FORBID_CONTENTS&&(Se===Je&&(Se=Jo(Se)),$e(Se,A.FORBID_CONTENTS,Ue)),et&&(te["#text"]=!0),De&&$e(te,["html","head","body"]),te.table&&($e(te,["tbody"]),delete Re.tbody),A.TRUSTED_TYPES_POLICY){if(typeof A.TRUSTED_TYPES_POLICY.createHTML!="function")throw vl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof A.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=A.TRUSTED_TYPES_POLICY,b=C.createHTML("")}else C===void 0&&(C=mV(f,i)),C!==null&&typeof b=="string"&&(b=C.createHTML(""));Pn&&Pn(A),Pt=A}},dn=$e({},["mi","mo","mn","ms","mtext"]),ae=$e({},["foreignobject","annotation-xml"]),Ne=$e({},["title","style","font","a","script"]),Ln=$e({},[...Yy,...Ky,...sV]),Xe=$e({},[...Gy,...oV]),_t=function(A){let N=S(A);(!N||!N.tagName)&&(N={namespaceURI:at,tagName:"template"});const j=yh(A.tagName),K=yh(N.tagName);return we[A.namespaceURI]?A.namespaceURI===Ce?N.namespaceURI===me?j==="svg":N.namespaceURI===je?j==="svg"&&(K==="annotation-xml"||dn[K]):!!Ln[j]:A.namespaceURI===je?N.namespaceURI===me?j==="math":N.namespaceURI===Ce?j==="math"&&ae[K]:!!Xe[j]:A.namespaceURI===me?N.namespaceURI===Ce&&!ae[K]||N.namespaceURI===je&&!dn[K]?!1:!Xe[j]&&(Ne[j]||!Ln[j]):!!(Oe==="application/xhtml+xml"&&we[A.namespaceURI]):!1},he=function(A){fl(t.removed,{element:A});try{S(A).removeChild(A)}catch{g(A)}},Ke=function(A,N){try{fl(t.removed,{attribute:N.getAttributeNode(A),from:N})}catch{fl(t.removed,{attribute:null,from:N})}if(N.removeAttribute(A),A==="is"&&!oe[A])if(be||Me)try{he(N)}catch{}else try{N.setAttribute(A,"")}catch{}},Lt=function(A){let N=null,j=null;if(Te)A="<remove></remove>"+A;else{const ke=LE(A,/^[\r\n\t ]+/);j=ke&&ke[0]}Oe==="application/xhtml+xml"&&at===me&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");const K=C?C.createHTML(A):A;if(at===me)try{N=new d().parseFromString(K,Oe)}catch{}if(!N||!N.documentElement){N=T.createDocument(at,"template",null);try{N.documentElement.innerHTML=Ve?b:K}catch{}}const zt=N.body||N.documentElement;return A&&j&&zt.insertBefore(r.createTextNode(j),zt.childNodes[0]||null),at===me?O.call(N,De?"html":"body")[0]:De?N.documentElement:zt},jt=function(A){return _.call(A.ownerDocument||A,A,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Mr=function(A){return A instanceof p&&(typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof u)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function"||typeof A.hasChildNodes!="function")},Kt=function(A){return typeof a=="function"&&A instanceof a},lt=function(A,N,j){$[A]&&Hf($[A],K=>{K.call(t,N,j,Pt)})},Et=function(A){let N=null;if(lt("beforeSanitizeElements",A,null),Mr(A))return he(A),!0;const j=Ue(A.nodeName);if(lt("uponSanitizeElement",A,{tagName:j,allowedTags:te}),A.hasChildNodes()&&!Kt(A.firstElementChild)&&fn(/<[/\w]/g,A.innerHTML)&&fn(/<[/\w]/g,A.textContent)||A.nodeType===gl.progressingInstruction||Mt&&A.nodeType===gl.comment&&fn(/<[/\w]/g,A.data))return he(A),!0;if(!te[j]||Re[j]){if(!Re[j]&&Qc(j)&&(ne.tagNameCheck instanceof RegExp&&fn(ne.tagNameCheck,j)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(j)))return!1;if(et&&!Se[j]){const K=S(A)||A.parentNode,zt=y(A)||A.childNodes;if(zt&&K){const ke=zt.length;for(let Qr=ke-1;Qr>=0;--Qr){const ut=v(zt[Qr],!0);ut.__removalCount=(A.__removalCount||0)+1,K.insertBefore(ut,m(A))}}}return he(A),!0}return A instanceof c&&!_t(A)||(j==="noscript"||j==="noembed"||j==="noframes")&&fn(/<\/no(script|embed|frames)/i,A.innerHTML)?(he(A),!0):(yt&&A.nodeType===gl.text&&(N=A.textContent,Hf([W,J,q],K=>{N=hl(N,K," ")}),A.textContent!==N&&(fl(t.removed,{element:A.cloneNode()}),A.textContent=N)),lt("afterSanitizeElements",A,null),!1)},rr=function(A,N,j){if(Nn&&(N==="id"||N==="name")&&(j in r||j in Bt))return!1;if(!(fe&&!Qe[N]&&fn(Y,N))){if(!(rt&&fn(se,N))){if(!oe[N]||Qe[N]){if(!(Qc(A)&&(ne.tagNameCheck instanceof RegExp&&fn(ne.tagNameCheck,A)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(A))&&(ne.attributeNameCheck instanceof RegExp&&fn(ne.attributeNameCheck,N)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(N))||N==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&fn(ne.tagNameCheck,j)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(j))))return!1}else if(!Nt[N]){if(!fn(G,hl(j,I,""))){if(!((N==="src"||N==="xlink:href"||N==="href")&&A!=="script"&&tV(j,"data:")===0&&Pe[A])){if(!(ur&&!fn(ee,hl(j,I,"")))){if(j)return!1}}}}}}return!0},Qc=function(A){return A!=="annotation-xml"&&LE(A,k)},Xn=function(A){lt("beforeSanitizeAttributes",A,null);const{attributes:N}=A;if(!N)return;const j={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe};let K=N.length;for(;K--;){const zt=N[K],{name:ke,namespaceURI:Qr,value:ut}=zt,br=Ue(ke);let Pr=ke==="value"?ut:rV(ut);if(j.attrName=br,j.attrValue=Pr,j.keepAttr=!0,j.forceKeepAttr=void 0,lt("uponSanitizeAttribute",A,j),Pr=j.attrValue,Mt&&fn(/((--!?|])>)|<\/(style|title)/i,Pr)){Ke(ke,A);continue}if(j.forceKeepAttr||(Ke(ke,A),!j.keepAttr))continue;if(!It&&fn(/\/>/i,Pr)){Ke(ke,A);continue}yt&&Hf([W,J,q],af=>{Pr=hl(Pr,af," ")});const is=Ue(A.nodeName);if(rr(is,br,Pr)){if(Rn&&(br==="id"||br==="name")&&(Ke(ke,A),Pr=Cr+Pr),C&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Qr)switch(f.getAttributeType(is,br)){case"TrustedHTML":{Pr=C.createHTML(Pr);break}case"TrustedScriptURL":{Pr=C.createScriptURL(Pr);break}}try{Qr?A.setAttributeNS(Qr,ke,Pr):A.setAttribute(ke,Pr),Mr(A)?he(A):NE(t.removed)}catch{}}}lt("afterSanitizeAttributes",A,null)},vr=function F(A){let N=null;const j=jt(A);for(lt("beforeSanitizeShadowDOM",A,null);N=j.nextNode();)lt("uponSanitizeShadowNode",N,null),!Et(N)&&(N.content instanceof s&&F(N.content),Xn(N));lt("afterSanitizeShadowDOM",A,null)};return t.sanitize=function(F){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=null,j=null,K=null,zt=null;if(Ve=!F,Ve&&(F="<!-->"),typeof F!="string"&&!Kt(F))if(typeof F.toString=="function"){if(F=F.toString(),typeof F!="string")throw vl("dirty is not a string, aborting")}else throw vl("toString is not a function");if(!t.isSupported)return F;if(Be||wr(A),t.removed=[],typeof F=="string"&&(z=!1),z){if(F.nodeName){const ut=Ue(F.nodeName);if(!te[ut]||Re[ut])throw vl("root node is forbidden and cannot be sanitized in-place")}}else if(F instanceof a)N=Lt("<!---->"),j=N.ownerDocument.importNode(F,!0),j.nodeType===gl.element&&j.nodeName==="BODY"||j.nodeName==="HTML"?N=j:N.appendChild(j);else{if(!be&&!yt&&!De&&F.indexOf("<")===-1)return C&&Ae?C.createHTML(F):F;if(N=Lt(F),!N)return be?null:Ae?b:""}N&&Te&&he(N.firstChild);const ke=jt(z?F:N);for(;K=ke.nextNode();)Et(K)||(K.content instanceof s&&vr(K.content),Xn(K));if(z)return F;if(be){if(Me)for(zt=R.call(N.ownerDocument);N.firstChild;)zt.appendChild(N.firstChild);else zt=N;return(oe.shadowroot||oe.shadowrootmode)&&(zt=D.call(n,zt,!0)),zt}let Qr=De?N.outerHTML:N.innerHTML;return De&&te["!doctype"]&&N.ownerDocument&&N.ownerDocument.doctype&&N.ownerDocument.doctype.name&&fn(EM,N.ownerDocument.doctype.name)&&(Qr="<!DOCTYPE "+N.ownerDocument.doctype.name+`>
`+Qr),yt&&Hf([W,J,q],ut=>{Qr=hl(Qr,ut," ")}),C&&Ae?C.createHTML(Qr):Qr},t.setConfig=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wr(F),Be=!0},t.clearConfig=function(){Pt=null,Be=!1},t.isValidAttribute=function(F,A,N){Pt||wr({});const j=Ue(F),K=Ue(A);return rr(j,K,N)},t.addHook=function(F,A){typeof A=="function"&&($[F]=$[F]||[],fl($[F],A))},t.removeHook=function(F){if($[F])return NE($[F])},t.removeHooks=function(F){$[F]&&($[F]=[])},t.removeAllHooks=function(){$={}},t}var gV=RM();function _b(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ta=_b();function TM(e){Ta=e}const kM=/[&<>"']/,yV=new RegExp(kM.source,"g"),IM=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,SV=new RegExp(IM.source,"g"),CV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},HE=e=>CV[e];function Bn(e,t){if(t){if(kM.test(e))return e.replace(yV,HE)}else if(IM.test(e))return e.replace(SV,HE);return e}const wV=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function bV(e){return e.replace(wV,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const PV=/(^|[^\[])\^/g;function gt(e,t){let r=typeof e=="string"?e:e.source;t=t||"";const n={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(PV,"$1"),r=r.replace(i,o),n},getRegex:()=>new RegExp(r,t)};return n}function UE(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Ip={exec:()=>null};function qE(e,t){const r=e.replace(/\|/g,(s,o,a)=>{let c=!1,l=o;for(;--l>=0&&a[l]==="\\";)c=!c;return c?"|":" |"}),n=r.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function yl(e,t,r){const n=e.length;if(n===0)return"";let i=0;for(;i<n;){const s=e.charAt(n-i-1);if(s===t&&!r)i++;else if(s!==t&&r)i++;else break}return e.slice(0,n-i)}function _V(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function WE(e,t,r,n){const i=t.href,s=t.title?Bn(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const a={type:"link",raw:r,href:i,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:i,title:s,text:Bn(o)}}function EV(e,t){const r=e.match(/^(\s+)(?:```)/);if(r===null)return t;const n=r[1];return t.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}class Pv{constructor(t){H(this,"options");H(this,"rules");H(this,"lexer");this.options=t||Ta}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:yl(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],i=EV(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=yl(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:yl(r[0],`
`)}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=yl(r[0],`
`).split(`
`),i="",s="";const o=[];for(;n.length>0;){let a=!1;const c=[];let l;for(l=0;l<n.length;l++)if(/^ {0,3}>/.test(n[l]))c.push(n[l]),a=!0;else if(!a)c.push(n[l]);else break;n=n.slice(l);const u=c.join(`
`),p=u.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${u}`:u,s=s?`${s}
${p}`:p;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=d,n.length===0)break;const f=o[o.length-1];if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const h=f,v=h.raw+`
`+n.join(`
`),g=this.blockquote(v);o[o.length-1]=g,i=i.substring(0,i.length-h.raw.length)+g.raw,s=s.substring(0,s.length-h.text.length)+g.text;break}else if((f==null?void 0:f.type)==="list"){const h=f,v=h.raw+`
`+n.join(`
`),g=this.list(v);o[o.length-1]=g,i=i.substring(0,i.length-f.raw.length)+g.raw,s=s.substring(0,s.length-h.raw.length)+g.raw,n=v.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const o=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;t;){let c=!1,l="",u="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;l=r[0],t=t.substring(l.length);let p=r[2].split(`
`,1)[0].replace(/^\t+/,m=>" ".repeat(3*m.length)),d=t.split(`
`,1)[0],f=!p.trim(),h=0;if(this.options.pedantic?(h=2,u=p.trimStart()):f?h=r[1].length+1:(h=r[2].search(/[^ ]/),h=h>4?1:h,u=p.slice(h),h+=r[1].length),f&&/^ *$/.test(d)&&(l+=d+`
`,t=t.substring(d.length+1),c=!0),!c){const m=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),y=new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,h-1)}}#`);for(;t;){const b=t.split(`
`,1)[0];if(d=b,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(d)||C.test(d)||m.test(d)||y.test(t))break;if(d.search(/[^ ]/)>=h||!d.trim())u+=`
`+d.slice(h);else{if(f||p.search(/[^ ]/)>=4||S.test(p)||C.test(p)||y.test(p))break;u+=`
`+d}!f&&!d.trim()&&(f=!0),l+=b+`
`,t=t.substring(b.length+1),p=d.slice(h)}}s.loose||(a?s.loose=!0:/\n *\n *$/.test(l)&&(a=!0));let v=null,g;this.options.gfm&&(v=/^\[[ xX]\] /.exec(u),v&&(g=v[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:l,task:!!v,checked:g,loose:!1,text:u,tokens:[]}),s.raw+=l}s.items[s.items.length-1].raw=s.items[s.items.length-1].raw.trimEnd(),s.items[s.items.length-1].text=s.items[s.items.length-1].text.trimEnd(),s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const l=s.items[c].tokens.filter(p=>p.type==="space"),u=l.length>0&&l.some(p=>/\n.*\n/.test(p.raw));s.loose=u}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){const r=this.rules.block.table.exec(t);if(!r||!/[:|]/.test(r[2]))return;const n=qE(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),s=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const a of i)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<n.length;a++)o.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:o.align[a]});for(const a of s)o.rows.push(qE(a,o.header.length).map((c,l)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[l]})));return o}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Bn(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=yl(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=_V(r[2],"()");if(o>-1){const c=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),WE(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const i=(n[2]||n[1]).replace(/\s+/g," "),s=r[i.toLowerCase()];if(!s){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return WE(n,s,n[0],this.lexer)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...i[0]].length-1;let a,c,l=o,u=0;const p=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+o);(i=p.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(c=[...a].length,i[3]||i[4]){l+=c;continue}else if((i[5]||i[6])&&o%3&&!((o+c)%3)){u+=c;continue}if(l-=c,l>0)continue;c=Math.min(c,c+l+u);const d=[...i[0]][0].length,f=t.slice(0,o+i.index+d+c);if(Math.min(o,c)%2){const v=f.slice(1,-1);return{type:"em",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}const h=f.slice(2,-2);return{type:"strong",raw:f,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=Bn(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=Bn(r[1]),i="mailto:"+n):(n=Bn(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,s;if(r[2]==="@")i=Bn(r[0]),s="mailto:"+i;else{let o;do o=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(o!==r[0]);i=Bn(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=Bn(r[0]),{type:"text",raw:r[0],text:n}}}}const RV=/^(?: *(?:\n|$))+/,TV=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,kV=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$d=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,IV=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,AM=/(?:[*+-]|\d{1,9}[.)])/,xM=gt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,AM).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Eb=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,AV=/^[^\n]+/,Rb=/(?!\s*\])(?:\\.|[^\[\]\\])+/,xV=gt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Rb).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),OV=gt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,AM).getRegex(),Sm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Tb=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,DV=gt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Tb).replace("tag",Sm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),OM=gt(Eb).replace("hr",$d).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sm).getRegex(),MV=gt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",OM).getRegex(),kb={blockquote:MV,code:TV,def:xV,fences:kV,heading:IV,hr:$d,html:DV,lheading:xM,list:OV,newline:RV,paragraph:OM,table:Ip,text:AV},VE=gt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$d).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sm).getRegex(),NV={...kb,table:VE,paragraph:gt(Eb).replace("hr",$d).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",VE).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sm).getRegex()},LV={...kb,html:gt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Tb).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ip,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gt(Eb).replace("hr",$d).replace("heading",` *#{1,6} *[^
]`).replace("lheading",xM).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},DM=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,jV=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,MM=/^( {2,}|\\)\n(?!\s*$)/,zV=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Fd="\\p{P}\\p{S}",$V=gt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Fd).getRegex(),FV=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,BV=gt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Fd).getRegex(),HV=gt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Fd).getRegex(),UV=gt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Fd).getRegex(),qV=gt(/\\([punct])/,"gu").replace(/punct/g,Fd).getRegex(),WV=gt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),VV=gt(Tb).replace("(?:-->|$)","-->").getRegex(),YV=gt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",VV).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_v=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,KV=gt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_v).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),NM=gt(/^!?\[(label)\]\[(ref)\]/).replace("label",_v).replace("ref",Rb).getRegex(),LM=gt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Rb).getRegex(),GV=gt("reflink|nolink(?!\\()","g").replace("reflink",NM).replace("nolink",LM).getRegex(),Ib={_backpedal:Ip,anyPunctuation:qV,autolink:WV,blockSkip:FV,br:MM,code:jV,del:Ip,emStrongLDelim:BV,emStrongRDelimAst:HV,emStrongRDelimUnd:UV,escape:DM,link:KV,nolink:LM,punctuation:$V,reflink:NM,reflinkSearch:GV,tag:YV,text:zV,url:Ip},QV={...Ib,link:gt(/^!?\[(label)\]\((.*?)\)/).replace("label",_v).getRegex(),reflink:gt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_v).getRegex()},gC={...Ib,escape:gt(DM).replace("])","~|])").getRegex(),url:gt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},JV={...gC,br:gt(MM).replace("{2,}","*").getRegex(),text:gt(gC.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},qf={normal:kb,gfm:NV,pedantic:LV},Sl={normal:Ib,gfm:gC,breaks:JV,pedantic:QV};class Vi{constructor(t){H(this,"tokens");H(this,"options");H(this,"state");H(this,"tokenizer");H(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ta,this.options.tokenizer=this.options.tokenizer||new Pv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:qf.normal,inline:Sl.normal};this.options.pedantic?(r.block=qf.pedantic,r.inline=Sl.pedantic):this.options.gfm&&(r.block=qf.gfm,this.options.breaks?r.inline=Sl.breaks:r.inline=Sl.gfm),this.tokenizer.rules=r}static get rules(){return{block:qf,inline:Sl}}static lex(t,r){return new Vi(r).lex(t)}static lexInline(t,r){return new Vi(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(a,c,l)=>c+"    ".repeat(l.length));let i,s,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),s=r[r.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),s=r[r.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=t.slice(1);let l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},c),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(o=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){s=r[r.length-1],n&&(s==null?void 0:s.type)==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):r.push(i),n=o.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),s=r[r.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):r.push(i);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,i,s,o=t,a,c,l;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(c||(l=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,o,l)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const p=t.slice(1);let d;this.options.extensions.startInline.forEach(f=>{d=f.call({lexer:this},p),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(s=t.substring(0,u+1))}if(n=this.tokenizer.inlineText(s)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(l=n.raw.slice(-1)),c=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return r}}class Ev{constructor(t){H(this,"options");H(this,"parser");this.options=t||Ta}space(t){return""}code({text:t,lang:r,escaped:n}){var o;const i=(o=(r||"").match(/^\S*/))==null?void 0:o[0],s=t.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+Bn(i)+'">'+(n?s:Bn(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Bn(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){const r=t.ordered,n=t.start;let i="";for(let a=0;a<t.items.length;a++){const c=t.items[a];i+=this.listitem(c)}const s=r?"ol":"ul",o=r&&n!==1?' start="'+n+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(t){let r="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){const o=t.rows[s];n="";for(let a=0;a<o.length;a++)n+=this.tablecell(o[a]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){const i=this.parser.parseInline(n),s=UE(t);if(s===null)return i;t=s;let o='<a href="'+t+'"';return r&&(o+=' title="'+r+'"'),o+=">"+i+"</a>",o}image({href:t,title:r,text:n}){const i=UE(t);if(i===null)return n;t=i;let s=`<img src="${t}" alt="${n}"`;return r&&(s+=` title="${r}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}}class Ab{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Yi{constructor(t){H(this,"options");H(this,"renderer");H(this,"textRenderer");this.options=t||Ta,this.options.renderer=this.options.renderer||new Ev,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ab}static parse(t,r){return new Yi(r).parse(t)}static parseInline(t,r){return new Yi(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){const s=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=s,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=c||"";continue}}const o=s;switch(o.type){case"space":{n+=this.renderer.space(o);continue}case"hr":{n+=this.renderer.hr(o);continue}case"heading":{n+=this.renderer.heading(o);continue}case"code":{n+=this.renderer.code(o);continue}case"table":{n+=this.renderer.table(o);continue}case"blockquote":{n+=this.renderer.blockquote(o);continue}case"list":{n+=this.renderer.list(o);continue}case"html":{n+=this.renderer.html(o);continue}case"paragraph":{n+=this.renderer.paragraph(o);continue}case"text":{let a=o,c=this.renderer.text(a);for(;i+1<t.length&&t[i+1].type==="text";)a=t[++i],c+=`
`+this.renderer.text(a);r?n+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):n+=c;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let i=0;i<t.length;i++){const s=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=a||"";continue}}const o=s;switch(o.type){case"escape":{n+=r.text(o);break}case"html":{n+=r.html(o);break}case"link":{n+=r.link(o);break}case"image":{n+=r.image(o);break}case"strong":{n+=r.strong(o);break}case"em":{n+=r.em(o);break}case"codespan":{n+=r.codespan(o);break}case"br":{n+=r.br(o);break}case"del":{n+=r.del(o);break}case"text":{n+=r.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}}class Ap{constructor(t){H(this,"options");this.options=t||Ta}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}H(Ap,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var kv,jM,hd,yC,Iv,zM;class XV{constructor(...t){cf(this,kv);cf(this,hd);cf(this,Iv);H(this,"defaults",_b());H(this,"options",this.setOptions);H(this,"parse",Zc(this,hd,yC).call(this,Vi.lex,Yi.parse));H(this,"parseInline",Zc(this,hd,yC).call(this,Vi.lexInline,Yi.parseInline));H(this,"Parser",Yi);H(this,"Renderer",Ev);H(this,"TextRenderer",Ab);H(this,"Lexer",Vi);H(this,"Tokenizer",Pv);H(this,"Hooks",Ap);this.use(...t)}walkTokens(t,r){var i,s;let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const a=o;for(const c of a.header)n=n.concat(this.walkTokens(c.tokens,r));for(const c of a.rows)for(const l of c)n=n.concat(this.walkTokens(l.tokens,r));break}case"list":{const a=o;n=n.concat(this.walkTokens(a.items,r));break}default:{const a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(c=>{const l=a[c].flat(1/0);n=n.concat(this.walkTokens(l,r))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=r.renderers[s.name];o?r.renderers[s.name]=function(...a){let c=s.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=r[s.level];o?o.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){const s=this.defaults.renderer||new Ev(this.defaults);for(const o in n.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o;let c=n.renderer[a];n.useNewRenderer||(c=Zc(this,kv,jM).call(this,c,a,s));const l=s[a];s[a]=(...u)=>{let p=c.apply(s,u);return p===!1&&(p=l.apply(s,u)),p||""}}i.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new Pv(this.defaults);for(const o in n.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,c=n.tokenizer[a],l=s[a];s[a]=(...u)=>{let p=c.apply(s,u);return p===!1&&(p=l.apply(s,u)),p}}i.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new Ap;for(const o in n.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,c=n.hooks[a],l=s[a];Ap.passThroughHooks.has(o)?s[a]=u=>{if(this.defaults.async)return Promise.resolve(c.call(s,u)).then(d=>l.call(s,d));const p=c.call(s,u);return l.call(s,p)}:s[a]=(...u)=>{let p=c.apply(s,u);return p===!1&&(p=l.apply(s,u)),p}}i.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,o=n.walkTokens;i.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),s&&(c=c.concat(s.call(this,a))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Vi.lex(t,r??this.defaults)}parser(t,r){return Yi.parse(t,r??this.defaults)}}kv=new WeakSet,jM=function(t,r,n){switch(r){case"heading":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,n.parser.parseInline(i.tokens),i.depth,bV(n.parser.parseInline(i.tokens,n.parser.textRenderer)))};case"code":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,i.text,i.lang,!!i.escaped)};case"table":return function(i){if(!i.type||i.type!==r)return t.apply(this,arguments);let s="",o="";for(let c=0;c<i.header.length;c++)o+=this.tablecell({text:i.header[c].text,tokens:i.header[c].tokens,header:!0,align:i.align[c]});s+=this.tablerow({text:o});let a="";for(let c=0;c<i.rows.length;c++){const l=i.rows[c];o="";for(let u=0;u<l.length;u++)o+=this.tablecell({text:l[u].text,tokens:l[u].tokens,header:!1,align:i.align[u]});a+=this.tablerow({text:o})}return t.call(this,s,a)};case"blockquote":return function(i){if(!i.type||i.type!==r)return t.apply(this,arguments);const s=this.parser.parse(i.tokens);return t.call(this,s)};case"list":return function(i){if(!i.type||i.type!==r)return t.apply(this,arguments);const s=i.ordered,o=i.start,a=i.loose;let c="";for(let l=0;l<i.items.length;l++){const u=i.items[l],p=u.checked,d=u.task;let f="";if(u.task){const h=this.checkbox({checked:!!p});a?u.tokens.length>0&&u.tokens[0].type==="paragraph"?(u.tokens[0].text=h+" "+u.tokens[0].text,u.tokens[0].tokens&&u.tokens[0].tokens.length>0&&u.tokens[0].tokens[0].type==="text"&&(u.tokens[0].tokens[0].text=h+" "+u.tokens[0].tokens[0].text)):u.tokens.unshift({type:"text",text:h+" "}):f+=h+" "}f+=this.parser.parse(u.tokens,a),c+=this.listitem({type:"list_item",raw:f,text:f,task:d,checked:!!p,loose:a,tokens:u.tokens})}return t.call(this,c,s,o)};case"html":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,i.text,i.block)};case"paragraph":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(i.tokens))};case"escape":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,i.text)};case"link":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,i.href,i.title,this.parser.parseInline(i.tokens))};case"image":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,i.href,i.title,i.text)};case"strong":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(i.tokens))};case"em":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(i.tokens))};case"codespan":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,i.text)};case"del":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(i.tokens))};case"text":return function(i){return!i.type||i.type!==r?t.apply(this,arguments):t.call(this,i.text)}}return t},hd=new WeakSet,yC=function(t,r){return(n,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=Zc(this,Iv,zM).call(this,!!o.silent,!!o.async);if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(c=>t(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>r(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));let c=t(n,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let l=r(c,o);return o.hooks&&(l=o.hooks.postprocess(l)),l}catch(c){return a(c)}}},Iv=new WeakSet,zM=function(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+Bn(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}};const Ca=new XV;function ct(e,t){return Ca.parse(e,t)}ct.options=ct.setOptions=function(e){return Ca.setOptions(e),ct.defaults=Ca.defaults,TM(ct.defaults),ct};ct.getDefaults=_b;ct.defaults=Ta;ct.use=function(...e){return Ca.use(...e),ct.defaults=Ca.defaults,TM(ct.defaults),ct};ct.walkTokens=function(e,t){return Ca.walkTokens(e,t)};ct.parseInline=Ca.parseInline;ct.Parser=Yi;ct.parser=Yi.parse;ct.Renderer=Ev;ct.TextRenderer=Ab;ct.Lexer=Vi;ct.lexer=Vi.lex;ct.Tokenizer=Pv;ct.Hooks=Ap;ct.parse=ct;ct.options;ct.setOptions;ct.use;ct.walkTokens;ct.parseInline;Yi.parse;Vi.lex;function xb({content:e}){return w.jsx("div",{className:"markdown",dangerouslySetInnerHTML:{__html:gV.sanitize(ct.parse(e))}})}function ZV({quick_replies:e=[],onClick:t,isFullscreen:r}){const n=P.useRef(null),i=P.useRef(null),[s,o]=P.useState(0),[a,c]=P.useState({});return P.useEffect(()=>{var u;let l=window.innerWidth>=640?"5.6rem":"4.6rem";r&&(l=window.innerWidth>=640?"5.2rem":"2.5rem"),c({bottom:l,width:(u=n==null?void 0:n.current)==null?void 0:u.getBoundingClientRect().width})},[r]),P.useEffect(()=>{var l;a&&o((l=i==null?void 0:i.current)==null?void 0:l.offsetHeight)},[a]),w.jsx("div",{ref:n,className:"relative ",style:{height:s},children:w.jsx("div",{ref:i,className:"tww-quickreply-container",style:a,children:w.jsx("div",{className:"tww-quickreply-items",children:e.map(l=>w.jsx(ci,{style:l.style,variant:"badge",size:"sm",label:l.title,parameters:l.parameters,onClick:()=>t(l.postback,l.parameters)},l.title))})})})}function $M({quick_replies:e,eventId:t,isFullscreen:r,isLastMessage:n,handleSendMessage:i}){var c,l;const s=ie(u=>Eo(u,t)),o=(l=(c=s==null?void 0:s.output)==null?void 0:c.parameters)==null?void 0:l.postback,a=(u,p)=>{i({...p,userinput:u},t)};return o||!n?null:w.jsx(ZV,{isFullscreen:r,quick_replies:e,onClick:a})}function eY({title:e,maxValue:t,commentsAllowed:r=!0,onSubmit:n,defaultRate:i=0,defaultComment:s=""}){const[o,a]=P.useState(i),[c,l]=P.useState(s),u=()=>{n({rate:o,comment:c})};return w.jsxs("div",{className:"tww-rating-container",children:[w.jsx("div",{className:"tww-rating-title",children:e}),w.jsx("fieldset",{className:"rating",children:Array.from({length:t},(p,d)=>w.jsx("input",{"aria-label":`Star ${d+1}`,type:"radio",name:"rating-1",className:ue("mask mask-star bg-asgray-700 dark:bg-asgray-50",{"bg-gray-400/90 dark:bg-gray-500/20":d+1>o}),onClick:()=>a(d+1),defaultChecked:d+1===o},d))}),r&&w.jsx("div",{className:"textarea-container",children:w.jsx("textarea",{className:"tww-rating-text-area",rows:3,placeholder:"Leave us a comment",value:c,onChange:p=>l(p.target.value)})}),w.jsx(ci,{label:"Submit",onClick:u})]})}function FM({title:e,maxValue:t,commentsAllowed:r=!0,eventId:n,handleSendMessage:i}){var a,c;const s=ie(l=>Eo(l,n)),o=(c=(a=s==null?void 0:s.output)==null?void 0:a.parameters)==null?void 0:c.postback;return w.jsx("div",{className:ue({"opacity-50 cursor-not-allowed":o}),children:w.jsx("div",{className:ue({"pointer-events-none":o}),children:w.jsx(eY,{title:e,maxValue:t,commentsAllowed:r,onSubmit:l=>i(JSON.stringify(l),n,l,!1),defaultRate:o==null?void 0:o.rate,defaultComment:o==null?void 0:o.comment})})})}function BM({text:e}){return w.jsx("div",{className:"tww-system-message",children:e})}function HM({title:e,headers:t,body:r,footers:n}){return w.jsxs("div",{className:"tww-table-container",children:[e&&w.jsx("div",{className:"tww-table-title",children:e}),w.jsx("div",{className:"overflow-x-auto w-full scrollbar-light dark:scrollbar-dark",children:w.jsxs("table",{className:"tww-table",children:[t&&w.jsx("thead",{children:w.jsx("tr",{className:"tww-table-row",children:t.map((i,s)=>w.jsx("th",{children:i},`header_${s}`))})}),w.jsx("tbody",{children:r.map((i,s)=>w.jsx("tr",{children:i.map((o,a)=>w.jsx("td",{children:o},`cell_${s}_${a}`))},`row_${s}`))}),n&&w.jsx("tfoot",{children:w.jsx("tr",{className:"text-black dark:text-white font-normal text-sm",children:n.map((i,s)=>w.jsx("td",{children:i},`footer_${s}`))})})]})})]})}const tY="modulepreload",rY=function(e,t){return new URL(e,t).href},YE={},Cm=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(r.map(c=>{if(c=rY(c,n),c in YE)return;YE[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!n)for(let f=s.length-1;f>=0;f--){const h=s[f];if(h.href===c&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":tY,l||(d.as="script",d.crossOrigin=""),d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function KE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function GE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SC(e,t){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SC(e,t)}function nY(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,SC(e,t)}function iY(e,t){if(!e){var r=new Error("loadable: "+t);throw r.framesToPop=1,r.name="Invariant Violation",r}}var sY=x.createContext(),oY={initialChunks:{}},QE="PENDING",aY="RESOLVED",Jy="REJECTED";function cY(e){return typeof e=="function"?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}var lY=function(t){var r=function(i){return x.createElement(sY.Consumer,null,function(s){return x.createElement(t,Object.assign({__chunkExtractor:s},i))})};return t.displayName&&(r.displayName=t.displayName+"WithChunkExtractor"),r},uY=function(t){return t};function UM(e){var t=e.defaultResolveComponent,r=t===void 0?uY:t,n=e.render,i=e.onLoad;function s(a,c){c===void 0&&(c={});var l=cY(a),u={};function p(m){return c.cacheKey?c.cacheKey(m):l.resolve?l.resolve(m):"static"}function d(m,y,S){var C=c.resolveComponent?c.resolveComponent(m,y):r(m);return f4(S,C,{preload:!0}),C}var f=function(y){var S=p(y),C=u[S];return(!C||C.status===Jy)&&(C=l.requireAsync(y),C.status=QE,u[S]=C,C.then(function(){C.status=aY},function(b){console.error("loadable-components: failed to asynchronously load component",{fileName:l.resolve(y),chunkName:l.chunkName(y),error:b&&b.message}),C.status=Jy})),C},h=function(m){nY(y,m),y.getDerivedStateFromProps=function(b,T){var _=p(b);return xp({},T,{cacheKey:_,loading:T.loading||T.cacheKey!==_})};function y(C){var b;return b=m.call(this,C)||this,b.state={result:null,error:null,loading:!0,cacheKey:p(C)},iY(!C.__chunkExtractor||l.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),C.__chunkExtractor?(c.ssr===!1||(l.requireAsync(C).catch(function(){return null}),b.loadSync(),C.__chunkExtractor.addChunk(l.chunkName(C))),GE(b)):(c.ssr!==!1&&(l.isReady&&l.isReady(C)||l.chunkName&&oY.initialChunks[l.chunkName(C)])&&b.loadSync(),b)}var S=y.prototype;return S.componentDidMount=function(){this.mounted=!0;var b=this.getCache();b&&b.status===Jy&&this.setCache(),this.state.loading&&this.loadAsync()},S.componentDidUpdate=function(b,T){T.cacheKey!==this.state.cacheKey&&this.loadAsync()},S.componentWillUnmount=function(){this.mounted=!1},S.safeSetState=function(b,T){this.mounted&&this.setState(b,T)},S.getCacheKey=function(){return p(this.props)},S.getCache=function(){return u[this.getCacheKey()]},S.setCache=function(b){b===void 0&&(b=void 0),u[this.getCacheKey()]=b},S.triggerOnLoad=function(){var b=this;i&&setTimeout(function(){i(b.state.result,b.props)})},S.loadSync=function(){if(this.state.loading)try{var b=l.requireSync(this.props),T=d(b,this.props,g);this.state.result=T,this.state.loading=!1}catch(_){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:l.resolve(this.props),chunkName:l.chunkName(this.props),error:_&&_.message}),this.state.error=_}},S.loadAsync=function(){var b=this,T=this.resolveAsync();return T.then(function(_){var R=d(_,b.props,g);b.safeSetState({result:R,loading:!1},function(){return b.triggerOnLoad()})}).catch(function(_){return b.safeSetState({error:_,loading:!1})}),T},S.resolveAsync=function(){var b=this.props;b.__chunkExtractor,b.forwardedRef;var T=KE(b,["__chunkExtractor","forwardedRef"]);return f(T)},S.render=function(){var b=this.props,T=b.forwardedRef,_=b.fallback;b.__chunkExtractor;var R=KE(b,["forwardedRef","fallback","__chunkExtractor"]),O=this.state,D=O.error,$=O.loading,W=O.result;if(c.suspense){var J=this.getCache()||this.loadAsync();if(J.status===QE)throw this.loadAsync()}if(D)throw D;var q=_||c.fallback||null;return $?q:n({fallback:q,result:W,options:c,props:xp({},R,{ref:T})})},y}(x.Component),v=lY(h),g=x.forwardRef(function(m,y){return x.createElement(v,Object.assign({forwardedRef:y},m))});return g.displayName="Loadable",g.preload=function(m){g.load(m)},g.load=function(m){return f(m)},g}function o(a,c){return s(a,xp({},c,{suspense:!0}))}return{loadable:s,lazy:o}}function pY(e){return e.__esModule?e.default:e.default||e}var qM=UM({defaultResolveComponent:pY,render:function(t){var r=t.result,n=t.props;return x.createElement(r,n)}}),dY=qM.loadable,fY=qM.lazy,WM=UM({onLoad:function(t,r){t&&r.forwardedRef&&(typeof r.forwardedRef=="function"?r.forwardedRef(t):r.forwardedRef.current=t)},render:function(t){var r=t.result,n=t.props;return n.children?n.children(r):null}}),hY=WM.loadable,vY=WM.lazy,wm=dY;wm.lib=hY;var mY=fY;mY.lib=vY;const gY=wm(()=>Cm(()=>Promise.resolve().then(()=>Nre),void 0,import.meta.url)),yY=wm(()=>Cm(()=>Promise.resolve().then(()=>Xre),void 0,import.meta.url)),SY=wm(()=>Cm(()=>Promise.resolve().then(()=>wne),void 0,import.meta.url));function fc({video_url:e}){const t={youtube:gY,vimeo:yY,default:SY},r=n=>{const i=n.includes("youtube.com")||n.includes("youtu.be")?t.youtube:n.includes("vimeo.com")?t.vimeo:t.default;return w.jsx(i,{"data-testid":"video-player",url:n,width:"256px",height:"144px",controls:!0,"aria-hidden":"true"})};return w.jsx("div",{className:"tww-video-player-container",children:r(e)})}const CY=({text:e})=>w.jsx("div",{className:"w-full mx-auto text-black dark:text-white rounded-lg p-4 bg-white dark:bg-asgray-800",children:w.jsx("p",{children:e})}),wY={buttons:HO,clickablelist:wM,card:Xw,image:SM,quickreply:$M,text:CY,youtubevideo:fc,vimeovideo:fc,filevideo:fc,linkbuttons:Jw,table:HM,audio:BO,carousel:qO,linkpreview:CM,system:BM,upload:WO,markdown:xb,form:gM,rating:FM};function bY({comboData:e,handleSendMessage:t,eventId:r,isFullscreen:n,isLastMessage:i=!0}){return e.components.map(s=>{const o=wY[s.type];if(!o)return null;const a={...s,isLastMessage:i,...s.type==="buttons"&&{button_items:s.button_items},...s.type==="clickablelist"&&{list_items:s.list_items},...s.type==="linkbuttons"&&{linkbutton_items:s.linkbutton_items},...s.type==="quickreply"&&{quick_replies:s.quick_replies,isLastMessage:i,isFullscreen:n},...s.type==="text"&&{text:s.text,type:"bot"},...s.type==="table"&&{title:s.title,headers:s.headers,body:s.body,footers:s.footers},...s.type==="card"&&{title:s.title,text:s.text,image:{image_url:s.image.image_url,alt:s.image.alt}},...s.type==="audio"&&{audio_url:s.audio_url}};return w.jsx(o,{...a,handleSendMessage:t,eventId:r},va())})}function PY({eventId:e,handleSendMessage:t,isLastMessage:r,isFullscreen:n,...i}){var a,c;const s=ie(l=>Eo(l,e)),o=(c=(a=s==null?void 0:s.output)==null?void 0:a.parameters)==null?void 0:c.postback;return w.jsx("div",{className:ue({"opacity-50 cursor-not-allowed":o}),"data-testid":"tww-combo-wrapper",children:w.jsx("div",{className:ue({"pointer-events-none":o}),children:w.jsx(bY,{eventId:e,comboData:i,handleSendMessage:l=>t(l,e),isLastMessage:r,isFullscreen:n})})})}function _Y({customComponent:e,...t}){const[r,n]=P.useState(null);return P.useEffect(()=>{n(e?()=>e:()=>w.jsx("div",{children:"Error Loading Component"}))},[e]),r?w.jsx(r,{...t}):w.jsx("div",{children:"Loading component..."})}const VM=P.createContext();function EY({children:e}){const[t,r]=P.useState(!1),[n,i]=P.useState(localStorage.getItem("lastOpenedModalId")),[s,o]=P.useState(),a=l=>{o(l),l!==n&&(r(!0),i(l),localStorage.setItem("lastOpenedModalId",l))},c=()=>{r(!1)};return w.jsx(VM.Provider,{value:{isOpen:t,openModal:a,closeModal:c,modalId:s,lastOpenedModalId:n},children:e})}function CC({type:e,image:t,title:r,text:n,button_items:i,modalId:s,handleSendMessage:o}){const{isOpen:a,openModal:c,closeModal:l,lastOpenedModalId:u}=P.useContext(VM);P.useEffect(()=>{!a&&s!==u&&c(s)},[a,c,u,s]);const p=async d=>{await o(d),l()};return w.jsx(yM,{modalData:{type:e,image:t,title:r,text:n,button_items:i},onClick:p,onClose:l,isOpen:a,container:"chat-widget"})}const bm=e=>{const t=JSON.parse(e||"[]"),r=n=>n.toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());return t.reduce((n,{actionName:i,actionData:s})=>{const o=r(i);return n[o]={...s},n},{})};function RY({isUser:e,timeStamp:t,botName:r,botImage:n}){const i=ie(oF),s=ie(cF),o=ie(sF),a=ie(aF),c=r??o,l=n??a,u=e?i:c,p=w.jsx("div",{className:"avatar",children:w.jsx("div",{className:"tww-chat-message-avatar-size tww-chat-message-avatar-style ",children:w.jsx("img",{alt:e?"user avatar":"bot avatar",src:e?s:l})})},`avatar_${t}`),d=w.jsxs("div",{className:"flex w-full flex-col",children:[w.jsx("div",{className:"leading-relaxed",children:w.jsx("div",{"data-testid":"message-author-label",className:ue("block font-bold text-gray-700 dark:text-gray-300 flex",{"justify-end":e}),children:u})}),w.jsx("div",{className:"leading-relaxed",children:w.jsx("div",{className:ue("text-xs flex",{"justify-end":e}),children:I4(t)})})]},`label_${t}`);return e===!0?[d,p]:[p,d]}function TY(e,t){const r=JSON.parse(e),n=r.map(([s,o])=>t.substring(s,o)),i=r[r.length-1][1];if(i!==t.length){const s=t.substring(i,t.length);s.trim().length>0&&n.push(s)}return n}function kY(e,t){if(!t)return!1;if(!/^\s*\[\[\s*\d+\s*,\s*\d+\s*\](\s*,\s*\[\s*\d+\s*,\s*\d+\s*\])*\s*\]\s*$/.test(e))return console.error("textOutputSegmentIndexes does not have a valid format"),!1;const n=JSON.parse(e);let i=!0,s=n.length-1;for(;s>0&&i;)(n[s][0]>t||n[s][1]>t)&&(console.error("textOutputSegmentIndexes has at least one index out of range"),i=!1),s--;return i}const wC="tww-chat-message-format";function IY({isUser:e,text:t}){return e?w.jsx("div",{"data-testid":"user-message",className:ue(wC,"tww-chat-user-message-structure tww-chat-user-message-style"),children:w.jsx("p",{className:"whitespace-pre-wrap",children:t==null?void 0:t.trim()})}):w.jsx("div",{className:wC,children:w.jsx(xb,{content:t})})}function AY({text:e,textSegmentIndexes:t,eventId:r}){const n=Po(),i=ie(a=>Eo(a,r)),[s,o]=P.useState([]);return P.useEffect(()=>{var u,p;const a=TY(t,e);if((p=(u=i.output)==null?void 0:u.parameters)!=null&&p.bubbleReadFinished){o(a);return}let c=0;const l=setInterval(()=>{c++,o(()=>a.slice(0,c));const d=()=>{clearInterval(l),n(ed({eventId:r,bubbleReadFinished:!0}))};return c===a.length&&d(),()=>d()},500)},[e,t,i,r,n]),w.jsx(w.Fragment,{children:s.map(a=>w.jsx("div",{className:wC,children:w.jsx(xb,{content:a})},`multi-line-text-${a}`))})}function Xy({type:e,text:t,timeStamp:r,hideAvatar:n,textSegmentIndexes:i,eventId:s,botName:o,botImage:a}){const c=e==="user";return w.jsxs("div",{className:ue("",{"tww-chat-message-paddings-user":c,"tww-chat-message-paddings-bot":!c}),children:[!n&&w.jsx("div",{className:ue("tww-chat-message-content-container",{"tww-chat-message-content-container-user":c}),children:RY({isUser:c,timeStamp:r,botName:o,botImage:a})}),w.jsx("div",{className:"tww-chat-message-content-container-message-style",children:i&&kY(i,t==null?void 0:t.length)?w.jsx(AY,{text:t,textSegmentIndexes:i,eventId:s}):w.jsx(IY,{isUser:c,text:t})})]})}const JE={clickablelist:wM,youtubevideo:fc,vimeovideo:fc,filevideo:fc,buttons:HO,quickreply:$M,table:HM,image:SM,card:Xw,carousel:qO,rating:FM,form:gM,linkpreview:CM,modal:CC,audio:BO,combo:PY,linkbuttons:Jw,upload:WO,system:BM},xY=(e,t)=>t!=null&&t.some(r=>r.type===e)?{Component:_Y,customComponentProps:{customComponent:t.find(r=>r.type===e).customComponent}}:JE[e]?{Component:JE[e],customComponentProps:{}}:{Component:null,customComponentProps:{}};function OY({eventId:e=null,input:t=null,output:r=null,message:n=null,isLastMessage:i=!1,hideAvatar:s=!1,handleSendMessage:o=null,isFullscreen:a=!1}){var h,v,g,m,y,S,C;const c=ie(xO),l=JSON.parse(((h=r==null?void 0:r.parameters)==null?void 0:h.teneowebclient)||"{}"),u=bm((v=r==null?void 0:r.parameters)==null?void 0:v.twwOutput);let{Component:p,customComponentProps:d}=xY(l==null?void 0:l.type,c);!i&&p===CC&&(p=null);const f=p?w.jsxs(w.Fragment,{children:[(r==null?void 0:r.text)===""&&(l==null?void 0:l.type)==="quickreply"?null:w.jsx(Xy,{type:"bot",text:r.text,timeStamp:r.timeStamp,hideAvatar:s,botName:(g=u.providerSettings)==null?void 0:g.name,botImage:(m=u.providerSettings)==null?void 0:m.imageURL}),w.jsx(p,{...l,...d,modalId:p===CC?e:void 0,eventId:e,handleSendMessage:o,isFullscreen:a,isLastMessage:i})]}):(r==null?void 0:r.text)&&w.jsx(Xy,{type:"bot",text:r.text,timeStamp:r.timeStamp,hideAvatar:s,textSegmentIndexes:(y=r.parameters)==null?void 0:y.outputTextSegmentIndexes,eventId:e,botName:(S=u.providerSettings)==null?void 0:S.name,botImage:(C=u.providerSettings)==null?void 0:C.imageURL});return w.jsxs(w.Fragment,{children:[(t==null?void 0:t.text)&&w.jsx(Xy,{type:"user",text:t.text,timeStamp:t.timeStamp,hideAvatar:s}),f,n&&w.jsx("div",{className:"p-4 bg-red-500 color-white",children:n})]})}function DY(e){const t=Po();P.useEffect(()=>{var s,o,a,c;const r=e==null?void 0:e[(e==null?void 0:e.length)-1],n=bm((o=(s=r==null?void 0:r.output)==null?void 0:s.parameters)==null?void 0:o.twwOutput),{triggerEndSession:i}=n;i!=null&&i.value&&((c=(a=window.TeneoWebWidget)==null?void 0:a.onReceiveChatFunction)==null||c.call(a,e),t(lc()))},[e,t])}function MY({chat:e,isFullscreen:t,handleSendMessage:r}){const n=P.useRef(null),i=ie(Ww);r5(n,e),DY(e);const s=a=>{if(e.length===0)return[];const c=e[e.length-1].type;let l=e.length-1;for(let u=e.length-2;u>=0&&e[u].type===c;u--)l=u;return Array.from({length:e.length-l},(u,p)=>l+p).includes(a)},o=(a,c)=>{var p,d;if(c===0)return!1;const l=e[c-1],u=(d=(p=l==null?void 0:l.output)==null?void 0:p.parameters)==null?void 0:d.teneowebclient;return u&&JSON.parse(u).type==="quickreply"&&l.output.text===""?!0:a.type===l.type};return w.jsx("div",{className:ue("tww-chat-fullscreen",{"tww-chat-responsive":!t}),ref:n,children:w.jsxs("div",{className:"tww-chat-message-container",children:[Array.isArray(e)&&e.map((a,c)=>w.jsx("div",{id:a.eventId,children:w.jsx(OY,{...a,hideAvatar:o(a,c),isLastMessage:s(c),handleSendMessage:r,isFullscreen:t})},a.eventId)),i&&w.jsx("div",{className:"flex space-x-2  m-2 dark:white bg-dark",children:w.jsx("div",{className:"tww-message-loader"})})]})})}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LY=function(t){var r=x.useRef(t);return cv(function(){r.current=t}),r},XE=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},jY=function(t,r){var n=x.useRef();return x.useCallback(function(i){t.current=i,n.current&&XE(n.current,null),n.current=r,r&&XE(r,i)},[r])},ZE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},zY=function(t){Object.keys(ZE).forEach(function(r){t.style.setProperty(r,ZE[r],"important")})},eR=zY,hn=null,tR=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function $Y(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),hn||(hn=document.createElement("textarea"),hn.setAttribute("tabindex","-1"),hn.setAttribute("aria-hidden","true"),eR(hn)),hn.parentNode===null&&document.body.appendChild(hn);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var f=d;hn.style[f]=o[f]}),eR(hn),hn.value=t;var c=tR(hn,e);hn.value=t,c=tR(hn,e),hn.value="x";var l=hn.scrollHeight-i,u=l*r;a==="border-box"&&(u=u+i+s),c=Math.max(u,c);var p=l*n;return a==="border-box"&&(p=p+i+s),c=Math.min(p,c),[c,l]}var rR=function(){},FY=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},BY=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],HY=!!document.documentElement.currentStyle,UY=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=FY(BY,r),i=n.boxSizing;if(i==="")return null;HY&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var s=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),o=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:s,borderSize:o}},qY=UY;function Ob(e,t,r){var n=LY(r);P.useLayoutEffect(function(){var i=function(o){return n.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var WY=function(t,r){Ob(document.body,"reset",function(n){t.current.form===n.target&&r(n)})},VY=function(t){Ob(window,"resize",t)},YY=function(t){Ob(document.fonts,"loadingdone",t)},KY=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],GY=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?rR:o,c=t.onHeightChange,l=c===void 0?rR:c,u=NY(t,KY),p=u.value!==void 0,d=P.useRef(null),f=jY(d,r),h=P.useRef(0),v=P.useRef(),g=function(){var S=d.current,C=n&&v.current?v.current:qY(S);if(C){v.current=C;var b=$Y(C,S.value||S.placeholder||"x",s,i),T=b[0],_=b[1];h.current!==T&&(h.current=T,S.style.setProperty("height",T+"px","important"),l(T,{rowHeight:_}))}},m=function(S){p||g(),a(S)};return P.useLayoutEffect(g),WY(d,function(){if(!p){var y=d.current.value;requestAnimationFrame(function(){var S=d.current;S&&y!==S.value&&g()})}}),VY(g),YY(g),P.createElement("textarea",bC({},u,{onChange:m,ref:f}))},QY=P.forwardRef(GY),Hr={},Zy={},Pm={},eS={},Jt={},Wc={},di={},YM={},_m={},Em={};Object.defineProperty(Em,"__esModule",{value:!0});Em.default=XY;let Wf;const JY=new Uint8Array(16);function XY(){if(!Wf&&(Wf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wf(JY)}var To={},ka={},Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});Rm.default=void 0;var ZY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Rm.default=ZY;Object.defineProperty(ka,"__esModule",{value:!0});ka.default=void 0;var eK=tK(Rm);function tK(e){return e&&e.__esModule?e:{default:e}}function rK(e){return typeof e=="string"&&eK.default.test(e)}var nK=rK;ka.default=nK;Object.defineProperty(To,"__esModule",{value:!0});To.default=void 0;To.unsafeStringify=KM;var iK=sK(ka);function sK(e){return e&&e.__esModule?e:{default:e}}const $r=[];for(let e=0;e<256;++e)$r.push((e+256).toString(16).slice(1));function KM(e,t=0){return $r[e[t+0]]+$r[e[t+1]]+$r[e[t+2]]+$r[e[t+3]]+"-"+$r[e[t+4]]+$r[e[t+5]]+"-"+$r[e[t+6]]+$r[e[t+7]]+"-"+$r[e[t+8]]+$r[e[t+9]]+"-"+$r[e[t+10]]+$r[e[t+11]]+$r[e[t+12]]+$r[e[t+13]]+$r[e[t+14]]+$r[e[t+15]]}function oK(e,t=0){const r=KM(e,t);if(!(0,iK.default)(r))throw TypeError("Stringified UUID is invalid");return r}var aK=oK;To.default=aK;Object.defineProperty(_m,"__esModule",{value:!0});_m.default=void 0;var cK=uK(Em),lK=To;function uK(e){return e&&e.__esModule?e:{default:e}}let nR,tS,rS=0,nS=0;function pK(e,t,r){let n=t&&r||0;const i=t||new Array(16);e=e||{};let s=e.node||nR,o=e.clockseq!==void 0?e.clockseq:tS;if(s==null||o==null){const d=e.random||(e.rng||cK.default)();s==null&&(s=nR=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=tS=(d[6]<<8|d[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:nS+1;const l=a-rS+(c-nS)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>rS)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rS=a,nS=c,tS=o,a+=122192928e5;const u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;const p=a/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let d=0;d<6;++d)i[n+d]=s[d];return t||(0,lK.unsafeStringify)(i)}var dK=pK;_m.default=dK;var Tm={},yo={},Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});Bd.default=void 0;var fK=hK(ka);function hK(e){return e&&e.__esModule?e:{default:e}}function vK(e){if(!(0,fK.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var mK=vK;Bd.default=mK;Object.defineProperty(yo,"__esModule",{value:!0});yo.URL=yo.DNS=void 0;yo.default=wK;var gK=To,yK=SK(Bd);function SK(e){return e&&e.__esModule?e:{default:e}}function CK(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}const GM="6ba7b810-9dad-11d1-80b4-00c04fd430c8";yo.DNS=GM;const QM="6ba7b811-9dad-11d1-80b4-00c04fd430c8";yo.URL=QM;function wK(e,t,r){function n(i,s,o,a){var c;if(typeof i=="string"&&(i=CK(i)),typeof s=="string"&&(s=(0,yK.default)(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let u=0;u<16;++u)o[a+u]=l[u];return o}return(0,gK.unsafeStringify)(l)}try{n.name=e}catch{}return n.DNS=GM,n.URL=QM,n}var km={};Object.defineProperty(km,"__esModule",{value:!0});km.default=void 0;function bK(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return PK(_K(EK(e),e.length*8))}function PK(e){const t=[],r=e.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){const s=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(o)}return t}function JM(e){return(e+64>>>9<<4)+14+1}function _K(e,t){e[t>>5]|=128<<t%32,e[JM(t)-1]=t;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let o=0;o<e.length;o+=16){const a=r,c=n,l=i,u=s;r=en(r,n,i,s,e[o],7,-680876936),s=en(s,r,n,i,e[o+1],12,-389564586),i=en(i,s,r,n,e[o+2],17,606105819),n=en(n,i,s,r,e[o+3],22,-1044525330),r=en(r,n,i,s,e[o+4],7,-176418897),s=en(s,r,n,i,e[o+5],12,1200080426),i=en(i,s,r,n,e[o+6],17,-1473231341),n=en(n,i,s,r,e[o+7],22,-45705983),r=en(r,n,i,s,e[o+8],7,1770035416),s=en(s,r,n,i,e[o+9],12,-1958414417),i=en(i,s,r,n,e[o+10],17,-42063),n=en(n,i,s,r,e[o+11],22,-1990404162),r=en(r,n,i,s,e[o+12],7,1804603682),s=en(s,r,n,i,e[o+13],12,-40341101),i=en(i,s,r,n,e[o+14],17,-1502002290),n=en(n,i,s,r,e[o+15],22,1236535329),r=tn(r,n,i,s,e[o+1],5,-165796510),s=tn(s,r,n,i,e[o+6],9,-1069501632),i=tn(i,s,r,n,e[o+11],14,643717713),n=tn(n,i,s,r,e[o],20,-373897302),r=tn(r,n,i,s,e[o+5],5,-701558691),s=tn(s,r,n,i,e[o+10],9,38016083),i=tn(i,s,r,n,e[o+15],14,-660478335),n=tn(n,i,s,r,e[o+4],20,-405537848),r=tn(r,n,i,s,e[o+9],5,568446438),s=tn(s,r,n,i,e[o+14],9,-1019803690),i=tn(i,s,r,n,e[o+3],14,-187363961),n=tn(n,i,s,r,e[o+8],20,1163531501),r=tn(r,n,i,s,e[o+13],5,-1444681467),s=tn(s,r,n,i,e[o+2],9,-51403784),i=tn(i,s,r,n,e[o+7],14,1735328473),n=tn(n,i,s,r,e[o+12],20,-1926607734),r=rn(r,n,i,s,e[o+5],4,-378558),s=rn(s,r,n,i,e[o+8],11,-2022574463),i=rn(i,s,r,n,e[o+11],16,1839030562),n=rn(n,i,s,r,e[o+14],23,-35309556),r=rn(r,n,i,s,e[o+1],4,-1530992060),s=rn(s,r,n,i,e[o+4],11,1272893353),i=rn(i,s,r,n,e[o+7],16,-155497632),n=rn(n,i,s,r,e[o+10],23,-1094730640),r=rn(r,n,i,s,e[o+13],4,681279174),s=rn(s,r,n,i,e[o],11,-358537222),i=rn(i,s,r,n,e[o+3],16,-722521979),n=rn(n,i,s,r,e[o+6],23,76029189),r=rn(r,n,i,s,e[o+9],4,-640364487),s=rn(s,r,n,i,e[o+12],11,-421815835),i=rn(i,s,r,n,e[o+15],16,530742520),n=rn(n,i,s,r,e[o+2],23,-995338651),r=nn(r,n,i,s,e[o],6,-198630844),s=nn(s,r,n,i,e[o+7],10,1126891415),i=nn(i,s,r,n,e[o+14],15,-1416354905),n=nn(n,i,s,r,e[o+5],21,-57434055),r=nn(r,n,i,s,e[o+12],6,1700485571),s=nn(s,r,n,i,e[o+3],10,-1894986606),i=nn(i,s,r,n,e[o+10],15,-1051523),n=nn(n,i,s,r,e[o+1],21,-2054922799),r=nn(r,n,i,s,e[o+8],6,1873313359),s=nn(s,r,n,i,e[o+15],10,-30611744),i=nn(i,s,r,n,e[o+6],15,-1560198380),n=nn(n,i,s,r,e[o+13],21,1309151649),r=nn(r,n,i,s,e[o+4],6,-145523070),s=nn(s,r,n,i,e[o+11],10,-1120210379),i=nn(i,s,r,n,e[o+2],15,718787259),n=nn(n,i,s,r,e[o+9],21,-343485551),r=Ks(r,a),n=Ks(n,c),i=Ks(i,l),s=Ks(s,u)}return[r,n,i,s]}function EK(e){if(e.length===0)return[];const t=e.length*8,r=new Uint32Array(JM(t));for(let n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Ks(e,t){const r=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(r>>16)<<16|r&65535}function RK(e,t){return e<<t|e>>>32-t}function Im(e,t,r,n,i,s){return Ks(RK(Ks(Ks(t,e),Ks(n,s)),i),r)}function en(e,t,r,n,i,s,o){return Im(t&r|~t&n,e,t,i,s,o)}function tn(e,t,r,n,i,s,o){return Im(t&n|r&~n,e,t,i,s,o)}function rn(e,t,r,n,i,s,o){return Im(t^r^n,e,t,i,s,o)}function nn(e,t,r,n,i,s,o){return Im(r^(t|~n),e,t,i,s,o)}var TK=bK;km.default=TK;Object.defineProperty(Tm,"__esModule",{value:!0});Tm.default=void 0;var kK=XM(yo),IK=XM(km);function XM(e){return e&&e.__esModule?e:{default:e}}const AK=(0,kK.default)("v3",48,IK.default);var xK=AK;Tm.default=xK;var Am={},xm={};Object.defineProperty(xm,"__esModule",{value:!0});xm.default=void 0;const OK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var DK={randomUUID:OK};xm.default=DK;Object.defineProperty(Am,"__esModule",{value:!0});Am.default=void 0;var iR=ZM(xm),MK=ZM(Em),NK=To;function ZM(e){return e&&e.__esModule?e:{default:e}}function LK(e,t,r){if(iR.default.randomUUID&&!t&&!e)return iR.default.randomUUID();e=e||{};const n=e.random||(e.rng||MK.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,NK.unsafeStringify)(n)}var jK=LK;Am.default=jK;var Om={},Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});Dm.default=void 0;function zK(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function iS(e,t){return e<<t|e>>>32-t}function $K(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const o=unescape(encodeURIComponent(e));e=[];for(let a=0;a<o.length;++a)e.push(o.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const n=e.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let o=0;o<i;++o){const a=new Uint32Array(16);for(let c=0;c<16;++c)a[c]=e[o*64+c*4]<<24|e[o*64+c*4+1]<<16|e[o*64+c*4+2]<<8|e[o*64+c*4+3];s[o]=a}s[i-1][14]=(e.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<i;++o){const a=new Uint32Array(80);for(let f=0;f<16;++f)a[f]=s[o][f];for(let f=16;f<80;++f)a[f]=iS(a[f-3]^a[f-8]^a[f-14]^a[f-16],1);let c=r[0],l=r[1],u=r[2],p=r[3],d=r[4];for(let f=0;f<80;++f){const h=Math.floor(f/20),v=iS(c,5)+zK(h,l,u,p)+d+t[h]+a[f]>>>0;d=p,p=u,u=iS(l,30)>>>0,l=c,c=v}r[0]=r[0]+c>>>0,r[1]=r[1]+l>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var FK=$K;Dm.default=FK;Object.defineProperty(Om,"__esModule",{value:!0});Om.default=void 0;var BK=e2(yo),HK=e2(Dm);function e2(e){return e&&e.__esModule?e:{default:e}}const UK=(0,BK.default)("v5",80,HK.default);var qK=UK;Om.default=qK;var Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.default=void 0;var WK="00000000-0000-0000-0000-000000000000";Mm.default=WK;var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.default=void 0;var VK=YK(ka);function YK(e){return e&&e.__esModule?e:{default:e}}function KK(e){if(!(0,VK.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var GK=KK;Nm.default=GK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.default}});var t=u(_m),r=u(Tm),n=u(Am),i=u(Om),s=u(Mm),o=u(Nm),a=u(ka),c=u(To),l=u(Bd);function u(p){return p&&p.__esModule?p:{default:p}}})(YM);Object.defineProperty(di,"__esModule",{value:!0});di.createNoDashGuid=di.createGuid=void 0;const QK=YM,t2=()=>QK.v4();di.createGuid=t2;const JK=()=>t2().replace(new RegExp("-","g"),"").toUpperCase();di.createNoDashGuid=JK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformEvent=e.EventType=void 0;const t=di;(function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.None=4]="None"})(e.EventType||(e.EventType={}));class r{constructor(i,s){this.privName=i,this.privEventId=t.createNoDashGuid(),this.privEventTime=new Date().toISOString(),this.privEventType=s,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}e.PlatformEvent=r})(Wc);Object.defineProperty(Jt,"__esModule",{value:!0});Jt.AudioStreamNodeErrorEvent=Jt.AudioStreamNodeDetachedEvent=Jt.AudioStreamNodeAttachedEvent=Jt.AudioStreamNodeAttachingEvent=Jt.AudioStreamNodeEvent=Jt.AudioSourceErrorEvent=Jt.AudioSourceOffEvent=Jt.AudioSourceReadyEvent=Jt.AudioSourceInitializingEvent=Jt.AudioSourceEvent=void 0;const PC=Wc;class Vc extends PC.PlatformEvent{constructor(t,r,n=PC.EventType.Info){super(t,n),this.privAudioSourceId=r}get audioSourceId(){return this.privAudioSourceId}}Jt.AudioSourceEvent=Vc;class XK extends Vc{constructor(t){super("AudioSourceInitializingEvent",t)}}Jt.AudioSourceInitializingEvent=XK;class ZK extends Vc{constructor(t){super("AudioSourceReadyEvent",t)}}Jt.AudioSourceReadyEvent=ZK;class eG extends Vc{constructor(t){super("AudioSourceOffEvent",t)}}Jt.AudioSourceOffEvent=eG;class tG extends Vc{constructor(t,r){super("AudioSourceErrorEvent",t,PC.EventType.Error),this.privError=r}get error(){return this.privError}}Jt.AudioSourceErrorEvent=tG;class Hd extends Vc{constructor(t,r,n){super(t,r),this.privAudioNodeId=n}get audioNodeId(){return this.privAudioNodeId}}Jt.AudioStreamNodeEvent=Hd;class rG extends Hd{constructor(t,r){super("AudioStreamNodeAttachingEvent",t,r)}}Jt.AudioStreamNodeAttachingEvent=rG;class nG extends Hd{constructor(t,r){super("AudioStreamNodeAttachedEvent",t,r)}}Jt.AudioStreamNodeAttachedEvent=nG;class iG extends Hd{constructor(t,r){super("AudioStreamNodeDetachedEvent",t,r)}}Jt.AudioStreamNodeDetachedEvent=iG;class sG extends Hd{constructor(t,r,n){super("AudioStreamNodeErrorEvent",t,r),this.privError=n}get error(){return this.privError}}Jt.AudioStreamNodeErrorEvent=sG;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.ConnectionMessageSentEvent=dr.ConnectionMessageReceivedEvent=dr.ConnectionEstablishErrorEvent=dr.ConnectionErrorEvent=dr.ConnectionClosedEvent=dr.ConnectionEstablishedEvent=dr.ConnectionStartEvent=dr.ConnectionEvent=dr.ServiceEvent=void 0;const wa=Wc;class oG extends wa.PlatformEvent{constructor(t,r,n=wa.EventType.Info){super(t,n),this.privJsonResult=r}get jsonString(){return this.privJsonResult}}dr.ServiceEvent=oG;class ko extends wa.PlatformEvent{constructor(t,r,n=wa.EventType.Info){super(t,n),this.privConnectionId=r}get connectionId(){return this.privConnectionId}}dr.ConnectionEvent=ko;class aG extends ko{constructor(t,r,n){super("ConnectionStartEvent",t),this.privUri=r,this.privHeaders=n}get uri(){return this.privUri}get headers(){return this.privHeaders}}dr.ConnectionStartEvent=aG;class cG extends ko{constructor(t){super("ConnectionEstablishedEvent",t)}}dr.ConnectionEstablishedEvent=cG;class lG extends ko{constructor(t,r,n){super("ConnectionClosedEvent",t,wa.EventType.Debug),this.privReason=n,this.privStatusCode=r}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}dr.ConnectionClosedEvent=lG;class uG extends ko{constructor(t,r,n){super("ConnectionErrorEvent",t,wa.EventType.Debug),this.privMessage=r,this.privType=n}get message(){return this.privMessage}get type(){return this.privType}}dr.ConnectionErrorEvent=uG;class pG extends ko{constructor(t,r,n){super("ConnectionEstablishErrorEvent",t,wa.EventType.Error),this.privStatusCode=r,this.privReason=n}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}dr.ConnectionEstablishErrorEvent=pG;class dG extends ko{constructor(t,r,n){super("ConnectionMessageReceivedEvent",t),this.privNetworkReceivedTime=r,this.privMessage=n}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}dr.ConnectionMessageReceivedEvent=dG;class fG extends ko{constructor(t,r,n){super("ConnectionMessageSentEvent",t),this.privNetworkSentTime=r,this.privMessage=n}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}dr.ConnectionMessageSentEvent=fG;var Db={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.ObjectDisposedError=Vr.InvalidOperationError=Vr.ArgumentNullError=void 0;class hG extends Error{constructor(t){super(t),this.name="ArgumentNull",this.message=t}}Vr.ArgumentNullError=hG;class vG extends Error{constructor(t){super(t),this.name="InvalidOperation",this.message=t}}Vr.InvalidOperationError=vG;class mG extends Error{constructor(t,r){super(r),this.name=t+"ObjectDisposed",this.message=r}}Vr.ObjectDisposedError=mG;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionMessage=e.MessageType=void 0;const t=Vr,r=di;var n;(function(s){s[s.Text=0]="Text",s[s.Binary=1]="Binary"})(n=e.MessageType||(e.MessageType={}));class i{constructor(o,a,c,l){if(this.privBody=null,o===n.Text&&a&&typeof a!="string")throw new t.InvalidOperationError("Payload must be a string");if(o===n.Binary&&a&&!(a instanceof ArrayBuffer))throw new t.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=o,this.privBody=a,this.privHeaders=c||{},this.privId=l||r.createNoDashGuid(),this.messageType){case n.Binary:this.privSize=this.binaryBody!==null?this.binaryBody.byteLength:0;break;case n.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===n.Binary)throw new t.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===n.Text)throw new t.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}e.ConnectionMessage=i})(Db);var Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.ConnectionOpenResponse=void 0;class gG{constructor(t,r){this.privStatusCode=t,this.privReason=r}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}Lm.ConnectionOpenResponse=gG;var jm={};Object.defineProperty(jm,"__esModule",{value:!0});jm.DeferralMap=void 0;class yG{constructor(){this.privMap={}}add(t,r){this.privMap[t]=r}getId(t){return this.privMap[t]}complete(t,r){try{this.privMap[t].resolve(r)}catch(n){this.privMap[t].reject(n)}finally{this.privMap[t]=void 0}}}jm.DeferralMap=yG;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.SendingAgentContextMessageEvent=ba.DialogEvent=void 0;const sR=Wc;class r2 extends sR.PlatformEvent{constructor(t,r=sR.EventType.Info){super(t,r)}}ba.DialogEvent=r2;class SG extends r2{constructor(t){super("SendingAgentContextMessageEvent"),this.privAgentConfig=t}get agentConfig(){return this.privAgentConfig}}ba.SendingAgentContextMessageEvent=SG;var zm={},Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.EventSource=void 0;const CG=Vr,wG=di;class bG{constructor(t){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=t}onEvent(t){if(this.isDisposed())throw new CG.ObjectDisposedError("EventSource");if(this.metadata)for(const r in this.metadata)r&&t.metadata&&(t.metadata[r]||(t.metadata[r]=this.metadata[r]));for(const r in this.privEventListeners)r&&this.privEventListeners[r]&&this.privEventListeners[r](t)}attach(t){const r=wG.createNoDashGuid();return this.privEventListeners[r]=t,{detach:()=>(delete this.privEventListeners[r],Promise.resolve())}}attachListener(t){return this.attach(r=>t.onEvent(r))}attachConsoleListener(t){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach(r=>t.onEvent(r)),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}}Ud.EventSource=bG;Object.defineProperty(zm,"__esModule",{value:!0});zm.Events=void 0;const PG=Vr,_G=Ud;class ud{static setEventSource(t){if(!t)throw new PG.ArgumentNullError("eventSource");ud.privInstance=t}static get instance(){return ud.privInstance}}zm.Events=ud;ud.privInstance=new _G.EventSource;var n2={};Object.defineProperty(n2,"__esModule",{value:!0});var i2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionState=void 0,function(t){t[t.None=0]="None",t[t.Connected=1]="Connected",t[t.Connecting=2]="Connecting",t[t.Disconnected=3]="Disconnected"}(e.ConnectionState||(e.ConnectionState={}))})(i2);var s2={};Object.defineProperty(s2,"__esModule",{value:!0});var o2={};Object.defineProperty(o2,"__esModule",{value:!0});var a2={};Object.defineProperty(a2,"__esModule",{value:!0});var c2={};Object.defineProperty(c2,"__esModule",{value:!0});var l2={};Object.defineProperty(l2,"__esModule",{value:!0});var u2={};Object.defineProperty(u2,"__esModule",{value:!0});var p2={};Object.defineProperty(p2,"__esModule",{value:!0});var d2={};Object.defineProperty(d2,"__esModule",{value:!0});var qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.List=void 0;const EG=Vr;class $s{constructor(t){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],t)for(const r of t)this.privList.push(r)}get(t){return this.throwIfDisposed(),this.privList[t]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(t){this.throwIfDisposed(),this.insertAt(this.privList.length,t)}insertAt(t,r){this.throwIfDisposed(),t===0?this.privList.unshift(r):t===this.privList.length?this.privList.push(r):this.privList.splice(t,0,r),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(t){return this.throwIfDisposed(),this.remove(t,1)[0]}remove(t,r){this.throwIfDisposed();const n=this.privList.splice(t,r);return this.triggerSubscriptions(this.privRemoveSubscriptions),n}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(t){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[r]=t,{detach:()=>(delete this.privAddSubscriptions[r],Promise.resolve())}}onRemoved(t){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[r]=t,{detach:()=>(delete this.privRemoveSubscriptions[r],Promise.resolve())}}onDisposed(t){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[r]=t,{detach:()=>(delete this.privDisposedSubscriptions[r],Promise.resolve())}}join(t){return this.throwIfDisposed(),this.privList.join(t)}toArray(){const t=Array();return this.privList.forEach(r=>{t.push(r)}),t}any(t){return this.throwIfDisposed(),t?this.where(t).length()>0:this.length()>0}all(t){return this.throwIfDisposed(),this.where(t).length()===this.length()}forEach(t){this.throwIfDisposed();for(let r=0;r<this.length();r++)t(this.privList[r],r)}select(t){this.throwIfDisposed();const r=[];for(let n=0;n<this.privList.length;n++)r.push(t(this.privList[n],n));return new $s(r)}where(t){this.throwIfDisposed();const r=new $s;for(let n=0;n<this.privList.length;n++)t(this.privList[n],n)&&r.add(this.privList[n]);return r}orderBy(t){this.throwIfDisposed();const n=this.toArray().sort(t);return new $s(n)}orderByDesc(t){return this.throwIfDisposed(),this.orderBy((r,n)=>t(n,r))}clone(){return this.throwIfDisposed(),new $s(this.toArray())}concat(t){return this.throwIfDisposed(),new $s(this.privList.concat(t.toArray()))}concatArray(t){return this.throwIfDisposed(),new $s(this.privList.concat(t))}isDisposed(){return this.privList==null}dispose(t){this.isDisposed()||(this.privDisposeReason=t,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new EG.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(t){if(t)for(const r in t)r&&t[r]()}}qd.List=$s;var Mb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.marshalPromiseToCallbacks=e.Sink=e.Deferred=e.PromiseResultEventSource=e.PromiseResult=e.PromiseState=void 0;var t;(function(a){a[a.None=0]="None",a[a.Resolved=1]="Resolved",a[a.Rejected=2]="Rejected"})(t=e.PromiseState||(e.PromiseState={}));class r{constructor(c){this.throwIfError=()=>{if(this.isError)throw this.error},c.on(l=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=l)},l=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=l)})}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}e.PromiseResult=r;class n{constructor(){this.setResult=c=>{this.privOnSetResult(c)},this.setError=c=>{this.privOnSetError(c)},this.on=(c,l)=>{this.privOnSetResult=c,this.privOnSetError=l}}}e.PromiseResultEventSource=n;class i{constructor(){this.resolve=c=>(this.privResolve(c),this),this.reject=c=>(this.privReject(c),this),this.privPromise=new Promise((c,l)=>{this.privResolve=c,this.privReject=l})}get promise(){return this.privPromise}}e.Deferred=i;class s{constructor(){this.privState=t.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new n,this.privPromiseResult=new r(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(c){if(this.privState!==t.None)throw new Error("'Cannot resolve a completed promise'");this.privState=t.Resolved,this.privPromiseResultEvents.setResult(c);for(let l=0;l<this.privSuccessHandlers.length;l++)this.executeSuccessCallback(c,this.privSuccessHandlers[l],this.privErrorHandlers[l]);this.detachHandlers()}reject(c){if(this.privState!==t.None)throw new Error("'Cannot reject a completed promise'");this.privState=t.Rejected,this.privPromiseResultEvents.setError(c);for(const l of this.privErrorHandlers)this.executeErrorCallback(c,l);this.detachHandlers()}on(c,l){c==null&&(c=()=>{}),this.privState===t.None?(this.privSuccessHandlers.push(c),this.privErrorHandlers.push(l)):(this.privState===t.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,c,l):this.privState===t.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,l),this.detachHandlers())}executeSuccessCallback(c,l,u){try{l(c)}catch(p){this.executeErrorCallback(`'Unhandled callback error: ${p}'`,u)}}executeErrorCallback(c,l){if(l)try{l(c)}catch(u){throw new Error(`'Unhandled callback error: ${u}. InnerError: ${c}'`)}else throw new Error(`'Unhandled error: ${c}'`)}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}}e.Sink=s;function o(a,c,l){a.then(u=>{try{c&&c(u)}catch(p){if(l)try{if(p instanceof Error){const d=p;l(d.name+": "+d.message)}else l(p)}catch{}}},u=>{if(l)try{if(u instanceof Error){const p=u;l(p.name+": "+p.message)}else l(u)}catch{}})}e.marshalPromiseToCallbacks=o})(Mb);var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.Queue=void 0;const sS=Vr,oS=qd,oR=Mb;var Op;(function(e){e[e.Dequeue=0]="Dequeue",e[e.Peek=1]="Peek"})(Op||(Op={}));class RG{constructor(t){this.privPromiseStore=new oS.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=t||new oS.List,this.privDetachables=[],this.privSubscribers=new oS.List,this.privDetachables.push(this.privList.onAdded(()=>this.drain()))}enqueue(t){this.throwIfDispose(),this.enqueueFromPromise(new Promise(r=>r(t)))}enqueueFromPromise(t){this.throwIfDispose(),t.then(r=>{this.privList.add(r)},()=>{})}dequeue(){this.throwIfDispose();const t=new oR.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:t,type:Op.Dequeue}),this.drain()),t.promise}peek(){this.throwIfDispose();const t=new oR.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:t,type:Op.Peek}),this.drain()),t.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return this.privSubscribers==null}async drainAndDispose(t,r){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=r,this.privIsDisposing=!0;const n=this.privSubscribers;if(n){for(;n.length()>0;)n.removeFirst().deferral.resolve(void 0);this.privSubscribers===n&&(this.privSubscribers=n)}for(const i of this.privDetachables)await i.detach();if(this.privPromiseStore.length()>0&&t){const i=[];return this.privPromiseStore.toArray().forEach(s=>{i.push(s)}),Promise.all(i).finally(()=>{this.privSubscribers=null,this.privList.forEach(s=>{t(s)}),this.privList=null}).then()}else this.privSubscribers=null,this.privList=null}}async dispose(t){await this.drainAndDispose(null,t)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const t=this.privSubscribers,r=this.privList;if(t&&r){for(;r.length()>0&&t.length()>0&&!this.privIsDisposing;){const n=t.removeFirst();if(n.type===Op.Peek)n.deferral.resolve(r.first());else{const i=r.removeFirst();n.deferral.resolve(i)}}this.privSubscribers===t&&(this.privSubscribers=t),this.privList===r&&(this.privList=r)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed())throw this.privDisposeReason?new sS.InvalidOperationError(this.privDisposeReason):new sS.ObjectDisposedError("Queue");if(this.privIsDisposing)throw new sS.InvalidOperationError("Queue disposing")}}Wd.Queue=RG;var $m={};Object.defineProperty($m,"__esModule",{value:!0});$m.RawWebsocketMessage=void 0;const Vf=Db,Cl=Vr,TG=di;class kG{constructor(t,r,n){if(this.privPayload=null,!r)throw new Cl.ArgumentNullError("payload");if(t===Vf.MessageType.Binary&&Object.getPrototypeOf(r).constructor.name!=="ArrayBuffer")throw new Cl.InvalidOperationError("Payload must be ArrayBuffer");if(t===Vf.MessageType.Text&&typeof r!="string")throw new Cl.InvalidOperationError("Payload must be a string");this.privMessageType=t,this.privPayload=r,this.privId=n||TG.createNoDashGuid()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===Vf.MessageType.Binary)throw new Cl.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===Vf.MessageType.Text)throw new Cl.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}}$m.RawWebsocketMessage=kG;var Fm={};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.RiffPcmEncoder=void 0;class IG{constructor(t,r){this.privActualSampleRate=t,this.privDesiredSampleRate=r}encode(t){const r=this.downSampleAudioFrame(t,this.privActualSampleRate,this.privDesiredSampleRate);if(!r)return null;const n=r.length*2,i=new ArrayBuffer(n),s=new DataView(i);return this.floatTo16BitPCM(s,0,r),i}setString(t,r,n){for(let i=0;i<n.length;i++)t.setUint8(r+i,n.charCodeAt(i))}floatTo16BitPCM(t,r,n){for(let i=0;i<n.length;i++,r+=2){const s=Math.max(-1,Math.min(1,n[i]));t.setInt16(r,s<0?s*32768:s*32767,!0)}}downSampleAudioFrame(t,r,n){if(!t)return null;if(n===r||n>r)return t;const i=r/n,s=Math.round(t.length/i),o=new Float32Array(s);let a=0,c=0;for(;c<s;){const l=Math.round((c+1)*i);let u=0,p=0;for(;a<l&&a<t.length;)u+=t[a++],p++;o[c++]=u/p}return o}}Fm.RiffPcmEncoder=IG;var Bm={};Object.defineProperty(Bm,"__esModule",{value:!0});Bm.Stream=void 0;const aR=Vr,AG=di,cR=Wd;class xG{constructor(t){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=t||AG.createNoDashGuid(),this.privReaderQueue=new cR.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(t){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(t)}catch{}}read(){if(this.privIsReadEnded)throw new aR.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then(async t=>((t===void 0||t.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),t))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new cR.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new aR.InvalidOperationError("Stream closed")}}Bm.Stream=xG;var Hm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationStatus=void 0,function(t){t[t.Success=0]="Success",t[t.Error=1]="Error"}(e.TranslationStatus||(e.TranslationStatus={}))})(Hm);var wl={},lR;function OG(){if(lR)return wl;lR=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.ChunkedArrayBufferStream=void 0;const e=pe();let t=class extends e.Stream{constructor(n,i){super(i),this.privTargetChunkSize=n,this.privNextBufferReadyBytes=0}writeStreamChunk(n){if(n.isEnd||this.privNextBufferReadyBytes===0&&n.buffer.byteLength===this.privTargetChunkSize){super.writeStreamChunk(n);return}let i=0;for(;i<n.buffer.byteLength;){this.privNextBufferToWrite===void 0&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=n.timeReceived);const s=Math.min(n.buffer.byteLength-i,this.privTargetChunkSize-this.privNextBufferReadyBytes),o=new Uint8Array(this.privNextBufferToWrite),a=new Uint8Array(n.buffer.slice(i,s+i));o.set(a,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=s,i+=s,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){this.privNextBufferReadyBytes!==0&&!this.isClosed&&super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}};return wl.ChunkedArrayBufferStream=t,wl}var f2={};Object.defineProperty(f2,"__esModule",{value:!0});var Um={};Object.defineProperty(Um,"__esModule",{value:!0});Um.Timeout=void 0;class cn{static load(){const t=new Map([[0,()=>{}]]),r=new Map,i="data:text/javascript;base64,"+btoa(`!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id "'.concat(e,'".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`),s=new Worker(i);return s.addEventListener("message",({data:c})=>{if(cn.isCallNotification(c)){const{params:{timerId:l}}=c,u=t.get(l);if(typeof u=="number"){const p=r.get(u);if(p===void 0||p!==l)throw new Error("The timer is in an undefined state.")}else if(typeof u<"u")u(),t.delete(l);else throw new Error("The timer is in an undefined state.")}else if(cn.isClearResponse(c)){const{id:l}=c,u=r.get(l);if(u===void 0)throw new Error("The timer is in an undefined state.");r.delete(l),t.delete(u)}else{const{error:{message:l}}=c;throw new Error(l)}}),{clearTimeout:c=>{const l=Math.random();r.set(l,c),t.set(c,l),s.postMessage({id:l,method:"clear",params:{timerId:c}})},setTimeout:(c,l)=>{const u=Math.random();return t.set(u,c),s.postMessage({id:null,method:"set",params:{delay:l,now:performance.now(),timerId:u}}),u}}}static loadWorkerTimers(){return()=>(cn.workerTimers!==null||(cn.workerTimers=cn.load()),cn.workerTimers)}static isCallNotification(t){return t.method!==void 0&&t.method==="call"}static isClearResponse(t){return t.error===null&&typeof t.id=="number"}}Um.Timeout=cn;cn.workerTimers=null;cn.clearTimeout=e=>cn.timers().clearTimeout(e);cn.setTimeout=(e,t)=>cn.timers().setTimeout(e,t);cn.timers=cn.loadWorkerTimers();var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.OCSPCacheUpdateErrorEvent=qe.OCSPResponseRetrievedEvent=qe.OCSPCacheFetchErrorEvent=qe.OCSPVerificationFailedEvent=qe.OCSPCacheHitEvent=qe.OCSPCacheEntryNeedsRefreshEvent=qe.OCSPCacheEntryExpiredEvent=qe.OCSPWSUpgradeStartedEvent=qe.OCSPStapleReceivedEvent=qe.OCSPCacheUpdateCompleteEvent=qe.OCSPDiskCacheStoreEvent=qe.OCSPMemoryCacheStoreEvent=qe.OCSPCacheUpdateNeededEvent=qe.OCSPDiskCacheHitEvent=qe.OCSPCacheMissEvent=qe.OCSPMemoryCacheHitEvent=qe.OCSPEvent=void 0;const Kr=Wc;class Gr extends Kr.PlatformEvent{constructor(t,r,n){super(t,r),this.privSignature=n}}qe.OCSPEvent=Gr;class DG extends Gr{constructor(t){super("OCSPMemoryCacheHitEvent",Kr.EventType.Debug,t)}}qe.OCSPMemoryCacheHitEvent=DG;class MG extends Gr{constructor(t){super("OCSPCacheMissEvent",Kr.EventType.Debug,t)}}qe.OCSPCacheMissEvent=MG;class NG extends Gr{constructor(t){super("OCSPDiskCacheHitEvent",Kr.EventType.Debug,t)}}qe.OCSPDiskCacheHitEvent=NG;class LG extends Gr{constructor(t){super("OCSPCacheUpdateNeededEvent",Kr.EventType.Debug,t)}}qe.OCSPCacheUpdateNeededEvent=LG;class jG extends Gr{constructor(t){super("OCSPMemoryCacheStoreEvent",Kr.EventType.Debug,t)}}qe.OCSPMemoryCacheStoreEvent=jG;class zG extends Gr{constructor(t){super("OCSPDiskCacheStoreEvent",Kr.EventType.Debug,t)}}qe.OCSPDiskCacheStoreEvent=zG;class $G extends Gr{constructor(t){super("OCSPCacheUpdateCompleteEvent",Kr.EventType.Debug,t)}}qe.OCSPCacheUpdateCompleteEvent=$G;class FG extends Gr{constructor(){super("OCSPStapleReceivedEvent",Kr.EventType.Debug,"")}}qe.OCSPStapleReceivedEvent=FG;class BG extends Gr{constructor(t){super("OCSPWSUpgradeStartedEvent",Kr.EventType.Debug,t)}}qe.OCSPWSUpgradeStartedEvent=BG;class HG extends Gr{constructor(t,r){super("OCSPCacheEntryExpiredEvent",Kr.EventType.Debug,t),this.privExpireTime=r}}qe.OCSPCacheEntryExpiredEvent=HG;class UG extends Gr{constructor(t,r,n){super("OCSPCacheEntryNeedsRefreshEvent",Kr.EventType.Debug,t),this.privExpireTime=n,this.privStartTime=r}}qe.OCSPCacheEntryNeedsRefreshEvent=UG;class qG extends Gr{constructor(t,r,n){super("OCSPCacheHitEvent",Kr.EventType.Debug,t),this.privExpireTime=n,this.privExpireTimeString=new Date(n).toLocaleDateString(),this.privStartTime=r,this.privStartTimeString=new Date(r).toLocaleTimeString()}}qe.OCSPCacheHitEvent=qG;class WG extends Gr{constructor(t,r){super("OCSPVerificationFailedEvent",Kr.EventType.Debug,t),this.privError=r}}qe.OCSPVerificationFailedEvent=WG;class VG extends Gr{constructor(t,r){super("OCSPCacheFetchErrorEvent",Kr.EventType.Debug,t),this.privError=r}}qe.OCSPCacheFetchErrorEvent=VG;class YG extends Gr{constructor(t){super("OCSPResponseRetrievedEvent",Kr.EventType.Debug,t)}}qe.OCSPResponseRetrievedEvent=YG;class KG extends Gr{constructor(t,r){super("OCSPCacheUpdateErrorEvent",Kr.EventType.Debug,t),this.privError=r}}qe.OCSPCacheUpdateErrorEvent=KG;var bl={},uR;function GG(){if(uR)return bl;uR=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.BackgroundEvent=void 0;const e=pe();class t extends e.PlatformEvent{constructor(n){super("BackgroundEvent",e.EventType.Error),this.privError=n}get error(){return this.privError}}return bl.BackgroundEvent=t,bl}var pR;function pe(){return pR||(pR=1,function(e){var t=xe&&xe.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return s[o]}})}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=xe&&xe.__exportStar||function(i,s){for(var o in i)o!=="default"&&!s.hasOwnProperty(o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Jt,e),r(dr,e),r(Db,e),r(Lm,e),r(jm,e),r(ba,e),r(Vr,e),r(zm,e),r(Ud,e),r(di,e),r(n2,e),r(i2,e),r(s2,e),r(o2,e),r(a2,e),r(c2,e),r(l2,e),r(u2,e),r(p2,e),r(d2,e),r(qd,e),r(Wc,e),r(Mb,e),r(Wd,e),r($m,e),r(Fm,e),r(Bm,e);var n=Hm;Object.defineProperty(e,"TranslationStatus",{enumerable:!0,get:function(){return n.TranslationStatus}}),r(OG(),e),r(f2,e),r(Um,e),r(qe,e),r(GG(),e)}(eS)),eS}var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.HeaderNames=void 0;class Ii{}Or.HeaderNames=Ii;Ii.AuthKey="Ocp-Apim-Subscription-Key";Ii.Authorization="Authorization";Ii.SpIDAuthKey="Apim-Subscription-Id";Ii.ConnectionId="X-ConnectionId";Ii.ContentType="Content-Type";Ii.CustomCommandsAppId="X-CommandsAppId";Ii.Path="Path";Ii.RequestId="X-RequestId";Ii.RequestStreamId="X-StreamId";Ii.RequestTimestamp="X-Timestamp";var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.AuthInfo=void 0;class QG{constructor(t,r){this.privHeaderName=t,this.privToken=r}get headerName(){return this.privHeaderName}get token(){return this.privToken}}Yc.AuthInfo=QG;Object.defineProperty(Pm,"__esModule",{value:!0});Pm.CognitiveSubscriptionKeyAuthentication=void 0;const JG=pe(),XG=Or,ZG=Yc;class eQ{constructor(t){if(!t)throw new JG.ArgumentNullError("subscriptionKey");this.privAuthInfo=new ZG.AuthInfo(XG.HeaderNames.AuthKey,t)}fetch(t){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(t){return Promise.resolve(this.privAuthInfo)}}Pm.CognitiveSubscriptionKeyAuthentication=eQ;var qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.CognitiveTokenAuthentication=void 0;const dR=pe(),fR=Yc,hR=Or;class pd{constructor(t,r){if(!t)throw new dR.ArgumentNullError("fetchCallback");if(!r)throw new dR.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=t,this.privFetchOnExpiryCallback=r}fetch(t){return this.privFetchCallback(t).then(r=>new fR.AuthInfo(hR.HeaderNames.Authorization,r===void 0?void 0:pd.privTokenPrefix+r))}fetchOnExpiry(t){return this.privFetchOnExpiryCallback(t).then(r=>new fR.AuthInfo(hR.HeaderNames.Authorization,r===void 0?void 0:pd.privTokenPrefix+r))}}qm.CognitiveTokenAuthentication=pd;pd.privTokenPrefix="Bearer ";var h2={};Object.defineProperty(h2,"__esModule",{value:!0});var v2={};Object.defineProperty(v2,"__esModule",{value:!0});var Pl={},aS={},Wm={};const tQ={},rQ=Object.freeze(Object.defineProperty({__proto__:null,default:tQ},Symbol.toStringTag,{value:"Module"})),Ia=Wk(rQ);var Nb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0;const t=pe();Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return t.EventType}})})(Nb);var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.Contracts=void 0;class Fs{static throwIfNullOrUndefined(t,r){if(t==null)throw new Error("throwIfNullOrUndefined:"+r)}static throwIfNull(t,r){if(t===null)throw new Error("throwIfNull:"+r)}static throwIfNullOrWhitespace(t,r){if(Fs.throwIfNullOrUndefined(t,r),(""+t).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+r)}static throwIfNullOrTooLong(t,r,n){if(Fs.throwIfNullOrUndefined(t,r),(""+t).length>n)throw new Error("throwIfNullOrTooLong:"+r+" (more than "+n.toString()+" characters)")}static throwIfNullOrTooShort(t,r,n){if(Fs.throwIfNullOrUndefined(t,r),(""+t).length<n)throw new Error("throwIfNullOrTooShort:"+r+" (less than "+n.toString()+" characters)")}static throwIfDisposed(t){if(t)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(t,r){if(Fs.throwIfNullOrUndefined(t,r),t.length===0)throw new Error("throwIfArrayEmptyOrWhitespace:"+r);for(const n of t)Fs.throwIfNullOrWhitespace(n,r)}static throwIfFileDoesNotExist(t,r){Fs.throwIfNullOrWhitespace(t,r)}static throwIfNotUndefined(t,r){if(t!==void 0)throw new Error("throwIfNotUndefined:"+r)}}ye.Contracts=Fs;var nQ=xe&&xe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iQ=xe&&xe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sQ=xe&&xe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&nQ(t,e,r);return iQ(t,e),t};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.ConsoleLoggingListener=void 0;const vR=sQ(Ia),_l=Nb,oQ=ye;class aQ{constructor(t=_l.LogLevel.None){this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=t}set logPath(t){oQ.Contracts.throwIfNullOrUndefined(vR.openSync,`
File System access not available`),this.privLogPath=t}set enableConsoleOutput(t){this.privEnableConsoleOutput=t}onEvent(t){if(t.eventType>=this.privLogLevelFilter){const r=this.toString(t);if(this.logCallback&&this.logCallback(r),this.privLogPath&&vR.writeFileSync(this.privLogPath,r+`
`,{flag:"a+"}),this.privEnableConsoleOutput)switch(t.eventType){case _l.LogLevel.Debug:console.debug(r);break;case _l.LogLevel.Info:console.info(r);break;case _l.LogLevel.Warning:console.warn(r);break;case _l.LogLevel.Error:console.error(r);break;default:console.log(r);break}}}toString(t){const r=[`${t.eventTime}`,`${t.name}`],n=t;for(const i in n)if(i&&t.hasOwnProperty(i)&&i!=="eventTime"&&i!=="eventType"&&i!=="eventId"&&i!=="name"&&i!=="constructor"){const s=n[i];let o="<NULL>";s!=null&&(typeof s=="number"||typeof s=="string"?o=s.toString():o=JSON.stringify(s)),r.push(`${i}: ${o}`)}return r.join(" | ")}}Wm.ConsoleLoggingListener=aQ;var m2={};Object.defineProperty(m2,"__esModule",{value:!0});var cS={},Io={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AudioStreamFormatImpl=e.AudioStreamFormat=e.AudioFormatTag=void 0;var t;(function(i){i[i.PCM=1]="PCM",i[i.MuLaw=2]="MuLaw",i[i.Siren=3]="Siren",i[i.MP3=4]="MP3",i[i.SILKSkype=5]="SILKSkype",i[i.OGG_OPUS=6]="OGG_OPUS",i[i.WEBM_OPUS=7]="WEBM_OPUS",i[i.ALaw=8]="ALaw",i[i.FLAC=9]="FLAC",i[i.OPUS=10]="OPUS",i[i.AMR_WB=11]="AMR_WB",i[i.G722=12]="G722"})(t=e.AudioFormatTag||(e.AudioFormatTag={}));class r{static getDefaultInputFormat(){return n.getDefaultInputFormat()}static getWaveFormat(s,o,a,c){return new n(s,o,a,c)}static getWaveFormatPCM(s,o,a){return new n(s,o,a)}}e.AudioStreamFormat=r;class n extends r{constructor(s=16e3,o=16,a=1,c=t.PCM){super();let l=!0;switch(c){case t.PCM:this.formatTag=1;break;case t.ALaw:this.formatTag=6;break;case t.MuLaw:this.formatTag=7;break;default:l=!1}if(this.bitsPerSample=o,this.samplesPerSec=s,this.channels=a,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),l){this.privHeader=new ArrayBuffer(44);const u=new DataView(this.privHeader);this.setString(u,0,"RIFF"),u.setUint32(4,0,!0),this.setString(u,8,"WAVEfmt "),u.setUint32(16,16,!0),u.setUint16(20,this.formatTag,!0),u.setUint16(22,this.channels,!0),u.setUint32(24,this.samplesPerSec,!0),u.setUint32(28,this.avgBytesPerSec,!0),u.setUint16(32,this.channels*(this.bitsPerSample/8),!0),u.setUint16(34,this.bitsPerSample,!0),this.setString(u,36,"data"),u.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new n}static getAudioContext(s){const o=window.AudioContext||window.webkitAudioContext||!1;if(o)return s!==void 0&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new o({sampleRate:s}):new o;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(s,o,a){for(let c=0;c<a.length;c++)s.setUint8(o+c,a.charCodeAt(c))}}e.AudioStreamFormatImpl=n})(Io);var mR;function cQ(){return mR||(mR=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MicAudioSource=e.AudioWorkletSourceURLPropertyName=void 0;const t=Z(),r=pe(),n=Io;e.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class i{constructor(o,a,c,l){this.privRecorder=o,this.deviceId=a,this.privStreams={},this.privOutputChunkSize=i.AUDIOFORMAT.avgBytesPerSec/10,this.privId=c||r.createNoDashGuid(),this.privEvents=new r.EventSource,this.privMediaStream=l||null,this.privIsClosing=!1}get format(){return Promise.resolve(i.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new r.Deferred;try{this.createAudioContext()}catch(c){if(c instanceof Error){const l=c;this.privInitializeDeferral.reject(l.name+": "+l.message)}else this.privInitializeDeferral.reject(c);return this.privInitializeDeferral.promise}const o=window.navigator;let a=o.getUserMedia||o.webkitGetUserMedia||o.mozGetUserMedia||o.msGetUserMedia;if(o.mediaDevices&&(a=(c,l,u)=>{o.mediaDevices.getUserMedia(c).then(l).catch(u)}),a){const c=()=>{this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):a({audio:this.deviceId?{deviceId:this.deviceId}:!0,video:!1},l=>{this.privMediaStream=l,this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()},l=>{const u=`Error occurred during microphone initialization: ${l}`;this.privInitializeDeferral.reject(u),this.onEvent(new r.AudioSourceErrorEvent(this.privId,u))})};this.privContext.state==="suspended"?this.privContext.resume().then(c).catch(l=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${l}`)}):c()}else{const c="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(c),this.onEvent(new r.AudioSourceErrorEvent(c,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(o){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,o)),this.listen(o).then(a=>(this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,o)),{detach:async()=>(a.readEnded(),delete this.privStreams[o],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,o)),this.turnOff()),id:()=>o,read:()=>a.read()}))}detach(o){o&&this.privStreams[o]&&(this.privStreams[o].close(),delete this.privStreams[o],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,o)))}async turnOff(){for(const o in this.privStreams)if(o){const a=this.privStreams[o];a&&a.close()}this.onEvent(new r.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then(o=>({bitspersample:i.AUDIOFORMAT.bitsPerSample,channelcount:i.AUDIOFORMAT.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:o,samplerate:i.AUDIOFORMAT.samplesPerSec,type:t.type.Microphones}))}setProperty(o,a){if(o===e.AudioWorkletSourceURLPropertyName)this.privRecorder.setWorkletUrl(a);else throw new Error("Property '"+o+"' is not supported on Microphone.")}getMicrophoneLabel(){const o="microphone";if(this.privMicrophoneLabel!==void 0)return Promise.resolve(this.privMicrophoneLabel);if(this.privMediaStream===void 0||!this.privMediaStream.active)return Promise.resolve(o);this.privMicrophoneLabel=o;const a=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(a===void 0)return Promise.resolve(this.privMicrophoneLabel);const c=new r.Deferred;return navigator.mediaDevices.enumerateDevices().then(l=>{for(const u of l)if(u.deviceId===a){this.privMicrophoneLabel=u.label;break}c.resolve(this.privMicrophoneLabel)},()=>c.resolve(this.privMicrophoneLabel)),c.promise}async listen(o){await this.turnOn();const a=new r.ChunkedArrayBufferStream(this.privOutputChunkSize,o);this.privStreams[o]=a;try{this.privRecorder.record(this.privContext,this.privMediaStream,a)}catch(l){throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,o,l)),l}return a}onEvent(o){this.privEvents.onEvent(o),r.Events.instance.onEvent(o)}createAudioContext(){this.privContext||(this.privContext=n.AudioStreamFormatImpl.getAudioContext(i.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let o=!1;"close"in this.privContext&&(o=!0),o?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):this.privContext!==null&&this.privContext.state==="running"&&await this.privContext.suspend()}}e.MicAudioSource=i,i.AUDIOFORMAT=n.AudioStreamFormat.getDefaultInputFormat()}(cS)),cS}var El={},gR;function lQ(){if(gR)return El;gR=1,Object.defineProperty(El,"__esModule",{value:!0}),El.FileAudioSource=void 0;const e=Z(),t=pe(),r=Io;let n=class{constructor(s,o,a){this.privStreams={},this.privHeaderEnd=44,this.privId=a||t.createNoDashGuid(),this.privEvents=new t.EventSource,this.privSource=s,typeof window<"u"&&typeof Blob<"u"&&this.privSource instanceof Blob?this.privFilename=s.name:this.privFilename=o||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const s=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new t.AudioSourceErrorEvent(s,"")),Promise.reject(s)}this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(s){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,s));const o=await this.upload(s);return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,s)),Promise.resolve({detach:async()=>{o.readEnded(),delete this.privStreams[s],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,s)),await this.turnOff()},id:()=>s,read:()=>o.read()})}detach(s){s&&this.privStreams[s]&&(this.privStreams[s].close(),delete this.privStreams[s],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,s)))}turnOff(){for(const s in this.privStreams)if(s){const o=this.privStreams[s];o&&!o.isClosed&&o.close()}return this.onEvent(new t.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then(s=>Promise.resolve({bitspersample:s.bitsPerSample,channelcount:s.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:s.samplesPerSec,type:e.type.File}))}readHeader(){const o=this.privSource.slice(0,4296),a=new t.Deferred,c=l=>{const u=new DataView(l),p=m=>String.fromCharCode(u.getUint8(m),u.getUint8(m+1),u.getUint8(m+2),u.getUint8(m+3));if(p(0)!=="RIFF"){a.reject("Invalid WAV header in file, RIFF was not found");return}if(p(8)!=="WAVE"||p(12)!=="fmt "){a.reject("Invalid WAV header in file, WAVEfmt was not found");return}const d=u.getInt32(16,!0),f=u.getUint16(22,!0),h=u.getUint32(24,!0),v=u.getUint16(34,!0);let g=36+Math.max(d-16,0);for(;p(g)!=="data";g+=2)if(g>4288){a.reject("Invalid WAV header in file, data block was not found");return}this.privHeaderEnd=g+8,a.resolve(r.AudioStreamFormat.getWaveFormatPCM(h,v,f))};if(typeof window<"u"&&typeof Blob<"u"&&o instanceof Blob){const l=new FileReader;l.onload=u=>{const p=u.target.result;c(p)},l.readAsArrayBuffer(o)}else{const l=o;c(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength))}return a.promise}async upload(s){const o=a=>{const c=`Error occurred while processing '${this.privFilename}'. ${a}`;throw this.onEvent(new t.AudioStreamNodeErrorEvent(this.privId,s,c)),new Error(c)};try{await this.turnOn();const a=await this.privAudioFormatPromise,c=new t.ChunkedArrayBufferStream(a.avgBytesPerSec/10,s);this.privStreams[s]=c;const l=this.privSource.slice(this.privHeaderEnd),u=p=>{c.isClosed||(c.writeStreamChunk({buffer:p,isEnd:!1,timeReceived:Date.now()}),c.close())};if(typeof window<"u"&&typeof Blob<"u"&&l instanceof Blob){const p=new FileReader;p.onerror=d=>o(d.toString()),p.onload=d=>{const f=d.target.result;u(f)},p.readAsArrayBuffer(l)}else{const p=l;u(p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength))}return c}catch(a){o(a)}}onEvent(s){this.privEvents.onEvent(s),t.Events.instance.onEvent(s)}};return El.FileAudioSource=n,El}var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.PcmRecorder=void 0;const uQ=pe();class pQ{constructor(t){this.privStopInputOnRelease=t}record(t,r,n){const s=new uQ.RiffPcmEncoder(t.sampleRate,16e3),o=t.createMediaStreamSource(r),a=()=>{const l=(()=>{let u=0;try{return t.createScriptProcessor(u,1,1)}catch{u=2048;let d=t.sampleRate;for(;u<16384&&d>=32e3;)u<<=1,d>>=1;return t.createScriptProcessor(u,1,1)}})();l.onaudioprocess=u=>{const p=u.inputBuffer.getChannelData(0);if(n&&!n.isClosed){const d=s.encode(p);d&&n.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}},o.connect(l),l.connect(t.destination),this.privMediaResources={scriptProcessorNode:l,source:o,stream:r}},c=!!this.privSpeechProcessorScript&&this.privSpeechProcessorScript.toLowerCase()==="ignore";if(t.audioWorklet&&!c){if(!this.privSpeechProcessorScript){const l=`class SP extends AudioWorkletProcessor {
                    constructor(options) {
                      super(options);
                    }
                    process(inputs, outputs) {
                      const input = inputs[0];
                      const output = [];
                      for (let channel = 0; channel < input.length; channel += 1) {
                        output[channel] = input[channel];
                      }
                      this.port.postMessage(output[0]);
                      return true;
                    }
                  }
                  registerProcessor('speech-processor', SP);`,u=new Blob([l],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(u)}t.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const l=new AudioWorkletNode(t,"speech-processor");l.port.onmessage=u=>{const p=u.data;if(n&&!n.isClosed){const d=s.encode(p);d&&n.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}},o.connect(l),l.connect(t.destination),this.privMediaResources={scriptProcessorNode:l,source:o,stream:r}}).catch(()=>{a()})}else try{a()}catch(l){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${l}`)}}releaseMediaResources(t){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(t.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach(r=>r.stop()),this.privMediaResources.source=null))}setWorkletUrl(t){this.privSpeechProcessorScript=t}}Vm.PcmRecorder=pQ;var Ym={},Vd={},dQ=xe&&xe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fQ=xe&&xe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g2=xe&&xe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&dQ(t,e,r);return fQ(t,e),t},Lb=xe&&xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.WebsocketMessageAdapter=void 0;const hQ=g2(Ia),vQ=g2(Ia),mQ=Lb(Ia),gQ=Lb(Ia),yQ=Lb(Ia),SQ=Or,_e=pe();class dd{constructor(t,r,n,i,s,o){if(!t)throw new _e.ArgumentNullError("uri");if(!n)throw new _e.ArgumentNullError("messageFormatter");this.proxyInfo=i,this.privConnectionEvents=new _e.EventSource,this.privConnectionId=r,this.privMessageFormatter=n,this.privConnectionState=_e.ConnectionState.None,this.privUri=t,this.privHeaders=s,this.privEnableCompression=o,this.privHeaders[SQ.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===_e.ConnectionState.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new _e.Deferred,this.privCertificateValidatedDeferral=new _e.Deferred,this.privConnectionState=_e.ConnectionState.Connecting;try{if(typeof WebSocket<"u"&&!dd.forceNpmWebSocket)this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);else{const t={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),t.agent=this.getAgent();let n=new URL(this.privUri).protocol;(n==null?void 0:n.toLocaleLowerCase())==="wss:"?n="https:":(n==null?void 0:n.toLocaleLowerCase())==="ws:"&&(n="http:"),t.agent.protocol=n,this.privWebsocketClient=new yQ.default(this.privUri,t)}this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new _e.Queue,this.privDisconnectDeferral=new _e.Deferred,this.privSendMessageQueue=new _e.Queue,this.processSendQueue().catch(t=>{_e.Events.instance.onEvent(new _e.BackgroundEvent(t))})}catch(t){return this.privConnectionEstablishDeferral.resolve(new _e.ConnectionOpenResponse(500,t)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new _e.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then(()=>{this.privConnectionState=_e.ConnectionState.Connected,this.onEvent(new _e.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new _e.ConnectionOpenResponse(200,""))},t=>{this.privConnectionEstablishDeferral.reject(t)})},this.privWebsocketClient.onerror=t=>{this.onEvent(new _e.ConnectionErrorEvent(this.privConnectionId,t.message,t.type)),this.privLastErrorReceived=t.message},this.privWebsocketClient.onclose=t=>{this.privConnectionState===_e.ConnectionState.Connecting?(this.privConnectionState=_e.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new _e.ConnectionOpenResponse(t.code,t.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=_e.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new _e.ConnectionClosedEvent(this.privConnectionId,t.code,t.reason))),this.onClose(t.code,t.reason).catch(r=>{_e.Events.instance.onEvent(new _e.BackgroundEvent(r))})},this.privWebsocketClient.onmessage=t=>{const r=new Date().toISOString();if(this.privConnectionState===_e.ConnectionState.Connected){const n=new _e.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(n.promise),t.data instanceof ArrayBuffer){const i=new _e.RawWebsocketMessage(_e.MessageType.Binary,t.data);this.privMessageFormatter.toConnectionMessage(i).then(s=>{this.onEvent(new _e.ConnectionMessageReceivedEvent(this.privConnectionId,r,s)),n.resolve(s)},s=>{n.reject(`Invalid binary message format. Error: ${s}`)})}else{const i=new _e.RawWebsocketMessage(_e.MessageType.Text,t.data);this.privMessageFormatter.toConnectionMessage(i).then(s=>{this.onEvent(new _e.ConnectionMessageReceivedEvent(this.privConnectionId,r,s)),n.resolve(s)},s=>{n.reject(`Invalid text message format. Error: ${s}`)})}}},this.privConnectionEstablishDeferral.promise}send(t){if(this.privConnectionState!==_e.ConnectionState.Connected)return Promise.reject(`Cannot send on connection that is in ${_e.ConnectionState[this.privConnectionState]} state`);const r=new _e.Deferred,n=new _e.Deferred;return this.privSendMessageQueue.enqueueFromPromise(n.promise),this.privMessageFormatter.fromConnectionMessage(t).then(i=>{n.resolve({Message:t,RawWebsocketMessage:i,sendStatusDeferral:r})},i=>{n.reject(`Error formatting the message. ${i}`)}),r.promise}read(){return this.privConnectionState!==_e.ConnectionState.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(t){if(this.privWebsocketClient)this.privConnectionState!==_e.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,t||"Normal closure by client");else return Promise.resolve();return this.privDisconnectDeferral.promise}get events(){return this.privConnectionEvents}sendRawMessage(t){try{if(!t)return Promise.resolve();if(this.onEvent(new _e.ConnectionMessageSentEvent(this.privConnectionId,new Date().toISOString(),t.Message)),this.isWebsocketOpen)this.privWebsocketClient.send(t.RawWebsocketMessage.payload);else return Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+t.Message.id+" "+new Error().stack);return Promise.resolve()}catch(r){return Promise.reject(`websocket send error: ${r}`)}}async onClose(t,r){const n=`Connection closed. ${t}: ${r}`;this.privConnectionState=_e.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose(()=>{},n),await this.privSendMessageQueue.drainAndDispose(i=>{i.sendStatusDeferral.reject(n)},n)}async processSendQueue(){for(;;){const r=await this.privSendMessageQueue.dequeue();if(!r)return;try{await this.sendRawMessage(r),r.sendStatusDeferral.resolve()}catch(n){r.sendStatusDeferral.reject(n)}}}onEvent(t){this.privConnectionEvents.onEvent(t),_e.Events.instance.onEvent(t)}getAgent(){const t=new mQ.default.Agent(this.createConnection);return this.proxyInfo!==void 0&&this.proxyInfo.HostName!==void 0&&this.proxyInfo.Port>0&&(t.proxyInfo=this.proxyInfo),t}static GetProxyAgent(t){const r={host:t.HostName,port:t.Port};return t.UserName?r.headers={"Proxy-Authentication":"Basic "+new Buffer(`${t.UserName}:${t.Password===void 0?"":t.Password}`).toString("base64")}:r.headers={},r.headers.requestOCSP="true",new gQ.default(r)}createConnection(t,r){let n;if(r={...r,requestOCSP:!0,servername:r.host},this.proxyInfo){const s=dd.GetProxyAgent(this.proxyInfo);n=new Promise((o,a)=>{s.callback(t,r,(c,l)=>{c?a(c):o(l)})})}else r.secureEndpoint?n=Promise.resolve(vQ.connect(r)):n=Promise.resolve(hQ.connect(r));return n}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}Vd.WebsocketMessageAdapter=dd;dd.forceNpmWebSocket=!1;Object.defineProperty(Ym,"__esModule",{value:!0});Ym.WebsocketConnection=void 0;const lS=pe(),CQ=Vd;class wQ{constructor(t,r,n,i,s,o=!1,a){if(this.privIsDisposed=!1,!t)throw new lS.ArgumentNullError("uri");if(!i)throw new lS.ArgumentNullError("messageFormatter");this.privMessageFormatter=i;let c="",l=0;if(r){for(const u in r)if(u){c+=l===0&&t.indexOf("?")===-1?"?":"&";const p=encodeURIComponent(u);c+=p;let d=r[u];d&&(d=encodeURIComponent(d),c+=`=${d}`),l++}}if(n){for(const u in n)if(u){c+=l===0&&t.indexOf("?")===-1?"?":"&";const p=encodeURIComponent(n[u]);c+=`${u}=${p}`,l++}}this.privUri=t+c,this.privId=a||lS.createNoDashGuid(),this.privConnectionMessageAdapter=new CQ.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,s,n,o)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(t){return this.privConnectionMessageAdapter.send(t)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}}Ym.WebsocketConnection=wQ;var Km={};Object.defineProperty(Km,"__esModule",{value:!0});Km.ReplayableAudioNode=void 0;class bQ{constructor(t,r){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=t,this.privBytesPerSecond=r}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&this.privBuffers.length!==0){const t=this.privReplayOffset-this.privBufferStartOffset;let r=Math.round(t*this.privBytesPerSecond*1e-7);r%2!==0&&r++;let n=0;for(;n<this.privBuffers.length&&r>=this.privBuffers[n].chunk.buffer.byteLength;)r-=this.privBuffers[n++].chunk.buffer.byteLength;if(n<this.privBuffers.length){const i=this.privBuffers[n].chunk.buffer.slice(r);return this.privReplayOffset+=i.byteLength/this.privBytesPerSecond*1e7,n===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:i,isEnd:!1,timeReceived:this.privBuffers[n].chunk.timeReceived})}}return this.privAudioNode.read().then(t=>(t&&t.buffer&&(this.privBuffers.push(new PQ(t,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=t.buffer.byteLength),t))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&this.privBuffers.length!==0&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(t){if(this.privBuffers===void 0||this.privBuffers.length===0)return;this.privLastShrinkOffset=t;const r=t-this.privBufferStartOffset;let n=Math.round(r*this.privBytesPerSecond*1e-7),i=0;for(;i<this.privBuffers.length&&n>=this.privBuffers[i].chunk.buffer.byteLength;)n-=this.privBuffers[i++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(t-n/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(i)}findTimeAtOffset(t){if(t<this.privBufferStartOffset||this.privBuffers===void 0)return 0;for(const r of this.privBuffers){const n=r.byteOffset/this.privBytesPerSecond*1e7,i=n+r.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(t>=n&&t<=i)return r.chunk.timeReceived}return 0}}Km.ReplayableAudioNode=bQ;class PQ{constructor(t,r,n){this.chunk=t,this.serial=r,this.byteOffset=n}}var Rl={},uS={},os={},Yd={},_Q=xe&&xe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EQ=xe&&xe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RQ=xe&&xe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&_Q(t,e,r);return EQ(t,e),t};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.AudioFileWriter=void 0;const Tl=RQ(Ia),pS=ye;class TQ{constructor(t){pS.Contracts.throwIfNullOrUndefined(Tl.openSync,`
File System access not available, please use Push or PullAudioOutputStream`),this.privFd=Tl.openSync(t,"w")}set format(t){pS.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=t;let r=0;this.privAudioFormat.hasHeader&&(r=this.privAudioFormat.header.byteLength),this.privFd!==void 0&&(this.privWriteStream=Tl.createWriteStream("",{fd:this.privFd,start:r,autoClose:!1}))}write(t){pS.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),this.privWriteStream!==void 0&&this.privWriteStream.write(new Uint8Array(t.slice(0)))}close(){this.privFd!==void 0&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),Tl.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),Tl.closeSync(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}id(){return this.privId}}Yd.AudioFileWriter=TQ;var jn={},yR;function y2(){if(yR)return jn;yR=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.PullAudioInputStreamImpl=jn.PullAudioInputStream=jn.PushAudioInputStreamImpl=jn.PushAudioInputStream=jn.AudioInputStream=void 0;const e=Z(),t=pe(),r=di,n=B(),i=Io;let s=class{constructor(){}static createPushStream(p){return o.create(p)}static createPullStream(p,d){return c.create(p,d)}};jn.AudioInputStream=s;class o extends s{static create(p){return new a(p)}}jn.PushAudioInputStream=o;class a extends o{constructor(p){super(),p===void 0?this.privFormat=i.AudioStreamFormatImpl.getDefaultInputFormat():this.privFormat=p,this.privEvents=new t.EventSource,this.privId=r.createNoDashGuid(),this.privStream=new t.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(p){this.privStream.writeStreamChunk({buffer:p,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(p){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,p)),await this.turnOn();const d=this.privStream;return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,p)),{detach:async()=>(this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,p)),this.turnOff()),id:()=>p,read:()=>d.read()}}detach(p){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,p))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(p){this.privEvents.onEvent(p),t.Events.instance.onEvent(p)}toBuffer(p){const d=Buffer.alloc(p.byteLength),f=new Uint8Array(p);for(let h=0;h<d.length;++h)d[h]=f[h];return d}}jn.PushAudioInputStreamImpl=a;class c extends s{constructor(){super()}static create(p,d){return new l(p,d)}}jn.PullAudioInputStream=c;class l extends c{constructor(p,d){super(),d===void 0?this.privFormat=n.AudioStreamFormat.getDefaultInputFormat():this.privFormat=d,this.privEvents=new t.EventSource,this.privId=r.createNoDashGuid(),this.privCallback=p,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(p){return this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,p)),await this.turnOn(),this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,p)),{detach:()=>(this.privCallback.close(),this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,p)),this.turnOff()),id:()=>p,read:()=>{let d=0,f;for(;d<this.privBufferSize;){const h=new ArrayBuffer(this.privBufferSize-d),v=this.privCallback.read(h);if(f===void 0?f=h:new Int8Array(f).set(new Int8Array(h),d),v===0)break;d+=v}return Promise.resolve({buffer:f.slice(0,d),isEnd:this.privIsClosed||d===0,timeReceived:Date.now()})}}}detach(p){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,p))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(p){this.privEvents.onEvent(p),t.Events.instance.onEvent(p)}}return jn.PullAudioInputStreamImpl=l,jn}var Ur={},Ao={},jb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisOutputFormat=void 0,function(t){t[t.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",t[t.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",t[t.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",t[t.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",t[t.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",t[t.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",t[t.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",t[t.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",t[t.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",t[t.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",t[t.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",t[t.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",t[t.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",t[t.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",t[t.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",t[t.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",t[t.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",t[t.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",t[t.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",t[t.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",t[t.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",t[t.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",t[t.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",t[t.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",t[t.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",t[t.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",t[t.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",t[t.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",t[t.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",t[t.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",t[t.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",t[t.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",t[t.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",t[t.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",t[t.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",t[t.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",t[t.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm",t[t.AmrWb16000Hz=37]="AmrWb16000Hz",t[t.G72216Khz64Kbps=38]="G72216Khz64Kbps"}(e.SpeechSynthesisOutputFormat||(e.SpeechSynthesisOutputFormat={}))})(jb);Object.defineProperty(Ao,"__esModule",{value:!0});Ao.AudioOutputFormatImpl=void 0;const Le=jb,Ie=Io;class ge extends Ie.AudioStreamFormatImpl{constructor(t,r,n,i,s,o,a,c,l){super(n,o,r,t),this.formatTag=t,this.avgBytesPerSec=i,this.blockAlign=s,this.priAudioFormatString=a,this.priRequestAudioFormatString=c,this.priHasHeader=l}static fromSpeechSynthesisOutputFormat(t){return t===void 0?ge.getDefaultOutputFormat():ge.fromSpeechSynthesisOutputFormatString(ge.SpeechSynthesisOutputFormatToString[t])}static fromSpeechSynthesisOutputFormatString(t){switch(t){case"raw-8khz-8bit-mono-mulaw":return new ge(Ie.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,t,t,!1);case"riff-16khz-16kbps-mono-siren":return new ge(Ie.AudioFormatTag.Siren,1,16e3,2e3,40,0,t,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new ge(Ie.AudioFormatTag.Siren,1,16e3,2e3,40,0,t,t,!1);case"audio-16khz-32kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,16e3,4096,2,16,t,t,!1);case"audio-16khz-128kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,16e3,16384,2,16,t,t,!1);case"audio-16khz-64kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,16e3,8192,2,16,t,t,!1);case"audio-24khz-48kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,24e3,6144,2,16,t,t,!1);case"audio-24khz-96kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,24e3,12288,2,16,t,t,!1);case"audio-24khz-160kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,24e3,20480,2,16,t,t,!1);case"raw-16khz-16bit-mono-truesilk":return new ge(Ie.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,t,t,!1);case"riff-8khz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,8e3,16e3,2,16,t,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,24e3,48e3,2,16,t,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new ge(Ie.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,t,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,16e3,32e3,2,16,t,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,24e3,48e3,2,16,t,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,8e3,16e3,2,16,t,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new ge(Ie.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,t,t,!1);case"ogg-24khz-16bit-mono-opus":return new ge(Ie.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,t,t,!1);case"raw-48khz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,48e3,96e3,2,16,t,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,48e3,96e3,2,16,t,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,48e3,12288,2,16,t,t,!1);case"audio-48khz-192kbitrate-mono-mp3":return new ge(Ie.AudioFormatTag.MP3,1,48e3,24576,2,16,t,t,!1);case"ogg-48khz-16bit-mono-opus":return new ge(Ie.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,t,t,!1);case"webm-16khz-16bit-mono-opus":return new ge(Ie.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,t,t,!1);case"webm-24khz-16bit-mono-opus":return new ge(Ie.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,t,t,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new ge(Ie.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,t,t,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new ge(Ie.AudioFormatTag.OPUS,1,16e3,4e3,2,16,t,t,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new ge(Ie.AudioFormatTag.OPUS,1,24e3,6e3,2,16,t,t,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new ge(Ie.AudioFormatTag.OPUS,1,24e3,3e3,2,16,t,t,!1);case"audio-24khz-16bit-mono-flac":return new ge(Ie.AudioFormatTag.FLAC,1,24e3,24e3,2,16,t,t,!1);case"audio-48khz-16bit-mono-flac":return new ge(Ie.AudioFormatTag.FLAC,1,48e3,3e4,2,16,t,t,!1);case"raw-24khz-16bit-mono-truesilk":return new ge(Ie.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,t,t,!1);case"raw-8khz-8bit-mono-alaw":return new ge(Ie.AudioFormatTag.ALaw,1,8e3,8e3,1,8,t,t,!1);case"riff-8khz-8bit-mono-alaw":return new ge(Ie.AudioFormatTag.ALaw,1,8e3,8e3,1,8,t,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,22050,44100,2,16,t,t,!1);case"riff-22050hz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,22050,44100,2,16,t,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,44100,88200,2,16,t,t,!1);case"riff-44100hz-16bit-mono-pcm":return new ge(Ie.AudioFormatTag.PCM,1,44100,88200,2,16,t,"raw-44100hz-16bit-mono-pcm",!0);case"amr-wb-16000h":return new ge(Ie.AudioFormatTag.AMR_WB,1,16e3,3052,2,16,t,t,!1);case"g722-16khz-64kbps":return new ge(Ie.AudioFormatTag.G722,1,16e3,8e3,2,16,t,t,!1);case"riff-16khz-16bit-mono-pcm":default:return new ge(Ie.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return ge.fromSpeechSynthesisOutputFormatString(typeof window<"u"?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(t){if(this.priHasHeader){const r=new DataView(this.privHeader);r.setUint32(4,t+this.privHeader.byteLength-8,!0),r.setUint32(40,t,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(t){if(!this.hasHeader)return t;this.updateHeader(t.byteLength);const r=new Uint8Array(t.byteLength+this.header.byteLength);return r.set(new Uint8Array(this.header),0),r.set(new Uint8Array(t),this.header.byteLength),r.buffer}}Ao.AudioOutputFormatImpl=ge;ge.SpeechSynthesisOutputFormatToString={[Le.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[Le.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[Le.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[Le.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[Le.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[Le.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[Le.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[Le.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[Le.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[Le.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[Le.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[Le.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[Le.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[Le.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[Le.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[Le.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[Le.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[Le.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[Le.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm",[Le.SpeechSynthesisOutputFormat.AmrWb16000Hz]:"amr-wb-16000hz",[Le.SpeechSynthesisOutputFormat.G72216Khz64Kbps]:"g722-16khz-64kbps"};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.PushAudioOutputStreamImpl=Ur.PushAudioOutputStream=Ur.PullAudioOutputStreamImpl=Ur.PullAudioOutputStream=Ur.AudioOutputStream=void 0;const _C=pe(),kQ=ye,IQ=Ao;class zb{constructor(){}static createPullStream(){return $b.create()}}Ur.AudioOutputStream=zb;class $b extends zb{static create(){return new S2}}Ur.PullAudioOutputStream=$b;class S2 extends $b{constructor(){super(),this.privId=_C.createNoDashGuid(),this.privStream=new _C.Stream}set format(t){t==null&&(this.privFormat=IQ.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=t}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(t){const r=new Int8Array(t);let n=0;if(this.privLastChunkView!==void 0){if(this.privLastChunkView.length>t.byteLength)return r.set(this.privLastChunkView.slice(0,t.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(t.byteLength),Promise.resolve(t.byteLength);r.set(this.privLastChunkView),n=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;n<t.byteLength&&!this.privStream.isReadEnded;){const i=await this.privStream.read();if(i!==void 0&&!i.isEnd){let s;i.buffer.byteLength>t.byteLength-n?(s=i.buffer.slice(0,t.byteLength-n),this.privLastChunkView=new Int8Array(i.buffer.slice(t.byteLength-n))):s=i.buffer,r.set(new Int8Array(s),n),n+=s.byteLength}else this.privStream.readEnded()}return n}write(t){kQ.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:t,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}Ur.PullAudioOutputStreamImpl=S2;class C2 extends zb{constructor(){super()}static create(t){return new w2(t)}}Ur.PushAudioOutputStream=C2;class w2 extends C2{constructor(t){super(),this.privId=_C.createNoDashGuid(),this.privCallback=t}set format(t){}write(t){this.privCallback.write&&this.privCallback.write(t)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}Ur.PushAudioOutputStreamImpl=w2;var SR;function P2(){if(SR)return os;SR=1,Object.defineProperty(os,"__esModule",{value:!0}),os.AudioOutputConfigImpl=os.AudioConfigImpl=os.AudioConfig=void 0;const e=Dr(),t=ye,r=B(),n=Yd,i=y2(),s=Ur;let o=class b2{static fromDefaultMicrophoneInput(){const u=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(u))}static fromMicrophoneInput(u){const p=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(p,u))}static fromWavFileInput(u,p="unnamedBuffer.wav"){return new a(new e.FileAudioSource(u,p))}static fromStreamInput(u){if(u instanceof r.PullAudioInputStreamCallback)return new a(new i.PullAudioInputStreamImpl(u));if(u instanceof r.AudioInputStream)return new a(u);if(typeof MediaStream<"u"&&u instanceof MediaStream){const p=new e.PcmRecorder(!1);return new a(new e.MicAudioSource(p,null,null,u))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new c(new r.SpeakerAudioDestination)}static fromSpeakerOutput(u){if(u===void 0)return b2.fromDefaultSpeakerOutput();if(u instanceof r.SpeakerAudioDestination)return new c(u);throw new Error("Not Supported Type")}static fromAudioFileOutput(u){return new c(new n.AudioFileWriter(u))}static fromStreamOutput(u){if(u instanceof r.PushAudioOutputStreamCallback)return new c(new s.PushAudioOutputStreamImpl(u));if(u instanceof r.PushAudioOutputStream)return new c(u);if(u instanceof r.PullAudioOutputStream)return new c(u);throw new Error("Not Supported Type")}};os.AudioConfig=o;class a extends o{constructor(u){super(),this.privSource=u}get format(){return this.privSource.format}close(u,p){this.privSource.turnOff().then(()=>{u&&u()},d=>{p&&p(d)})}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(u){return this.privSource.attach(u)}detach(u){return this.privSource.detach(u)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(u,p){if(t.Contracts.throwIfNull(p,"value"),this.privSource.setProperty!==void 0)this.privSource.setProperty(u,p);else throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(u,p){if(this.privSource.getProperty!==void 0)return this.privSource.getProperty(u,p);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}os.AudioConfigImpl=a;class c extends o{constructor(u){super(),this.privDestination=u}set format(u){this.privDestination.format=u}write(u){this.privDestination.write(u)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}return os.AudioOutputConfigImpl=c,os}var _2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationReason=void 0,function(t){t[t.Error=0]="Error",t[t.EndOfStream=1]="EndOfStream"}(e.CancellationReason||(e.CancellationReason={}))})(_2);var Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});Gm.PullAudioInputStreamCallback=void 0;class AQ{}Gm.PullAudioInputStreamCallback=AQ;var Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.PushAudioOutputStreamCallback=void 0;class xQ{}Qm.PushAudioOutputStreamCallback=xQ;var Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.KeywordRecognitionModel=void 0;const CR=ye;class OQ{constructor(){this.privDisposed=!1}static fromFile(t){throw CR.Contracts.throwIfFileDoesNotExist(t,"fileName"),new Error("Not yet implemented.")}static fromStream(t){throw CR.Contracts.throwIfNull(t,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}}Jm.KeywordRecognitionModel=OQ;var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.SessionEventArgs=void 0;class DQ{constructor(t){this.privSessionId=t}get sessionId(){return this.privSessionId}}Xm.SessionEventArgs=DQ;var kl={},wR;function MQ(){if(wR)return kl;wR=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.RecognitionEventArgs=void 0;const e=B();let t=class extends e.SessionEventArgs{constructor(n,i){super(i),this.privOffset=n}get offset(){return this.privOffset}};return kl.RecognitionEventArgs=t,kl}var E2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OutputFormat=void 0,function(t){t[t.Simple=0]="Simple",t[t.Detailed=1]="Detailed"}(e.OutputFormat||(e.OutputFormat={}))})(E2);var Il={},bR;function NQ(){if(bR)return Il;bR=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.IntentRecognitionEventArgs=void 0;const e=B();let t=class extends e.RecognitionEventArgs{constructor(n,i,s){super(i,s),this.privResult=n}get result(){return this.privResult}};return Il.IntentRecognitionEventArgs=t,Il}var Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.RecognitionResult=void 0;class LQ{constructor(t,r,n,i,s,o,a,c,l,u){this.privResultId=t,this.privReason=r,this.privText=n,this.privDuration=i,this.privOffset=s,this.privLanguage=o,this.privLanguageDetectionConfidence=a,this.privErrorDetails=c,this.privJson=l,this.privProperties=u}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}Zm.RecognitionResult=LQ;var Al={},PR;function jQ(){if(PR)return Al;PR=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.SpeechRecognitionResult=void 0;const e=B();let t=class extends e.RecognitionResult{constructor(n,i,s,o,a,c,l,u,p,d,f){super(n,i,s,o,a,c,l,p,d,f),this.privSpeakerId=u}get speakerId(){return this.privSpeakerId}};return Al.SpeechRecognitionResult=t,Al}var xl={},_R;function zQ(){if(_R)return xl;_R=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.IntentRecognitionResult=void 0;const e=B();let t=class extends e.SpeechRecognitionResult{constructor(n,i,s,o,a,c,l,u,p,d,f){super(i,s,o,a,c,l,u,void 0,p,d,f),this.privIntentId=n}get intentId(){return this.privIntentId}};return xl.IntentRecognitionResult=t,xl}var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.LanguageUnderstandingModelImpl=xc.LanguageUnderstandingModel=void 0;const Ma=ye;class R2{constructor(){}static fromEndpoint(t){Ma.Contracts.throwIfNull(t,"uri"),Ma.Contracts.throwIfNullOrWhitespace(t.hostname,"uri");const r=new Sh,n=t.host.indexOf(".");if(n===-1)throw new Error("Could not determine region from endpoint");r.region=t.host.substr(0,n);const i=t.pathname.lastIndexOf("/")+1;if(i===-1)throw new Error("Could not determine appId from endpoint");if(r.appId=t.pathname.substr(i),r.subscriptionKey=t.searchParams.get("subscription-key"),r.subscriptionKey===void 0)throw new Error("Could not determine subscription key from endpoint");return r}static fromAppId(t){Ma.Contracts.throwIfNullOrWhitespace(t,"appId");const r=new Sh;return r.appId=t,r}static fromSubscription(t,r,n){Ma.Contracts.throwIfNullOrWhitespace(t,"subscriptionKey"),Ma.Contracts.throwIfNullOrWhitespace(r,"appId"),Ma.Contracts.throwIfNullOrWhitespace(n,"region");const i=new Sh;return i.appId=r,i.region=n,i.subscriptionKey=t,i}}xc.LanguageUnderstandingModel=R2;class Sh extends R2{}xc.LanguageUnderstandingModelImpl=Sh;var as={},ER;function $Q(){if(ER)return as;ER=1,Object.defineProperty(as,"__esModule",{value:!0}),as.MeetingTranscriptionEventArgs=as.ConversationTranscriptionEventArgs=as.SpeechRecognitionEventArgs=void 0;const e=B();let t=class extends e.RecognitionEventArgs{constructor(s,o,a){super(o,a),this.privResult=s}get result(){return this.privResult}};as.SpeechRecognitionEventArgs=t;class r extends e.RecognitionEventArgs{constructor(s,o,a){super(o,a),this.privResult=s}get result(){return this.privResult}}as.ConversationTranscriptionEventArgs=r;class n extends t{}return as.MeetingTranscriptionEventArgs=n,as}var Ol={},Dl={},RR;function Kd(){if(RR)return Dl;RR=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.CancellationEventArgsBase=void 0;const e=B();let t=class extends e.RecognitionEventArgs{constructor(n,i,s,o,a){super(o,a),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=s}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return Dl.CancellationEventArgsBase=t,Dl}var TR;function FQ(){if(TR)return Ol;TR=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.SpeechRecognitionCanceledEventArgs=void 0;const e=Kd();let t=class extends e.CancellationEventArgsBase{};return Ol.SpeechRecognitionCanceledEventArgs=t,Ol}var Ml={},kR;function BQ(){if(kR)return Ml;kR=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.TranslationRecognitionEventArgs=void 0;const e=B();let t=class extends e.RecognitionEventArgs{constructor(n,i,s){super(i,s),this.privResult=n}get result(){return this.privResult}};return Ml.TranslationRecognitionEventArgs=t,Ml}var Nl={},IR;function HQ(){if(IR)return Nl;IR=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.TranslationSynthesisEventArgs=void 0;const e=B();let t=class extends e.SessionEventArgs{constructor(n,i){super(i),this.privResult=n}get result(){return this.privResult}};return Nl.TranslationSynthesisEventArgs=t,Nl}var Ll={},AR;function k2(){if(AR)return Ll;AR=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.TranslationRecognitionResult=void 0;const e=B();let t=class T2 extends e.SpeechRecognitionResult{constructor(n,i,s,o,a,c,l,u,p,d,f){super(i,s,o,a,c,l,u,void 0,p,d,f),this.privTranslations=n}static fromSpeechRecognitionResult(n){return new T2(void 0,n.resultId,n.reason,n.text,n.duration,n.offset,n.language,n.languageDetectionConfidence,n.errorDetails,n.json,n.properties)}get translations(){return this.privTranslations}};return Ll.TranslationRecognitionResult=t,Ll}var eg={};Object.defineProperty(eg,"__esModule",{value:!0});eg.TranslationSynthesisResult=void 0;class UQ{constructor(t,r){this.privReason=t,this.privAudio=r}get audio(){return this.privAudio}get reason(){return this.privReason}}eg.TranslationSynthesisResult=UQ;var I2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ResultReason=void 0,function(t){t[t.NoMatch=0]="NoMatch",t[t.Canceled=1]="Canceled",t[t.RecognizingSpeech=2]="RecognizingSpeech",t[t.RecognizedSpeech=3]="RecognizedSpeech",t[t.RecognizedKeyword=4]="RecognizedKeyword",t[t.RecognizingIntent=5]="RecognizingIntent",t[t.RecognizedIntent=6]="RecognizedIntent",t[t.TranslatingSpeech=7]="TranslatingSpeech",t[t.TranslatedSpeech=8]="TranslatedSpeech",t[t.SynthesizingAudio=9]="SynthesizingAudio",t[t.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",t[t.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",t[t.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",t[t.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",t[t.RecognizedSpeakers=14]="RecognizedSpeakers",t[t.RecognizedSpeaker=15]="RecognizedSpeaker",t[t.ResetVoiceProfile=16]="ResetVoiceProfile",t[t.DeletedVoiceProfile=17]="DeletedVoiceProfile",t[t.VoicesListRetrieved=18]="VoicesListRetrieved",t[t.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",t[t.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",t[t.TranslatedInstantMessage=21]="TranslatedInstantMessage",t[t.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"}(e.ResultReason||(e.ResultReason={}))})(I2);var Oo={},xR;function qQ(){if(xR)return Oo;xR=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.SpeechConfigImpl=Oo.SpeechConfig=void 0;const e=Z(),t=ye,r=B();let n=class{constructor(){}static fromSubscription(o,a){t.Contracts.throwIfNullOrWhitespace(o,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),c}static fromEndpoint(o,a){t.Contracts.throwIfNull(o,"endpoint");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,o.href),a!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}static fromHost(o,a){t.Contracts.throwIfNull(o,"hostName");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Host,o.protocol+"//"+o.hostname+(o.port===""?"":":"+o.port)),a!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}static fromAuthorizationToken(o,a){t.Contracts.throwIfNull(o,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),c.authorizationToken=o,c}close(){}};Oo.SpeechConfig=n;class i extends n{constructor(){super(),this.privProperties=new r.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=r.OutputFormat.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}get speechRecognitionLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,o)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,o)}get outputFormat(){return r.OutputFormat[this.privProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(o){this.privProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[o])}get endpointId(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,o)}setProperty(o,a){t.Contracts.throwIfNull(a,"value"),this.privProperties.setProperty(o,a)}getProperty(o,a){return this.privProperties.getProperty(o,a)}setProxy(o,a,c,l){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],o),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],l)}setServiceProperty(o,a){const c=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));c[o]=a,this.privProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(c))}setProfanity(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[o])}enableAudioLogging(){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(e.ForceDictationPropertyName,"true")}clone(){const o=new i;return o.privProperties=this.privProperties.clone(),o}get speechSynthesisLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,o)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,o)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[o])}}return Oo.SpeechConfigImpl=i,Oo}var Do={},OR;function WQ(){if(OR)return Do;OR=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.SpeechTranslationConfigImpl=Do.SpeechTranslationConfig=void 0;const e=Z(),t=ye,r=B();let n=class extends r.SpeechConfig{constructor(){super()}static fromSubscription(o,a){t.Contracts.throwIfNullOrWhitespace(o,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}static fromAuthorizationToken(o,a){t.Contracts.throwIfNullOrWhitespace(o,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}static fromHost(o,a){t.Contracts.throwIfNull(o,"hostName");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Host,o.protocol+"//"+o.hostname+(o.port===""?"":":"+o.port)),a!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}static fromEndpoint(o,a){t.Contracts.throwIfNull(o,"endpoint"),t.Contracts.throwIfNull(a,"subscriptionKey");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,o.href),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}};Do.SpeechTranslationConfig=n;class i extends n{constructor(){super(),this.privSpeechProperties=new r.PropertyCollection,this.outputFormat=r.OutputFormat.Simple}set authorizationToken(o){t.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}set speechRecognitionLanguage(o){t.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,o)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return r.OutputFormat[this.privSpeechProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(o){this.privSpeechProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[o])}get endpointId(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,o)}addTargetLanguage(o){t.Contracts.throwIfNullOrWhitespace(o,"value");const a=this.targetLanguages;a.includes(o)||(a.push(o),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,a.join(",")))}get targetLanguages(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(o){t.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,o)}get region(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}setProxy(o,a,c,l){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],o),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],l)}getProperty(o,a){return this.privSpeechProperties.getProperty(o,a)}setProperty(o,a){this.privSpeechProperties.setProperty(o,a)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(o,a){const c=JSON.parse(this.privSpeechProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));c[o]=a,this.privSpeechProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(c))}setProfanity(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[o])}enableAudioLogging(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(e.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,o)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,o)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[o])}}return Do.SpeechTranslationConfigImpl=i,Do}var jl={},DR;function x2(){if(DR)return jl;DR=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.PropertyCollection=void 0;const e=B();let t=class A2{constructor(){this.privKeys=[],this.privValues=[]}getProperty(n,i){let s;typeof n=="string"?s=n:s=e.PropertyId[n];for(let o=0;o<this.privKeys.length;o++)if(this.privKeys[o]===s)return this.privValues[o];if(i!==void 0)return String(i)}setProperty(n,i){let s;typeof n=="string"?s=n:s=e.PropertyId[n];for(let o=0;o<this.privKeys.length;o++)if(this.privKeys[o]===s){this.privValues[o]=i;return}this.privKeys.push(s),this.privValues.push(i)}clone(){const n=new A2;for(let i=0;i<this.privKeys.length;i++)n.privKeys.push(this.privKeys[i]),n.privValues.push(this.privValues[i]);return n}mergeTo(n){this.privKeys.forEach(i=>{if(n.getProperty(i,void 0)===void 0){const s=this.getProperty(i);n.setProperty(i,s)}})}get keys(){return this.privKeys}};return jl.PropertyCollection=t,jl}var tg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PropertyId=void 0,function(t){t[t.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",t[t.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",t[t.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",t[t.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",t[t.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",t[t.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",t[t.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",t[t.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",t[t.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",t[t.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",t[t.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",t[t.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",t[t.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",t[t.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",t[t.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",t[t.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",t[t.Speech_SessionId=16]="Speech_SessionId",t[t.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",t[t.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",t[t.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",t[t.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",t[t.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",t[t.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",t[t.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",t[t.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",t[t.CancellationDetails_Reason=25]="CancellationDetails_Reason",t[t.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",t[t.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",t[t.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",t[t.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",t[t.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",t[t.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",t[t.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",t[t.SpeechServiceConnection_EnableAudioLogging=33]="SpeechServiceConnection_EnableAudioLogging",t[t.SpeechServiceConnection_LanguageIdMode=34]="SpeechServiceConnection_LanguageIdMode",t[t.SpeechServiceConnection_RecognitionEndpointVersion=35]="SpeechServiceConnection_RecognitionEndpointVersion",t[t.SpeechServiceConnection_SpeakerIdMode=36]="SpeechServiceConnection_SpeakerIdMode",t[t.SpeechServiceResponse_ProfanityOption=37]="SpeechServiceResponse_ProfanityOption",t[t.SpeechServiceResponse_PostProcessingOption=38]="SpeechServiceResponse_PostProcessingOption",t[t.SpeechServiceResponse_RequestWordLevelTimestamps=39]="SpeechServiceResponse_RequestWordLevelTimestamps",t[t.SpeechServiceResponse_StablePartialResultThreshold=40]="SpeechServiceResponse_StablePartialResultThreshold",t[t.SpeechServiceResponse_OutputFormatOption=41]="SpeechServiceResponse_OutputFormatOption",t[t.SpeechServiceResponse_TranslationRequestStablePartialResult=42]="SpeechServiceResponse_TranslationRequestStablePartialResult",t[t.SpeechServiceResponse_RequestWordBoundary=43]="SpeechServiceResponse_RequestWordBoundary",t[t.SpeechServiceResponse_RequestPunctuationBoundary=44]="SpeechServiceResponse_RequestPunctuationBoundary",t[t.SpeechServiceResponse_RequestSentenceBoundary=45]="SpeechServiceResponse_RequestSentenceBoundary",t[t.Conversation_ApplicationId=46]="Conversation_ApplicationId",t[t.Conversation_DialogType=47]="Conversation_DialogType",t[t.Conversation_Initial_Silence_Timeout=48]="Conversation_Initial_Silence_Timeout",t[t.Conversation_From_Id=49]="Conversation_From_Id",t[t.Conversation_Conversation_Id=50]="Conversation_Conversation_Id",t[t.Conversation_Custom_Voice_Deployment_Ids=51]="Conversation_Custom_Voice_Deployment_Ids",t[t.Conversation_Speech_Activity_Template=52]="Conversation_Speech_Activity_Template",t[t.Conversation_Request_Bot_Status_Messages=53]="Conversation_Request_Bot_Status_Messages",t[t.Conversation_Agent_Connection_Id=54]="Conversation_Agent_Connection_Id",t[t.SpeechServiceConnection_Host=55]="SpeechServiceConnection_Host",t[t.ConversationTranslator_Host=56]="ConversationTranslator_Host",t[t.ConversationTranslator_Name=57]="ConversationTranslator_Name",t[t.ConversationTranslator_CorrelationId=58]="ConversationTranslator_CorrelationId",t[t.ConversationTranslator_Token=59]="ConversationTranslator_Token",t[t.PronunciationAssessment_ReferenceText=60]="PronunciationAssessment_ReferenceText",t[t.PronunciationAssessment_GradingSystem=61]="PronunciationAssessment_GradingSystem",t[t.PronunciationAssessment_Granularity=62]="PronunciationAssessment_Granularity",t[t.PronunciationAssessment_EnableMiscue=63]="PronunciationAssessment_EnableMiscue",t[t.PronunciationAssessment_Json=64]="PronunciationAssessment_Json",t[t.PronunciationAssessment_Params=65]="PronunciationAssessment_Params",t[t.SpeakerRecognition_Api_Version=66]="SpeakerRecognition_Api_Version",t[t.WebWorkerLoadType=67]="WebWorkerLoadType",t[t.TalkingAvatarService_WebRTC_SDP=68]="TalkingAvatarService_WebRTC_SDP"}(e.PropertyId||(e.PropertyId={}))})(tg);var zl={},MR;function VQ(){if(MR)return zl;MR=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.Recognizer=void 0;const e=Z(),t=pe(),r=ye,n=B();let i=class O2{constructor(o,a,c){this.audioConfig=o!==void 0?o:n.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=a.clone(),this.privConnectionFactory=c,this.implCommonRecognizerSetup()}close(o,a){r.Contracts.throwIfDisposed(this.privDisposed),t.marshalPromiseToCallbacks(this.dispose(!0),o,a)}get internalData(){return this.privReco}async dispose(o){this.privDisposed||(this.privDisposed=!0,o&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return e.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(o){e.ServiceRecognizerBase.telemetryDataEnabled=o}implCommonRecognizerSetup(){let o=typeof window<"u"?"Browser":"Node",a="unknown",c="unknown";typeof navigator<"u"&&(o=o+"/"+navigator.platform,a=navigator.userAgent,c=navigator.appVersion);const l=this.createRecognizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(o,a,c))));this.privReco=this.createServiceRecognizer(O2.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,l)}async recognizeOnceAsyncImpl(o){r.Contracts.throwIfDisposed(this.privDisposed);const a=new t.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(o,a.resolve,a.reject);const c=await a.promise;return await this.implRecognizerStop(),c}async startContinuousRecognitionAsyncImpl(o){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(o,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuthFromProperties(o){const a=o.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0);return a&&a!==""?new e.CognitiveSubscriptionKeyAuthentication(a):new e.CognitiveTokenAuthentication(()=>{const l=o.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(l)},()=>{const l=o.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(l)})}};return zl.Recognizer=i,zl}var $l={},NR;function YQ(){if(NR)return $l;NR=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.SpeechRecognizer=void 0;const e=Z(),t=pe(),r=ye,n=B();let i=class D2 extends n.Recognizer{constructor(o,a){const c=o;r.Contracts.throwIfNull(c,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(c.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,c.properties,new e.SpeechConnectionFactory),this.privDisposedRecognizer=!1}static FromConfig(o,a,c){const l=o;return a.properties.mergeTo(l.properties),new D2(o,c)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){r.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,n.OutputFormat[n.OutputFormat.Simple])===n.OutputFormat[n.OutputFormat.Simple]?n.OutputFormat.Simple:n.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(o,a){t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),o,a)}startContinuousRecognitionAsync(o,a){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),o,a)}stopContinuousRecognitionAsync(o,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}startKeywordRecognitionAsync(o,a,c){r.Contracts.throwIfNull(o,"model"),c&&c("Not yet implemented.")}stopKeywordRecognitionAsync(o){o&&o()}close(o,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),o,a)}async dispose(o){this.privDisposedRecognizer||(o&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(o))}createRecognizerConfig(o){return new e.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,a,c,l){const u=c;return new e.SpeechServiceRecognizer(o,a,u,l,this)}};return $l.SpeechRecognizer=i,$l}var Fl={},LR;function KQ(){if(LR)return Fl;LR=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.IntentRecognizer=void 0;const e=Z(),t=pe(),r=ye,n=B();let i=class extends n.Recognizer{constructor(o,a){r.Contracts.throwIfNullOrUndefined(o,"speechConfig");const c=o;r.Contracts.throwIfNullOrUndefined(c,"speechConfig"),super(a,c.properties,new e.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=c.properties,r.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}get properties(){return this.privProperties}recognizeOnceAsync(o,a){if(r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const c=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",c.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(c.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),o,a)}startContinuousRecognitionAsync(o,a){if(Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const c=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",c.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(c.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),o,a)}stopContinuousRecognitionAsync(o,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}startKeywordRecognitionAsync(o,a,c){r.Contracts.throwIfNull(o,"model"),c&&c("Not yet implemented.")}stopKeywordRecognitionAsync(o,a){if(o)try{o()}catch(c){a&&a(c)}}addIntent(o,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(a,"intentId"),r.Contracts.throwIfNullOrWhitespace(o,"simplePhrase"),this.privAddedIntents.push([a,o])}addIntentWithLanguageModel(o,a,c){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(o,"intentId"),r.Contracts.throwIfNull(a,"model");const l=a;r.Contracts.throwIfNullOrWhitespace(l.appId,"model.appId"),this.privAddedLmIntents[o]=new e.AddedLmIntent(l,c)}addAllIntents(o,a){r.Contracts.throwIfNull(o,"model");const c=o;r.Contracts.throwIfNullOrWhitespace(c.appId,"model.appId"),this.privUmbrellaIntent=new e.AddedLmIntent(c,a)}close(o,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),o,a)}createRecognizerConfig(o){return new e.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,a,c,l){const u=c;return new e.IntentServiceRecognizer(o,a,u,l,this)}async dispose(o){this.privDisposedIntentRecognizer||o&&(this.privDisposedIntentRecognizer=!0,await super.dispose(o))}buildSpeechContext(){let o,a,c;const l=[];this.privUmbrellaIntent!==void 0&&(o=this.privUmbrellaIntent.modelImpl.appId,a=this.privUmbrellaIntent.modelImpl.region,c=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const u of Object.keys(this.privAddedLmIntents)){const p=this.privAddedLmIntents[u];if(o===void 0)o=p.modelImpl.appId;else if(o!==p.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(a===void 0)a=p.modelImpl.region;else if(a!==p.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(c===void 0)c=p.modelImpl.subscriptionKey;else if(c!==p.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const d="luis/"+o+"-PRODUCTION#"+u;l.push(d)}return{Intent:{id:o,key:c===void 0?this.privProperties.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_Key]):c,provider:"LUIS"},ReferenceGrammars:this.privUmbrellaIntent===void 0?l:["luis/"+o+"-PRODUCTION"]}}};return Fl.IntentRecognizer=i,Fl}var M2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceProfileType=void 0,function(t){t[t.TextIndependentIdentification=0]="TextIndependentIdentification",t[t.TextDependentVerification=1]="TextDependentVerification",t[t.TextIndependentVerification=2]="TextIndependentVerification"}(e.VoiceProfileType||(e.VoiceProfileType={}))})(M2);var Bl={},Hl={},Mo={},jR;function N2(){if(jR)return Mo;jR=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.ConnectionMessageImpl=Mo.ConnectionMessage=void 0;const e=Or,t=pe(),r=x2(),n=tg;let i=class{};Mo.ConnectionMessage=i;class s{constructor(a){this.privConnectionMessage=a,this.privProperties=new r.PropertyCollection,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]&&this.privProperties.setProperty(n.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach(c=>{this.privProperties.setProperty(c,this.privConnectionMessage.headers[c])})}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find(a=>a.toLowerCase()==="path".toLowerCase())]}get isTextMessage(){return this.privConnectionMessage.messageType===t.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===t.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}return Mo.ConnectionMessageImpl=s,Mo}var zR;function L2(){if(zR)return Hl;zR=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.Connection=void 0;const e=Z(),t=pe(),r=N2(),n=ye,i=B();let s=class EC{static fromRecognizer(a){const c=a.internalData,l=new EC;return l.privInternalData=c,l.setupEvents(),l}static fromSynthesizer(a){const c=a.internalData,l=new EC;return l.privInternalData=c,l.setupEvents(),l}openConnection(a,c){t.marshalPromiseToCallbacks(this.privInternalData.connect(),a,c)}closeConnection(a,c){if(this.privInternalData instanceof e.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");t.marshalPromiseToCallbacks(this.privInternalData.disconnect(),a,c)}setMessageProperty(a,c,l){if(n.Contracts.throwIfNullOrWhitespace(c,"propertyName"),this.privInternalData instanceof e.ServiceRecognizerBase){if(a.toLowerCase()!=="speech.context")throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(c,l)}else if(this.privInternalData instanceof e.SynthesisAdapterBase){if(a.toLowerCase()!=="synthesis.context")throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(c,l)}}sendMessageAsync(a,c,l,u){t.marshalPromiseToCallbacks(this.privInternalData.sendNetworkMessage(a,c),l,u)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach(a=>{a.name==="ConnectionEstablishedEvent"?this.connected&&this.connected(new i.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionClosedEvent"?this.disconnected&&this.disconnected(new i.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionMessageSentEvent"?this.messageSent&&this.messageSent(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message))):a.name==="ConnectionMessageReceivedEvent"&&this.messageReceived&&this.messageReceived(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message)))}),this.privServiceEventListener=this.privInternalData.serviceEvents.attach(a=>{this.receivedServiceMessage&&this.receivedServiceMessage(new i.ServiceEventArgs(a.jsonString,a.name))})}};return Hl.Connection=s,Hl}var $R;function GQ(){if($R)return Bl;$R=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.TranslationRecognizer=void 0;const e=Z(),t=pe(),r=L2(),n=ye,i=B();let s=class j2 extends i.Recognizer{constructor(a,c,l){const u=a;n.Contracts.throwIfNull(u,"speechConfig"),super(c,u.properties,l||new e.TranslationConnectionFactory),this.privDisposedTranslationRecognizer=!1,this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)!==void 0&&n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice),i.PropertyId[i.PropertyId.SpeechServiceConnection_TranslationVoice]),n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages),i.PropertyId[i.PropertyId.SpeechServiceConnection_TranslationToLanguages]),n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(a,c,l){const u=a;return c.properties.mergeTo(u.properties),new j2(a,l)}get speechRecognitionLanguage(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}recognizeOnceAsync(a,c){n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),a,c)}startContinuousRecognitionAsync(a,c){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),a,c)}stopContinuousRecognitionAsync(a,c){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,c)}removeTargetLanguage(a){if(n.Contracts.throwIfNullOrUndefined(a,"language to be removed"),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0){const c=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),l=c.indexOf(a);l>-1&&(c.splice(l,1),this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,c.join(",")),this.updateLanguages(c))}}addTargetLanguage(a){n.Contracts.throwIfNullOrUndefined(a,"language to be added");let c=[];this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?(c=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),c.includes(a)||(c.push(a),this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,c.join(",")))):(this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,a),c=[a]),this.updateLanguages(c)}close(a,c){n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),a,c)}onConnection(){}async dispose(a){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,a&&(await this.implRecognizerStop(),await super.dispose(a)))}createRecognizerConfig(a){return new e.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,c,l,u){const p=l;return new e.TranslationServiceRecognizer(a,c,p,u,this)}updateLanguages(a){const c=r.Connection.fromRecognizer(this);c&&(c.setMessageProperty("speech.context","translationcontext",{to:a}),c.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:a})))}};return Bl.TranslationRecognizer=s,Bl}var Ul={},FR;function QQ(){if(FR)return Ul;FR=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.Translations=void 0;const e=B();let t=class{constructor(){this.privMap=new e.PropertyCollection}get languages(){return this.privMap.keys}get(n,i){return this.privMap.getProperty(n,i)}set(n,i){this.privMap.setProperty(n,i)}};return Ul.Translations=t,Ul}var z2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NoMatchReason=void 0,function(t){t[t.NotRecognized=0]="NotRecognized",t[t.InitialSilenceTimeout=1]="InitialSilenceTimeout",t[t.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(e.NoMatchReason||(e.NoMatchReason={}))})(z2);var ql={},BR;function JQ(){if(BR)return ql;BR=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.NoMatchDetails=void 0;const e=Z(),t=B();let r=class $2{constructor(i){this.privReason=i}static fromResult(i){const s=e.SimpleSpeechPhrase.fromJSON(i.json);let o=t.NoMatchReason.NotRecognized;switch(s.RecognitionStatus){case e.RecognitionStatus.BabbleTimeout:o=t.NoMatchReason.InitialBabbleTimeout;break;case e.RecognitionStatus.InitialSilenceTimeout:o=t.NoMatchReason.InitialSilenceTimeout;break;default:o=t.NoMatchReason.NotRecognized;break}return new $2(o)}get reason(){return this.privReason}};return ql.NoMatchDetails=r,ql}var rg={};Object.defineProperty(rg,"__esModule",{value:!0});rg.TranslationRecognitionCanceledEventArgs=void 0;class XQ{constructor(t,r,n,i,s){this.privCancelReason=r,this.privErrorDetails=n,this.privResult=s,this.privSessionId=t,this.privErrorCode=i}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}rg.TranslationRecognitionCanceledEventArgs=XQ;var Wl={},HR;function ZQ(){if(HR)return Wl;HR=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.IntentRecognitionCanceledEventArgs=void 0;const e=B();let t=class extends e.IntentRecognitionEventArgs{constructor(n,i,s,o,a,c){super(o,a,c),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=s}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return Wl.IntentRecognitionCanceledEventArgs=t,Wl}var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.CancellationDetailsBase=void 0;class eJ{constructor(t,r,n){this.privReason=t,this.privErrorDetails=r,this.privErrorCode=n}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}}Gd.CancellationDetailsBase=eJ;var Vl={},UR;function tJ(){if(UR)return Vl;UR=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.CancellationDetails=void 0;const e=Z(),t=Gd,r=B();let n=class F2 extends t.CancellationDetailsBase{constructor(s,o,a){super(s,o,a)}static fromResult(s){let o=r.CancellationReason.Error,a=r.CancellationErrorCode.NoError;if(s instanceof r.RecognitionResult&&s.json){const c=e.SimpleSpeechPhrase.fromJSON(s.json);o=e.EnumTranslation.implTranslateCancelResult(c.RecognitionStatus)}return s.properties&&(a=r.CancellationErrorCode[s.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new F2(o,s.errorDetails||e.EnumTranslation.implTranslateErrorDetails(a),a)}};return Vl.CancellationDetails=n,Vl}var B2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationErrorCode=void 0,function(t){t[t.NoError=0]="NoError",t[t.AuthenticationFailure=1]="AuthenticationFailure",t[t.BadRequestParameters=2]="BadRequestParameters",t[t.TooManyRequests=3]="TooManyRequests",t[t.ConnectionFailure=4]="ConnectionFailure",t[t.ServiceTimeout=5]="ServiceTimeout",t[t.ServiceError=6]="ServiceError",t[t.RuntimeError=7]="RuntimeError",t[t.Forbidden=8]="Forbidden"}(e.CancellationErrorCode||(e.CancellationErrorCode={}))})(B2);var Yl={},qR;function rJ(){if(qR)return Yl;qR=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.ConnectionEventArgs=void 0;const e=B();let t=class extends e.SessionEventArgs{};return Yl.ConnectionEventArgs=t,Yl}var Kl={},WR;function nJ(){if(WR)return Kl;WR=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.ServiceEventArgs=void 0;const e=B();let t=class extends e.SessionEventArgs{constructor(n,i,s){super(s),this.privJsonResult=n,this.privEventName=i}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}};return Kl.ServiceEventArgs=t,Kl}var ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.PhraseListGrammar=void 0;class Fb{constructor(t){this.privGrammerBuilder=t.dynamicGrammar}static fromRecognizer(t){const r=t.internalData;return new Fb(r)}addPhrase(t){this.privGrammerBuilder.addPhrase(t)}addPhrases(t){this.privGrammerBuilder.addPhrase(t)}clear(){this.privGrammerBuilder.clearPhrases()}}ng.PhraseListGrammar=Fb;var No={},VR;function Bb(){if(VR)return No;VR=1,Object.defineProperty(No,"__esModule",{value:!0}),No.DialogServiceConfigImpl=No.DialogServiceConfig=void 0;const e=ye,t=B();let r=class{constructor(){}set applicationId(s){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}};No.DialogServiceConfig=r;class n extends r{constructor(){super(),this.privSpeechConfig=new t.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(s){e.Contracts.throwIfNullOrWhitespace(s,"value"),this.privSpeechConfig.speechRecognitionLanguage=s}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(s){this.privSpeechConfig.outputFormat=s}setProperty(s,o){this.privSpeechConfig.setProperty(s,o)}getProperty(s,o){return this.privSpeechConfig.getProperty(s)}setProxy(s,o,a,c){this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyHostName,s),this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPort,`${o}`),a&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyUserName,a),c&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPassword,c)}setServiceProperty(s,o,a){this.privSpeechConfig.setServiceProperty(s,o)}close(){}}return No.DialogServiceConfigImpl=n,No}var Gl={},YR;function iJ(){if(YR)return Gl;YR=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.BotFrameworkConfig=void 0;const e=ye,t=Bb(),r=B();let n=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(s,o,a){e.Contracts.throwIfNullOrWhitespace(s,"subscription"),e.Contracts.throwIfNullOrWhitespace(o,"region");const c=new t.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,s),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,o),a&&c.setProperty(r.PropertyId.Conversation_ApplicationId,a),c}static fromAuthorizationToken(s,o,a){e.Contracts.throwIfNullOrWhitespace(s,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(o,"region");const c=new t.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),c.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,s),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,o),a&&c.setProperty(r.PropertyId.Conversation_ApplicationId,a),c}static fromHost(s,o,a){e.Contracts.throwIfNullOrUndefined(s,"host");const c=s instanceof URL?s:new URL(`wss://${s}.convai.speech.azure.us`);e.Contracts.throwIfNullOrUndefined(c,"resolvedHost");const l=new t.DialogServiceConfigImpl;return l.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),l.setProperty(r.PropertyId.SpeechServiceConnection_Host,c.toString()),o!==void 0&&l.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),l}static fromEndpoint(s,o){e.Contracts.throwIfNull(s,"endpoint");const a=new t.DialogServiceConfigImpl;return a.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),a.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,s.toString()),o!==void 0&&a.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),a}};return Gl.BotFrameworkConfig=n,Gl}var Ql={},KR;function sJ(){if(KR)return Ql;KR=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.CustomCommandsConfig=void 0;const e=ye,t=Bb(),r=B();let n=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(s,o,a){e.Contracts.throwIfNullOrWhitespace(s,"applicationId"),e.Contracts.throwIfNullOrWhitespace(o,"subscription"),e.Contracts.throwIfNullOrWhitespace(a,"region");const c=new t.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),c.setProperty(r.PropertyId.Conversation_ApplicationId,s),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}static fromAuthorizationToken(s,o,a){e.Contracts.throwIfNullOrWhitespace(s,"applicationId"),e.Contracts.throwIfNullOrWhitespace(o,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(a,"region");const c=new t.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),c.setProperty(r.PropertyId.Conversation_ApplicationId,s),c.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}set applicationId(s){e.Contracts.throwIfNullOrWhitespace(s,"value"),this.setProperty(r.PropertyId.Conversation_ApplicationId,s)}get applicationId(){return this.getProperty(r.PropertyId.Conversation_ApplicationId)}};return Ql.CustomCommandsConfig=n,Ql}var Jl={},Xl={},Zl={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.QueryParameterNames=void 0;class tr{}Ai.QueryParameterNames=tr;tr.BotId="botid";tr.CustomSpeechDeploymentId="cid";tr.CustomVoiceDeploymentId="deploymentId";tr.EnableAudioLogging="storeAudio";tr.EnableLanguageId="lidEnabled";tr.EnableWordLevelTimestamps="wordLevelTimestamps";tr.EndSilenceTimeoutMs="endSilenceTimeoutMs";tr.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs";tr.Format="format";tr.InitialSilenceTimeoutMs="initialSilenceTimeoutMs";tr.Language="language";tr.Profanity="profanity";tr.RequestBotStatusMessages="enableBotMessageStatus";tr.StableIntermediateThreshold="stableIntermediateThreshold";tr.StableTranslation="stableTranslation";tr.TestHooks="testhooks";tr.Postprocessing="postprocessing";tr.CtsMeetingId="meetingId";tr.CtsDeviceId="deviceId";tr.CtsIsParticipant="isParticipant";tr.EnableAvatar="enableTalkingAvatar";var GR;function xi(){if(GR)return Zl;GR=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.ConnectionFactoryBase=void 0;const e=Z(),t=B(),r=Ai;let n=class{static getHostSuffix(s){if(s){if(s.toLowerCase().startsWith("china"))return".azure.cn";if(s.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(s,o,a){new Map([[t.PropertyId.Speech_SegmentationSilenceTimeoutMs,r.QueryParameterNames.SegmentationSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_EnableAudioLogging,r.QueryParameterNames.EnableAudioLogging],[t.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,r.QueryParameterNames.EndSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,r.QueryParameterNames.InitialSilenceTimeoutMs],[t.PropertyId.SpeechServiceResponse_PostProcessingOption,r.QueryParameterNames.Postprocessing],[t.PropertyId.SpeechServiceResponse_ProfanityOption,r.QueryParameterNames.Profanity],[t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,r.QueryParameterNames.EnableWordLevelTimestamps],[t.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,r.QueryParameterNames.StableIntermediateThreshold]]).forEach((u,p)=>{this.setUrlParameter(p,u,s,o,a)});const l=JSON.parse(s.parameters.getProperty(e.ServicePropertiesPropertyName,"{}"));Object.keys(l).forEach(u=>{o[u]=l[u]})}setUrlParameter(s,o,a,c,l){const u=a.parameters.getProperty(s,void 0);u&&(!l||l.search(o)===-1)&&(c[o]=u.toLocaleLowerCase())}};return Zl.ConnectionFactoryBase=n,Zl}var QR;function oJ(){if(QR)return Xl;QR=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.DialogConnectionFactory=void 0;const e=Dr(),t=Z(),r=B(),n=xi(),i=Z(),s=Or,o=Ai;class a extends n.ConnectionFactoryBase{create(l,u,p){const d=l.parameters.getProperty(r.PropertyId.Conversation_ApplicationId,""),f=l.parameters.getProperty(r.PropertyId.Conversation_DialogType),h=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),v=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),g=l.parameters.getProperty(r.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),m={};m[s.HeaderNames.ConnectionId]=p,m[o.QueryParameterNames.Format]=l.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase(),m[o.QueryParameterNames.Language]=v,m[o.QueryParameterNames.RequestBotStatusMessages]=g,d&&(m[o.QueryParameterNames.BotId]=d,f===r.DialogServiceConfig.DialogTypes.CustomCommands&&(m[s.HeaderNames.CustomCommandsAppId]=d));const y=f===r.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",S=f===r.DialogServiceConfig.DialogTypes.CustomCommands?"v1":f===r.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",C={};u.token!=null&&u.token!==""&&(C[u.headerName]=u.token);let b=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,"");if(!b){const _=n.ConnectionFactoryBase.getHostSuffix(h),R=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,`wss://${h}.${a.BaseUrl}${_}`);b=`${R.endsWith("/")?R:R+"/"}${y}${a.ApiKey}/${S}`}this.setCommonUrlParams(l,m,b);const T=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(b,m,C,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(l),T,p)}}return Xl.DialogConnectionFactory=a,a.ApiKey="api",a.BaseUrl="convai.speech",Xl}var JR;function aJ(){if(JR)return Jl;JR=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.DialogServiceConnector=void 0;const e=oJ(),t=Z(),r=pe(),n=ye,i=B(),s=tg;let o=class extends i.Recognizer{constructor(c,l){const u=c;n.Contracts.throwIfNull(c,"dialogConfig"),super(l,u.properties,new e.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=u.properties.clone();const p=this.buildAgentConfig();this.privReco.agentConfig.set(p)}connect(c,l){r.marshalPromiseToCallbacks(this.privReco.connect(),c,l)}disconnect(c,l){r.marshalPromiseToCallbacks(this.privReco.disconnect(),c,l)}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){n.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,c)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(s.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(c){this.properties.setProperty(s.PropertyId.Conversation_Speech_Activity_Template,c)}listenOnceAsync(c,l){if(this.isTurnComplete){n.Contracts.throwIfDisposed(this.privIsDisposed);const p=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const d=new r.Deferred;await this.privReco.recognize(t.RecognitionMode.Conversation,d.resolve,d.reject);const f=await d.promise;return await this.implRecognizerStop(),f})();p.catch(()=>{this.dispose(!0).catch(()=>{})}),r.marshalPromiseToCallbacks(p.finally(()=>{this.isTurnComplete=!0}),c,l)}}sendActivityAsync(c,l,u){r.marshalPromiseToCallbacks(this.privReco.sendMessage(c),l,u)}close(c,l){n.Contracts.throwIfDisposed(this.privIsDisposed),r.marshalPromiseToCallbacks(this.dispose(!0),c,l)}async dispose(c){this.privIsDisposed||c&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(c))}createRecognizerConfig(c){return new t.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,l,u,p){const d=u;return new t.DialogServiceAdapter(c,l,d,p,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(s.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(s.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(s.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(s.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}};return Jl.DialogServiceConnector=o,Jl}var ig={};Object.defineProperty(ig,"__esModule",{value:!0});ig.ActivityReceivedEventArgs=void 0;class cJ{constructor(t,r){this.privActivity=t,this.privAudioStream=r}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}}ig.ActivityReceivedEventArgs=cJ;var sg={},og={};Object.defineProperty(og,"__esModule",{value:!0});og.TurnStatusResponsePayload=void 0;class Hb{constructor(t){this.privMessageStatusResponse=JSON.parse(t)}static fromJSON(t){return new Hb(t)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}og.TurnStatusResponsePayload=Hb;Object.defineProperty(sg,"__esModule",{value:!0});sg.TurnStatusReceivedEventArgs=void 0;const lJ=og;class uJ{constructor(t){this.privTurnStatus=lJ.TurnStatusResponsePayload.fromJSON(t)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}}sg.TurnStatusReceivedEventArgs=uJ;var H2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServicePropertyChannel=void 0,function(t){t[t.UriQueryParameter=0]="UriQueryParameter"}(e.ServicePropertyChannel||(e.ServicePropertyChannel={}))})(H2);var U2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProfanityOption=void 0,function(t){t[t.Masked=0]="Masked",t[t.Removed=1]="Removed",t[t.Raw=2]="Raw"}(e.ProfanityOption||(e.ProfanityOption={}))})(U2);var eu={},XR;function pJ(){if(XR)return eu;XR=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.BaseAudioPlayer=void 0;const e=Vr,t=B(),r=Io;let n=class{constructor(s){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,s===void 0&&(s=t.AudioStreamFormat.getDefaultInputFormat()),this.init(s)}playAudioSample(s,o,a){try{this.ensureInitializedContext();const c=this.formatAudioData(s),l=new Float32Array(this.samples.length+c.length);l.set(this.samples,0),l.set(c,this.samples.length),this.samples=l,o&&o()}catch(c){a&&a(c)}}stopAudio(s,o){this.audioContext!==null&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then(()=>{s&&s()},a=>{o&&o(a)}),this.audioContext=null)}init(s){this.audioFormat=s,this.samples=new Float32Array}ensureInitializedContext(){if(this.audioContext===null){this.createAudioContext();const s=200;this.autoUpdateBufferTimer=setInterval(()=>{this.updateAudioBuffer()},s)}}createAudioContext(){this.audioContext=r.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(s){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(s),128);case 16:return this.formatArrayBuffer(new Int16Array(s),32768);case 32:return this.formatArrayBuffer(new Int32Array(s),2147483648);default:throw new e.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(s,o){const a=new Float32Array(s.length);for(let c=0;c<s.length;c++)a[c]=s[c]/o;return a}updateAudioBuffer(){if(this.samples.length===0)return;const s=this.audioFormat.channels,o=this.audioContext.createBufferSource(),a=this.samples.length/s,c=this.audioContext.createBuffer(s,a,this.audioFormat.samplesPerSec);for(let l=0;l<s;l++){let u=l;const p=c.getChannelData(l);for(let d=0;d<this.samples.length;d++,u+=s)p[d]=this.samples[u]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),o.buffer=c,o.connect(this.gainNode),o.start(this.startTime),this.startTime+=c.duration,this.samples=new Float32Array}async playAudio(s){this.audioContext===null&&this.createAudioContext();const o=this.audioContext.createBufferSource(),a=this.audioContext.destination;await this.audioContext.decodeAudioData(s,c=>{o.buffer=c,o.connect(a),o.start(0)})}};return eu.BaseAudioPlayer=n,eu}var ag={};Object.defineProperty(ag,"__esModule",{value:!0});ag.ConnectionMessageEventArgs=void 0;class dJ{constructor(t){this.privConnectionMessage=t}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}}ag.ConnectionMessageEventArgs=dJ;var cg={};Object.defineProperty(cg,"__esModule",{value:!0});cg.VoiceProfile=void 0;class fJ{constructor(t,r){this.privId=t,this.privProfileType=r}get profileId(){return this.privId}get profileType(){return this.privProfileType}}cg.VoiceProfile=fJ;var Lo={},ZR;function hJ(){if(ZR)return Lo;ZR=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.VoiceProfileEnrollmentCancellationDetails=Lo.VoiceProfileEnrollmentResult=void 0;const e=Z(),t=B();let r=class RC{constructor(s,o,a){this.privReason=s,this.privProperties=new t.PropertyCollection,this.privReason!==t.ResultReason.Canceled?o&&(this.privDetails=JSON.parse(o),this.privDetails.enrollmentStatus.toLowerCase()==="enrolling"&&(this.privReason=t.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(s){const o=[];for(const a of s.value){const c=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,l=new RC(c,null,null);l.privDetails=this.getIdentificationDetails(a),o.push(l)}return o}static FromVerificationProfileList(s){const o=[];for(const a of s.value){const c=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,l=new RC(c,null,null);l.privDetails=this.getVerificationDetails(a),o.push(l)}return o}static getIdentificationDetails(s){return{audioLength:s.audioLength?parseFloat(s.audioLength):0,audioSpeechLength:s.audioSpeechLength?parseFloat(s.audioSpeechLength):0,enrollmentStatus:s.enrollmentStatus,enrollmentsCount:s.enrollmentsCount||0,enrollmentsLength:s.enrollmentsLength?parseFloat(s.enrollmentsLength):0,enrollmentsSpeechLength:s.enrollmentsSpeechLength?parseFloat(s.enrollmentsSpeechLength):0,profileId:s.profileId||s.identificationProfileId,remainingEnrollmentsSpeechLength:s.remainingEnrollmentsSpeechLength?parseFloat(s.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(s){return{audioLength:s.audioLength?parseFloat(s.audioLength):0,audioSpeechLength:s.audioSpeechLength?parseFloat(s.audioSpeechLength):0,enrollmentStatus:s.enrollmentStatus,enrollmentsCount:s.enrollmentsCount,enrollmentsLength:s.enrollmentsLength?parseFloat(s.enrollmentsLength):0,enrollmentsSpeechLength:s.enrollmentsSpeechLength?parseFloat(s.enrollmentsSpeechLength):0,profileId:s.profileId||s.verificationProfileId,remainingEnrollmentsCount:s.remainingEnrollments||s.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:s.remainingEnrollmentsSpeechLength?parseFloat(s.remainingEnrollmentsSpeechLength):0}}};Lo.VoiceProfileEnrollmentResult=r;class n extends t.CancellationDetailsBase{constructor(s,o,a){super(s,o,a)}static fromResult(s){const o=t.CancellationReason.Error;let a=t.CancellationErrorCode.NoError;return s.properties&&(a=t.CancellationErrorCode[s.properties.getProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.NoError])]),new n(o,s.errorDetails,a)}}return Lo.VoiceProfileEnrollmentCancellationDetails=n,Lo}var jo={},eT;function vJ(){if(eT)return jo;eT=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.VoiceProfileCancellationDetails=jo.VoiceProfileResult=void 0;const e=Z(),t=ye,r=B();let n=class{constructor(o,a){this.privReason=o,this.privProperties=new r.PropertyCollection,o===r.ResultReason.Canceled&&(t.Contracts.throwIfNullOrUndefined(a,"statusText"),this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};jo.VoiceProfileResult=n;class i extends r.CancellationDetailsBase{constructor(o,a,c){super(o,a,c)}static fromResult(o){const a=r.CancellationReason.Error;let c=r.CancellationErrorCode.NoError;return o.properties&&(c=r.CancellationErrorCode[o.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new i(a,o.errorDetails,c)}}return jo.VoiceProfileCancellationDetails=i,jo}var tu={},tT;function mJ(){if(tT)return tu;tT=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.VoiceProfilePhraseResult=void 0;const e=ye,t=B();let r=class extends t.VoiceProfileResult{constructor(i,s,o,a){super(i,s),this.privPhrases=[],e.Contracts.throwIfNullOrUndefined(a,"phrase array"),this.privType=o,a&&a[0]&&(this.privPhrases=a)}get phrases(){return this.privPhrases}get type(){return this.privType}};return tu.VoiceProfilePhraseResult=r,tu}var ru={},rT;function gJ(){if(rT)return ru;rT=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.VoiceProfileClient=void 0;const e=Z(),t=P2(),r=ye,n=B();let i=class extends n.Recognizer{constructor(o){r.Contracts.throwIfNullOrUndefined(o,"speechConfig");const a=o;r.Contracts.throwIfNull(a,"speechConfig"),super(t.AudioConfig.fromStreamInput(n.AudioInputStream.createPushStream()),a.properties,new e.VoiceProfileConnectionFactory),this.privProperties=a.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){r.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}async createProfileAsync(o,a){const c=await this.privVoiceAdapter.createProfile(o,a);return new n.VoiceProfile(c[0],o)}async retrieveEnrollmentResultAsync(o){return this.privVoiceAdapter.retrieveEnrollmentResult(o)}async getAllProfilesAsync(o){return this.privVoiceAdapter.getAllProfiles(o)}async getActivationPhrasesAsync(o,a){return this.privVoiceAdapter.getActivationPhrases(o,a)}async enrollProfileAsync(o,a){const c=a;return r.Contracts.throwIfNullOrUndefined(c,"audioConfig"),this.audioConfig=a,this.privVoiceAdapter.SpeakerAudioSource=c,this.privVoiceAdapter.enrollProfile(o)}async deleteProfileAsync(o){return this.privVoiceAdapter.deleteProfile(o)}async resetProfileAsync(o){return this.privVoiceAdapter.resetProfile(o)}async close(){await this.dispose(!0)}createServiceRecognizer(o,a,c,l){const u=c;return new e.VoiceServiceRecognizer(o,a,u,l,this)}async dispose(o){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,o&&await super.dispose(o))}createRecognizerConfig(o){return new e.RecognizerConfig(o,this.properties)}getResult(o,a){return new n.VoiceProfileResult(o.ok?a:n.ResultReason.Canceled,o.statusText)}};return ru.VoiceProfileClient=i,ru}var nu={},nT;function yJ(){if(nT)return nu;nT=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.SpeakerRecognizer=void 0;const e=Z(),t=ye,r=B();let n=class extends r.Recognizer{constructor(s,o){t.Contracts.throwIfNullOrUndefined(s,"speechConfig");const a=s;t.Contracts.throwIfNullOrUndefined(a,"speechConfig"),super(o,a.properties,new e.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=o,t.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=a.properties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(s){t.Contracts.throwIfNullOrWhitespace(s,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,s)}get properties(){return this.privProperties}async recognizeOnceAsync(s){return t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(s)}async close(){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(s){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const o=await this.privReco.recognizeSpeaker(s);return await this.implRecognizerStop(),o}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(s){return new e.RecognizerConfig(s,this.privProperties)}createServiceRecognizer(s,o,a,c){const l=a;return new e.SpeakerServiceRecognizer(s,o,l,c,this)}async dispose(s){this.privDisposedSpeakerRecognizer||s&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(s))}};return nu.SpeakerRecognizer=n,nu}var iu={},iT;function SJ(){if(iT)return iu;iT=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.SpeakerIdentificationModel=void 0;const e=ye,t=B();let r=class q2{constructor(i){if(this.privVoiceProfiles=[],this.privProfileIds=[],e.Contracts.throwIfNullOrUndefined(i,"VoiceProfiles"),i.length===0)throw new Error("Empty Voice Profiles array");for(const s of i){if(s.profileType!==t.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+s.profileId);this.privVoiceProfiles.push(s),this.privProfileIds.push(s.profileId)}}static fromProfiles(i){return new q2(i)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}};return iu.SpeakerIdentificationModel=r,iu}var su={},sT;function CJ(){if(sT)return su;sT=1,Object.defineProperty(su,"__esModule",{value:!0}),su.SpeakerVerificationModel=void 0;const e=ye,t=B();let r=class W2{constructor(i){if(e.Contracts.throwIfNullOrUndefined(i,"VoiceProfile"),i.profileType===t.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=i}static fromProfile(i){return new W2(i)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===t.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}};return su.SpeakerVerificationModel=r,su}var ou={},Ub={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageIdMode=void 0,function(t){t[t.AtStart=0]="AtStart",t[t.Continuous=1]="Continuous"}(e.LanguageIdMode||(e.LanguageIdMode={}))})(Ub);var oT;function wJ(){if(oT)return ou;oT=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.AutoDetectSourceLanguageConfig=void 0;const e=Z(),t=ye,r=B(),n=Ub;let i=class Ch{constructor(){this.privProperties=new r.PropertyCollection,this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=n.LanguageIdMode.AtStart}static fromOpenRange(){const o=new Ch;return o.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e.AutoDetectSourceLanguagesOpenRangeOptionName),o}static fromLanguages(o){t.Contracts.throwIfArrayEmptyOrWhitespace(o,"languages");const a=new Ch;return a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,o.join()),a}static fromSourceLanguageConfigs(o){if(o.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const a=new Ch,c=[];return o.forEach(l=>{if(c.push(l.language),l.endpointId!==void 0&&l.endpointId!==""){const u=l.language+r.PropertyId.SpeechServiceConnection_EndpointId.toString();a.properties.setProperty(u,l.endpointId)}}),a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,c.join()),a}get properties(){return this.privProperties}set mode(o){o===n.LanguageIdMode.Continuous?(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=o}};return ou.AutoDetectSourceLanguageConfig=i,ou}var lg={};Object.defineProperty(lg,"__esModule",{value:!0});lg.AutoDetectSourceLanguageResult=void 0;const aT=ye;class Rv{constructor(t,r){aT.Contracts.throwIfNullOrUndefined(t,"language"),aT.Contracts.throwIfNullOrUndefined(r,"languageDetectionConfidence"),this.privLanguage=t,this.privLanguageDetectionConfidence=r}static fromResult(t){return new Rv(t.language,t.languageDetectionConfidence)}static fromConversationTranscriptionResult(t){return new Rv(t.language,t.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}}lg.AutoDetectSourceLanguageResult=Rv;var ug={};Object.defineProperty(ug,"__esModule",{value:!0});ug.SourceLanguageConfig=void 0;const bJ=ye;class qb{constructor(t,r){bJ.Contracts.throwIfNullOrUndefined(t,"language"),this.privLanguage=t,this.privEndpointId=r}static fromLanguage(t,r){return new qb(t,r)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}}ug.SourceLanguageConfig=qb;var dS={},cT;function PJ(){return cT||(cT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeakerRecognitionCancellationDetails=e.SpeakerRecognitionResult=e.SpeakerRecognitionResultType=void 0;const t=Z(),r=B();var n;(function(o){o[o.Verify=0]="Verify",o[o.Identify=1]="Identify"})(n=e.SpeakerRecognitionResultType||(e.SpeakerRecognitionResultType={}));class i{constructor(a,c=r.ResultReason.RecognizedSpeaker,l=r.CancellationErrorCode.NoError,u=""){this.privProperties=new r.PropertyCollection;const p=a.scenario==="TextIndependentIdentification"?n.Identify:n.Verify;this.privReason=c,this.privReason!==r.ResultReason.Canceled?p===n.Identify?(this.privProfileId=a.identificationResult.identifiedProfile.profileId,this.privScore=a.identificationResult.identifiedProfile.score,this.privReason=r.ResultReason.RecognizedSpeakers):(this.privScore=a.verificationResult.score,a.verificationResult.recognitionResult.toLowerCase()!=="accept"&&(this.privReason=r.ResultReason.NoMatch),a.verificationResult.profileId!==void 0&&a.verificationResult.profileId!==""&&(this.privProfileId=a.verificationResult.profileId)):(this.privErrorDetails=u,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[l])),this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(a))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}}e.SpeakerRecognitionResult=i;class s extends r.CancellationDetailsBase{constructor(a,c,l){super(a,c,l)}static fromResult(a){const c=r.CancellationReason.Error;let l=r.CancellationErrorCode.NoError;return a.properties&&(l=r.CancellationErrorCode[a.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new s(c,a.errorDetails,l)}}e.SpeakerRecognitionCancellationDetails=s}(dS)),dS}var fS={},zo={},lT;function V2(){if(lT)return zo;lT=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.ConversationImpl=zo.Conversation=void 0;const e=Z(),t=pe(),r=ye,n=B();let i=class{constructor(){}static createConversationAsync(a,c,l,u){r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),!a.subscriptionKey&&!a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));let p,d,f;return typeof c=="string"?(p=new s(a,c),t.marshalPromiseToCallbacks((async()=>{})(),l,u)):(p=new s(a),d=c,f=l,p.createConversationAsync(()=>{d&&d()},h=>{f&&f(h)})),p}};zo.Conversation=i;class s extends i{constructor(a,c){if(super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=p=>{var d;this.privIsConnected=!0;try{(d=this.privConversationTranslator)!=null&&d.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,p)}catch{}},this.onDisconnected=p=>{var d;try{(d=this.privConversationTranslator)!=null&&d.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,p)}catch{}finally{this.close(!1)}},this.onCanceled=(p,d)=>{var f;try{(f=this.privConversationTranslator)!=null&&f.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,d)}catch{}},this.onParticipantUpdateCommandReceived=(p,d)=>{try{const f=this.privParticipants.getParticipant(d.id);if(f!==void 0){switch(d.key){case e.ConversationTranslatorCommandTypes.changeNickname:f.displayName=d.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:f.isUsingTts=d.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:f.profanity=d.value;break;case e.ConversationTranslatorCommandTypes.setMute:f.isMuted=d.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:f.translateToLanguages=d.value;break}this.privParticipants.addOrUpdateParticipant(f),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(f)],d.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(p,d)=>{try{this.privParticipants.participants.forEach(f=>f.isMuted=f.isHost?!1:d.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),d.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(p,d)=>{try{const f=this.privParticipants.addOrUpdateParticipant(d.participant);f!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(f)],d.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(p,d)=>{try{const f=this.privParticipants.getParticipant(d.participant.id);f!==void 0&&(this.privParticipants.deleteParticipant(d.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(f)],d.sessionId)))}catch{}},this.onTranslationReceived=(p,d)=>{try{switch(d.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break}}catch{}},this.onParticipantsListReceived=(p,d)=>{var f;try{if(d.sessionToken!==void 0&&d.sessionToken!==null&&(this.privRoom.token=d.sessionToken),this.privParticipants.participants=[...d.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),d.sessionId)),this.me.isHost){const h=(f=this.privConversationTranslator)==null?void 0:f.properties.getProperty(n.PropertyId.ConversationTranslator_Name);h!==void 0&&h.length>0&&h!==this.me.displayName&&this.changeNicknameAsync(h)}}catch{}},this.onConversationExpiration=(p,d)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,d)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),c)this.privConversationId=c;else{a.targetLanguages.length===0&&a.addTargetLanguage(this.privLanguage),a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceResponse_ProfanityOption])||a.setProfanity(n.ProfanityOption.Masked);let d=a.getProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name]);d==null&&(d="Host"),r.Contracts.throwIfNullOrTooLong(d,"nickname",50),r.Contracts.throwIfNullOrTooShort(d,"nickname",2),a.setProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name],d)}this.privConfig=a;const u=a;r.Contracts.throwIfNull(u,"speechConfig"),this.privProperties=u.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,c;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(c=this.privParticipants.me)==null?void 0:c.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const a=this.conversationId,c=this.participants.map(p=>({id:p.id,preferredLanguage:p.preferredLanguage,voice:p.voice})),l={};for(const p of e.ConversationConnectionConfig.transcriptionEventKeys){const d=this.properties.getProperty(p,"");d!==""&&(l[p]=d)}return{id:a,participants:c,conversationProperties:l}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}set conversationTranslator(a){this.privConversationTranslator=a}onToken(a){this.privConversationTranslator.onToken(a)}createConversationAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),this.privManager.createOrJoin(this.privProperties,void 0,l=>{l||this.handleError(new Error(this.privErrors.permissionDeniedConnect),c),this.privRoom=l,this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}startConversationAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=e.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}addParticipantAsync(a,c,l){r.Contracts.throwIfNullOrUndefined(a,"Participant"),t.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),c,l)}joinConversationAsync(a,c,l,u,p){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(c,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(l,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,d=>{r.Contracts.throwIfNullOrUndefined(d,this.privErrors.permissionDeniedConnect),this.privRoom=d,this.privConfig.authorizationToken=d.cognitiveSpeechAuthToken,u&&u(d.cognitiveSpeechAuthToken)},d=>{this.handleError(d,p)})}catch(d){this.handleError(d,p)}}deleteConversationAsync(a,c){t.marshalPromiseToCallbacks(this.deleteConversationImplAsync(),a,c)}async deleteConversationImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(a,c){t.marshalPromiseToCallbacks(this.endConversationImplAsync(),a,c)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(c,l)},p=>{this.handleError(p,l)})}catch(u){this.handleError(u,l)}}removeParticipantAsync(a,c,l){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))t.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),c,l);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),l);let u="";typeof a=="string"?u=a:a.hasOwnProperty("id")?u=a.id:a.hasOwnProperty("userId")&&(u=a.userId),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(d=>d.id===u)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(u),()=>{this.handleCallback(c,l)},d=>{this.handleError(d,l)})}}catch(u){this.handleError(u,l)}}unlockConversationAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(c,l)},p=>{this.handleError(p,l)})}catch(u){this.handleError(u,l)}}sendTextMessageAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}setTranslatedLanguagesAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}changeNicknameAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const l=this.conversationInfo;return l.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(l,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const c=this.conversationInfo;return c.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(c,"leave")}async close(a){var c;try{this.privIsConnected=!1,await((c=this.privConversationRecognizer)==null?void 0:c.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(l){throw l}a&&this.dispose()}handleCallback(a,c){if(a){try{a()}catch(l){c&&c(l)}a=void 0}}handleError(a,c){if(c)if(a instanceof Error){const l=a;c(l.name+": "+l.message)}else c(a)}toParticipants(a){const c=this.privParticipants.participants.map(l=>this.toParticipant(l));return a?c:c.filter(l=>l.isHost===!1)}toParticipant(a){return new n.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,c){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:c})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return zo.ConversationImpl=s,zo}var pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.ConversationCommon=void 0;class _J{constructor(t){this.privAudioConfig=t}handleCallback(t,r){if(t){try{t()}catch(n){r&&r(n)}t=void 0}}handleError(t,r){if(r)if(t instanceof Error){const n=t;r(n.name+": "+n.message)}else r(t)}}pg.ConversationCommon=_J;var au={},uT;function EJ(){if(uT)return au;uT=1,Object.defineProperty(au,"__esModule",{value:!0}),au.ConversationExpirationEventArgs=void 0;const e=B();let t=class extends e.SessionEventArgs{constructor(n,i){super(i),this.privExpirationTime=n}get expirationTime(){return this.privExpirationTime}};return au.ConversationExpirationEventArgs=t,au}var cu={},pT;function RJ(){if(pT)return cu;pT=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.ConversationParticipantsChangedEventArgs=void 0;const e=B();let t=class extends e.SessionEventArgs{constructor(n,i,s){super(s),this.privReason=n,this.privParticipant=i}get reason(){return this.privReason}get participants(){return this.privParticipant}};return cu.ConversationParticipantsChangedEventArgs=t,cu}var lu={},dT;function TJ(){if(dT)return lu;dT=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.ConversationTranslationCanceledEventArgs=void 0;const e=Kd();let t=class extends e.CancellationEventArgsBase{};return lu.ConversationTranslationCanceledEventArgs=t,lu}var uu={},fT;function kJ(){if(fT)return uu;fT=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.ConversationTranslationEventArgs=void 0;const e=B();let t=class extends e.RecognitionEventArgs{constructor(n,i,s){super(i,s),this.privResult=n}get result(){return this.privResult}};return uu.ConversationTranslationEventArgs=t,uu}var pu={},hT;function IJ(){if(hT)return pu;hT=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.ConversationTranslationResult=void 0;const e=k2();let t=class extends e.TranslationRecognitionResult{constructor(n,i,s,o,a,c,l,u,p,d,f){super(i,o,a,c,l,u,void 0,void 0,p,d,f),this.privId=n,this.privOrigLang=s}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}};return pu.ConversationTranslationResult=t,pu}var hS={},du={},Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.StringUtils=void 0;class AJ{static formatString(t,r){if(!t)return"";if(!r)return t;let n="",i="";const s=c=>{n+=c},o=c=>{i+=c};let a=s;for(let c=0;c<t.length;c++){const l=t[c],u=c+1<t.length?t[c+1]:"";switch(l){case"{":u==="{"?(a("{"),c++):a=o;break;case"}":u==="}"?(a("}"),c++):(r.hasOwnProperty(i)&&(n+=r[i]),a=s,i="");break;default:a(l);break}}return n}}Qd.StringUtils=AJ;var vT;function xJ(){if(vT)return du;vT=1,Object.defineProperty(du,"__esModule",{value:!0}),du.ConversationTranslatorConnectionFactory=void 0;const e=Dr(),t=Qd,r=ye,n=B(),i=Or,s=Ai,o=xi(),a=Z();let c=class Y2 extends o.ConnectionFactoryBase{constructor(u){super(),r.Contracts.throwIfNullOrUndefined(u,"convGetter"),this.privConvGetter=u}create(u,p,d){const f=u.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase()==="TRUE",h=this.privConvGetter().room,v=h.cognitiveSpeechRegion||u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Region,""),g={hostSuffix:o.ConnectionFactoryBase.getHostSuffix(v),path:Y2.CTS_VIRT_MIC_PATH,region:encodeURIComponent(v)};g[s.QueryParameterNames.Language]=encodeURIComponent(u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage,"")),g[s.QueryParameterNames.CtsMeetingId]=encodeURIComponent(h.roomId),g[s.QueryParameterNames.CtsDeviceId]=encodeURIComponent(h.participantId),g[s.QueryParameterNames.CtsIsParticipant]=h.isHost?"":"&"+s.QueryParameterNames.CtsIsParticipant;let m="";const y={},S={};if(f){m=u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Endpoint),m||(m="wss://"+u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"),m=t.StringUtils.formatString(m,g);const b=new URL(m);b.searchParams.forEach((_,R)=>{y[R]=_}),new a.TranscriberConnectionFactory().setQueryParams(y,u,m),y[s.QueryParameterNames.CtsMeetingId]=g[s.QueryParameterNames.CtsMeetingId],y[s.QueryParameterNames.CtsDeviceId]=g[s.QueryParameterNames.CtsDeviceId],h.isHost||(y[s.QueryParameterNames.CtsIsParticipant]=""),s.QueryParameterNames.Format in y||(y[s.QueryParameterNames.Format]="simple"),b.searchParams.forEach((_,R)=>{b.searchParams.set(R,y[R]),delete y[R]}),m=b.toString()}else{const b=new a.TranslationConnectionFactory;m=b.getEndpointUrl(u,!0),m=t.StringUtils.formatString(m,g),b.setQueryParams(y,u,m)}S[i.HeaderNames.ConnectionId]=d,S[e.RestConfigBase.configParams.token]=h.token,p.token&&(S[p.headerName]=p.token);const C=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase()==="TRUE";return new e.WebsocketConnection(m,y,S,new a.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(u),C,d)}};return du.ConversationTranslatorConnectionFactory=c,c.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio",du}var mT;function OJ(){return mT||(mT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConversationTranslator=e.SpeechState=void 0;const t=Z(),r=xJ(),n=pe(),i=ye,s=B(),o=V2(),a=Wb();var c;(function(p){p[p.Inactive=0]="Inactive",p[p.Connecting=1]="Connecting",p[p.Connected=2]="Connected"})(c=e.SpeechState||(e.SpeechState={}));class l extends s.TranslationRecognizer{constructor(d,f,h,v){super(d,f,new r.ConversationTranslatorConnectionFactory(v)),this.privSpeechState=c.Inactive,h&&(this.privTranslator=h,this.sessionStarted=()=>{this.privSpeechState=c.Connected},this.sessionStopped=()=>{this.privSpeechState=c.Inactive},this.recognizing=(g,m)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,m)},this.recognized=async(g,m)=>{var y;(y=m.result)!=null&&y.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(m.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,m)},this.canceled=async()=>{if(this.privSpeechState!==c.Inactive)try{await this.cancelSpeech()}catch{this.privSpeechState=c.Inactive}})}get state(){return this.privSpeechState}set state(d){this.privSpeechState=d}set authentication(d){this.privReco.authentication=d}onConnection(){this.privSpeechState=c.Connected}async onCancelSpeech(){this.privSpeechState=c.Inactive,await this.cancelSpeech()}fireCancelEvent(d){try{if(this.privTranslator.canceled){const f=new a.ConversationTranslationCanceledEventArgs(s.CancellationReason.Error,d,s.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,f)}}catch{}}async cancelSpeech(){var d;try{this.stopContinuousRecognitionAsync(),await((d=this.privReco)==null?void 0:d.disconnect()),this.privSpeechState=c.Inactive}catch{}}}class u extends a.ConversationCommon{constructor(d){super(d),this.privErrors=t.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new s.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){var d;return(d=this.privConversation)==null?void 0:d.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer||this.privIsSpeaking||this.privCTRecognizer.state===c.Connected||this.privCTRecognizer.state===c.Connecting||this.privConversation.isMutedByHost)}onToken(d){this.privCTRecognizer.authentication=d}setServiceProperty(d,f){const h=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));h[d]=f,this.privProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(h))}joinConversationAsync(d,f,h,v,g){try{if(typeof d=="string"){i.Contracts.throwIfNullOrUndefined(d,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(f,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),g);let m=h;(m==null||m==="")&&(m=t.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=s.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(s.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(m),this.privSpeechTranslationConfig.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage],m),this.privSpeechTranslationConfig.setProperty(s.PropertyId[s.PropertyId.ConversationTranslator_Name],f);const y=[s.PropertyId.SpeechServiceConnection_Host,s.PropertyId.ConversationTranslator_Host,s.PropertyId.SpeechServiceConnection_Endpoint,s.PropertyId.SpeechServiceConnection_ProxyHostName,s.PropertyId.SpeechServiceConnection_ProxyPassword,s.PropertyId.SpeechServiceConnection_ProxyPort,s.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const C of y){const b=this.privProperties.getProperty(C);if(b){const T=typeof C=="string"?C:s.PropertyId[C];this.privSpeechTranslationConfig.setProperty(T,b)}}const S=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));for(const C of Object.keys(S))this.privSpeechTranslationConfig.setServiceProperty(C,S[C],s.ServicePropertyChannel.UriQueryParameter);this.privConversation=new o.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(d,f,m,C=>{C||this.handleError(new Error(this.privErrors.permissionDeniedConnect),g),this.privSpeechTranslationConfig.authorizationToken=C,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync(()=>{this.handleCallback(v,g)},b=>{this.handleError(b,g)})},C=>{this.handleError(C,g)})}else typeof d=="object"?(i.Contracts.throwIfNullOrUndefined(d,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(f,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(s.PropertyId.ConversationTranslator_Name,f),this.privConversation=d,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=d.config,this.handleCallback(h,v)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),v)}catch(m){this.handleError(m,typeof h=="string"?g:v)}}leaveConversationAsync(d,f){n.marshalPromiseToCallbacks((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),d,f)}sendTextMessageAsync(d,f,h){try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}",d)),this.privConversation.sendTextMessageAsync(d,f,h)}catch(v){this.handleError(v,h)}}startTranscribingAsync(d,f){n.marshalPromiseToCallbacks((async()=>{try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privCTRecognizer===void 0&&await this.connectTranslatorRecognizer(),i.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),f),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(h){throw this.privIsSpeaking=!1,await this.cancelSpeech(),h}})(),d,f)}stopTranscribingAsync(d,f){n.marshalPromiseToCallbacks((async()=>{try{if(!this.privIsSpeaking){await this.cancelSpeech();return}this.privIsSpeaking=!1,await new Promise((h,v)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(h,v)})}catch{await this.cancelSpeech()}})(),d,f)}isDisposed(){return this.privIsDisposed}dispose(d,f,h){n.marshalPromiseToCallbacks((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),f,h)}async cancelSpeech(){var d;try{this.privIsSpeaking=!1,await((d=this.privCTRecognizer)==null?void 0:d.onCancelSpeech()),this.privCTRecognizer=void 0}catch{}}async connectTranslatorRecognizer(){try{this.privAudioConfig===void 0&&(this.privAudioConfig=s.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key],"");const d=()=>this.privConversation;this.privCTRecognizer=new l(this.privSpeechTranslationConfig,this.privAudioConfig,this,d)}catch(d){throw await this.cancelSpeech(),d}}startContinuousRecognition(){return new Promise((d,f)=>{this.privCTRecognizer.startContinuousRecognitionAsync(d,f)})}}e.ConversationTranslator=u}(hS)),hS}var fu={},gT;function DJ(){if(gT)return fu;gT=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.ConversationTranscriber=void 0;const e=Z(),t=pe(),r=ye,n=B();let i=class K2 extends n.Recognizer{constructor(o,a){const c=o;r.Contracts.throwIfNull(c,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(c.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,c.properties,new e.ConversationTranscriberConnectionFactory),this.privProperties.setProperty(n.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(o,a,c){const l=o;return a.properties.mergeTo(l.properties),new K2(o,c)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){r.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,n.OutputFormat[n.OutputFormat.Simple])===n.OutputFormat[n.OutputFormat.Simple]?n.OutputFormat.Simple:n.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(o,a){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),o,a)}stopTranscribingAsync(o,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}close(o,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),o,a)}async dispose(o){this.privDisposedRecognizer||(o&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(o))}createRecognizerConfig(o){return new e.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,a,c,l){const u=c;return l.isSpeakerDiarizationEnabled=!0,new e.ConversationTranscriptionServiceRecognizer(o,a,u,l,this)}};return fu.ConversationTranscriber=i,fu}var $o={},yT;function MJ(){if(yT)return $o;yT=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.Participant=$o.User=void 0;const e=B();class t{constructor(i){this.privUserId=i}get userId(){return this.privUserId}}$o.User=t;class r{constructor(i,s,o,a,c,l,u,p){this.privId=i,this.privAvatar=s,this.privDisplayName=o,this.privIsHost=a,this.privIsMuted=c,this.privIsUsingTts=l,this.privPreferredLanguage=u,this.privVoice=p,this.privProperties=new e.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(i,s,o){return new r(i,"",i,!1,!1,!1,s,o)}}return $o.Participant=r,$o}var G2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParticipantChangedReason=void 0,function(t){t[t.JoinedConversation=0]="JoinedConversation",t[t.LeftConversation=1]="LeftConversation",t[t.Updated=2]="Updated"}(e.ParticipantChangedReason||(e.ParticipantChangedReason={}))})(G2);var Fo={},ST;function NJ(){if(ST)return Fo;ST=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.MeetingImpl=Fo.Meeting=void 0;const e=Z(),t=pe(),r=ye,n=B();let i=class{constructor(){}static createMeetingAsync(a,c,l,u){if(r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),r.Contracts.throwIfNull(c,"meetingId"),c.length===0)throw new Error("meetingId cannot be empty");!a.subscriptionKey&&!a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const p=new s(a,c);return t.marshalPromiseToCallbacks((async()=>{})(),l,u),p}};Fo.Meeting=i;class s extends i{constructor(a,c){super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=p=>{var d;this.privIsConnected=!0;try{(d=this.privConversationTranslator)!=null&&d.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,p)}catch{}},this.onDisconnected=p=>{var d;try{(d=this.privConversationTranslator)!=null&&d.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,p)}catch{}finally{this.close(!1)}},this.onCanceled=(p,d)=>{var f;try{(f=this.privConversationTranslator)!=null&&f.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,d)}catch{}},this.onParticipantUpdateCommandReceived=(p,d)=>{try{const f=this.privParticipants.getParticipant(d.id);if(f!==void 0){switch(d.key){case e.ConversationTranslatorCommandTypes.changeNickname:f.displayName=d.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:f.isUsingTts=d.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:f.profanity=d.value;break;case e.ConversationTranslatorCommandTypes.setMute:f.isMuted=d.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:f.translateToLanguages=d.value;break}this.privParticipants.addOrUpdateParticipant(f),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(f)],d.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(p,d)=>{try{this.privParticipants.participants.forEach(f=>f.isMuted=f.isHost?!1:d.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),d.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(p,d)=>{try{const f=this.privParticipants.addOrUpdateParticipant(d.participant);f!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(f)],d.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(p,d)=>{try{const f=this.privParticipants.getParticipant(d.participant.id);f!==void 0&&(this.privParticipants.deleteParticipant(d.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(f)],d.sessionId)))}catch{}},this.onTranslationReceived=(p,d)=>{try{switch(d.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break}}catch{}},this.onParticipantsListReceived=(p,d)=>{var f;try{if(d.sessionToken!==void 0&&d.sessionToken!==null&&(this.privRoom.token=d.sessionToken),this.privParticipants.participants=[...d.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),d.sessionId)),this.me.isHost){const h=(f=this.privConversationTranslator)==null?void 0:f.properties.getProperty(n.PropertyId.ConversationTranslator_Name);h!==void 0&&h.length>0&&h!==this.me.displayName&&this.changeNicknameAsync(h)}}catch{}},this.onConversationExpiration=(p,d)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,d)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=c,this.privConfig=a;const u=a;r.Contracts.throwIfNull(u,"speechConfig"),this.privProperties=u.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,c;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(c=this.privParticipants.me)==null?void 0:c.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const a=this.meetingId,c=this.participants.map(p=>({id:p.id,preferredLanguage:p.preferredLanguage,voice:p.voice})),l={};for(const p of e.ConversationConnectionConfig.transcriptionEventKeys){const d=this.properties.getProperty(p,"");d!==""&&(l[p]=d)}return{id:a,participants:c,meetingProperties:l}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}createMeetingAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),this.privManager.createOrJoin(this.privProperties,void 0,l=>{l||this.handleError(new Error(this.privErrors.permissionDeniedConnect),c),this.privRoom=l,this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}startMeetingAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}addParticipantAsync(a,c,l){r.Contracts.throwIfNullOrUndefined(a,"Participant"),t.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),c,l)}joinMeetingAsync(a,c,l,u,p){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(c,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(l,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,d=>{r.Contracts.throwIfNullOrUndefined(d,this.privErrors.permissionDeniedConnect),this.privRoom=d,this.privConfig.authorizationToken=d.cognitiveSpeechAuthToken,u&&u(d.cognitiveSpeechAuthToken)},d=>{this.handleError(d,p)})}catch(d){this.handleError(d,p)}}deleteMeetingAsync(a,c){t.marshalPromiseToCallbacks(this.deleteMeetingImplAsync(),a,c)}async deleteMeetingImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(a,c){t.marshalPromiseToCallbacks(this.endMeetingImplAsync(),a,c)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(c,l)},p=>{this.handleError(p,l)})}catch(u){this.handleError(u,l)}}removeParticipantAsync(a,c,l){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))t.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),c,l);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),l);let u="";typeof a=="string"?u=a:a.hasOwnProperty("id")?u=a.id:a.hasOwnProperty("userId")&&(u=a.userId),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(d=>d.id===u)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(u),()=>{this.handleCallback(c,l)},d=>{this.handleError(d,l)})}}catch(u){this.handleError(u,l)}}unlockMeetingAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(c,l)},p=>{this.handleError(p,l)})}catch(u){this.handleError(u,l)}}sendTextMessageAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}setTranslatedLanguagesAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}changeNicknameAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const l=this.meetingInfo;return l.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(l,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const c=this.meetingInfo;return c.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(c,"leave")}async close(a){var c;try{this.privIsConnected=!1,await((c=this.privConversationRecognizer)==null?void 0:c.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(l){throw l}a&&this.dispose()}handleCallback(a,c){if(a){try{a()}catch(l){c&&c(l)}a=void 0}}handleError(a,c){if(c)if(a instanceof Error){const l=a;c(l.name+": "+l.message)}else c(a)}toParticipants(a){const c=this.privParticipants.participants.map(l=>this.toParticipant(l));return a?c:c.filter(l=>l.isHost===!1)}toParticipant(a){return new n.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,c){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:c})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return Fo.MeetingImpl=s,Fo}var hu={},CT;function LJ(){if(CT)return hu;CT=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.MeetingTranscriptionCanceledEventArgs=void 0;const e=Kd();class t extends e.CancellationEventArgsBase{}return hu.MeetingTranscriptionCanceledEventArgs=t,hu}var vu={},wT;function jJ(){if(wT)return vu;wT=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.MeetingTranscriber=void 0;const e=Z(),t=pe(),r=ye,n=B(),i=Wb();let s=class{constructor(a){this.privAudioConfig=a,this.privProperties=new n.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return n.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}joinMeetingAsync(a,c,l){const u=a;r.Contracts.throwIfNullOrUndefined(i.MeetingImpl,"Meeting"),this.privRecognizer=new e.TranscriberRecognizer(a.config,this.privAudioConfig),r.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),t.marshalPromiseToCallbacks(u.connectTranscriberRecognizer(this.privRecognizer),c,l)}startTranscribingAsync(a,c){this.privRecognizer.startContinuousRecognitionAsync(a,c)}stopTranscribingAsync(a,c){this.privRecognizer.stopContinuousRecognitionAsync(a,c)}leaveMeetingAsync(a,c){this.privRecognizer.disconnectCallbacks(),t.marshalPromiseToCallbacks((async()=>{})(),a,c)}close(a,c){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),a,c)}async dispose(a){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),a&&(this.privDisposedRecognizer=!0))}};return vu.MeetingTranscriber=s,vu}var mu={},bT;function zJ(){if(bT)return mu;bT=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.ConversationTranscriptionResult=void 0;const e=B();let t=class extends e.RecognitionResult{constructor(n,i,s,o,a,c,l,u,p,d,f){super(n,i,s,o,a,c,l,p,d,f),this.privSpeakerId=u}get speakerId(){return this.privSpeakerId}};return mu.ConversationTranscriptionResult=t,mu}var PT;function Wb(){return PT||(PT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=V2();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return t.Conversation}}),Object.defineProperty(e,"ConversationImpl",{enumerable:!0,get:function(){return t.ConversationImpl}});var r=pg;Object.defineProperty(e,"ConversationCommon",{enumerable:!0,get:function(){return r.ConversationCommon}});var n=EJ();Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return n.ConversationExpirationEventArgs}});var i=RJ();Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return i.ConversationParticipantsChangedEventArgs}});var s=TJ();Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return s.ConversationTranslationCanceledEventArgs}});var o=kJ();Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return o.ConversationTranslationEventArgs}});var a=IJ();Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return a.ConversationTranslationResult}});var c=OJ();Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return c.ConversationTranslator}});var l=DJ();Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return l.ConversationTranscriber}});var u=MJ();Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return u.Participant}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return u.User}});var p=G2;Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return p.ParticipantChangedReason}});var d=NJ();Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return d.Meeting}}),Object.defineProperty(e,"MeetingImpl",{enumerable:!0,get:function(){return d.MeetingImpl}});var f=LJ();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return f.MeetingTranscriptionCanceledEventArgs}});var h=jJ();Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return h.MeetingTranscriber}});var v=zJ();Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return v.ConversationTranscriptionResult}})}(fS)),fS}var Bo={},_T;function Vb(){if(_T)return Bo;_T=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.SynthesisRequest=Bo.Synthesizer=void 0;const e=Z(),t=pe(),r=ye,n=B();let i=class Q2{constructor(a){const c=a;r.Contracts.throwIfNull(c,"speechConfig"),this.privProperties=c.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new t.Queue}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(n.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===e.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(a){const c={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-AvaMultilingualNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let l=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),u=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthVoice,""),p=Q2.XMLEncode(a);return this.autoDetectSourceLanguage?l="en-US":u=u||c[l],u&&(p=`<voice name='${u}'>${p}</voice>`),p=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${l}'>${p}</speak>`,p}async dispose(a){this.privDisposed||(a&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const a=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(a.text,a.isSSML,a.requestId,a.cb,a.err,a.dataStream)}}createSynthesizerConfig(a){return new e.SynthesizerConfig(a,this.privProperties)}implCommonSynthesizeSetup(){let a=typeof window<"u"?"Browser":"Node",c="unknown",l="unknown";typeof navigator<"u"&&(a=a+"/"+navigator.platform,c=navigator.userAgent,l=navigator.appVersion);const u=this.createSynthesizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(a,c,l)))),p=this.privProperties.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0),d=p&&p!==""?new e.CognitiveSubscriptionKeyAuthentication(p):new e.CognitiveTokenAuthentication(()=>{const f=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(f)},()=>{const f=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(f)});this.privAdapter=this.createSynthesisAdapter(d,this.privConnectionFactory,u),this.privRestAdapter=this.createRestSynthesisAdapter(d,u)}static XMLEncode(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}};Bo.Synthesizer=i;class s{constructor(a,c,l,u,p,d){this.requestId=a,this.text=c,this.isSSML=l,this.cb=u,this.err=p,this.dataStream=d}}return Bo.SynthesisRequest=s,Bo}var gu={},ET;function $J(){if(ET)return gu;ET=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.SpeechSynthesizer=void 0;const e=Z(),t=pe(),r=Yd,n=Ao,i=Ur,s=ye,o=B(),a=Vb();let c=class J2 extends o.Synthesizer{constructor(u,p){super(u),p!==null&&(p===void 0?this.audioConfig=typeof window>"u"?void 0:o.AudioConfig.fromDefaultSpeakerOutput():this.audioConfig=p),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(u,p,d){const f=u;return p.properties.mergeTo(f.properties),new J2(u,d)}speakTextAsync(u,p,d,f){this.speakImpl(u,!1,p,d,f)}speakSsmlAsync(u,p,d,f){this.speakImpl(u,!0,p,d,f)}async getVoicesAsync(u=""){return this.getVoices(u)}close(u,p){s.Contracts.throwIfDisposed(this.privDisposed),t.marshalPromiseToCallbacks(this.dispose(!0),u,p)}get internalData(){return this.privAdapter}createSynthesisAdapter(u,p,d){return new e.SpeechSynthesisAdapter(u,p,d,this,this.audioConfig)}createRestSynthesisAdapter(u,p){return new e.SynthesisRestAdapter(p,u)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(o.SpeechSynthesisOutputFormat[this.properties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(u,p,d,f,h){try{s.Contracts.throwIfDisposed(this.privDisposed);const v=t.createNoDashGuid();let g;h instanceof o.PushAudioOutputStreamCallback?g=new i.PushAudioOutputStreamImpl(h):h instanceof o.PullAudioOutputStream?g=h:h!==void 0?g=new r.AudioFileWriter(h):g=void 0,this.synthesisRequestQueue.enqueue(new a.SynthesisRequest(v,u,p,m=>{if(this.privSynthesizing=!1,d)try{d(m)}catch(y){f&&f(y)}d=void 0,this.adapterSpeak().catch(()=>{})},m=>{f&&f(m)},g)),this.adapterSpeak().catch(()=>{})}catch(v){if(f)if(v instanceof Error){const g=v;f(g.name+": "+g.message)}else f(v);this.dispose(!0).catch(()=>{})}}async getVoices(u){const p=t.createNoDashGuid(),d=await this.privRestAdapter.getVoicesList(p);if(d.ok&&Array.isArray(d.json)){let f=d.json;return u&&u.length>0&&(f=f.filter(h=>!!h.Locale&&h.Locale.toLowerCase()===u.toLowerCase())),new o.SynthesisVoicesResult(p,f,void 0)}else return new o.SynthesisVoicesResult(p,void 0,`Error: ${d.status}: ${d.statusText}`)}};return gu.SpeechSynthesizer=c,gu}var dg={};Object.defineProperty(dg,"__esModule",{value:!0});dg.SynthesisResult=void 0;class FJ{constructor(t,r,n,i){this.privResultId=t,this.privReason=r,this.privErrorDetails=n,this.privProperties=i}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}dg.SynthesisResult=FJ;var yu={},RT;function BJ(){if(RT)return yu;RT=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.SpeechSynthesisResult=void 0;const e=B();let t=class extends e.SynthesisResult{constructor(n,i,s,o,a,c){super(n,i,o,a),this.privAudioData=s,this.privAudioDuration=c}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}};return yu.SpeechSynthesisResult=t,yu}var fg={};Object.defineProperty(fg,"__esModule",{value:!0});fg.SpeechSynthesisEventArgs=void 0;class HJ{constructor(t){this.privResult=t}get result(){return this.privResult}}fg.SpeechSynthesisEventArgs=HJ;var hg={};Object.defineProperty(hg,"__esModule",{value:!0});hg.SpeechSynthesisWordBoundaryEventArgs=void 0;class UJ{constructor(t,r,n,i,s,o){this.privAudioOffset=t,this.privDuration=r,this.privText=n,this.privWordLength=i,this.privTextOffset=s,this.privBoundaryType=o}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}}hg.SpeechSynthesisWordBoundaryEventArgs=UJ;var vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.SpeechSynthesisBookmarkEventArgs=void 0;class qJ{constructor(t,r){this.privAudioOffset=t,this.privText=r}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}}vg.SpeechSynthesisBookmarkEventArgs=qJ;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});mg.SpeechSynthesisVisemeEventArgs=void 0;class WJ{constructor(t,r,n){this.privAudioOffset=t,this.privVisemeId=r,this.privAnimation=n}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}}mg.SpeechSynthesisVisemeEventArgs=WJ;var X2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisBoundaryType=void 0,function(t){t.Word="WordBoundary",t.Punctuation="PunctuationBoundary",t.Sentence="SentenceBoundary"}(e.SpeechSynthesisBoundaryType||(e.SpeechSynthesisBoundaryType={}))})(X2);var Su={},TT;function VJ(){if(TT)return Su;TT=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.SynthesisVoicesResult=void 0;const e=B();let t=class extends e.SynthesisResult{constructor(n,i,s){if(Array.isArray(i)){super(n,e.ResultReason.VoicesListRetrieved,void 0,new e.PropertyCollection),this.privVoices=[];for(const o of i)this.privVoices.push(new e.VoiceInfo(o))}else super(n,e.ResultReason.Canceled,s||"Error information unavailable",new e.PropertyCollection)}get voices(){return this.privVoices}};return Su.SynthesisVoicesResult=t,Su}var Z2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceInfo=e.SynthesisVoiceType=e.SynthesisVoiceGender=void 0;var t;(function(s){s[s.Unknown=0]="Unknown",s[s.Female=1]="Female",s[s.Male=2]="Male",s[s.Neutral=3]="Neutral"})(t=e.SynthesisVoiceGender||(e.SynthesisVoiceGender={}));var r;(function(s){s[s.OnlineNeural=1]="OnlineNeural",s[s.OnlineStandard=2]="OnlineStandard",s[s.OfflineNeural=3]="OfflineNeural",s[s.OfflineStandard=4]="OfflineStandard"})(r=e.SynthesisVoiceType||(e.SynthesisVoiceType={}));const n={[t[t.Neutral]]:t.Neutral,[t[t.Male]]:t.Male,[t[t.Female]]:t.Female};class i{constructor(o){if(this.privStyleList=[],o){if(this.privName=o.Name,this.privLocale=o.Locale,this.privShortName=o.ShortName,this.privLocaleName=o.LocaleName,this.privDisplayName=o.DisplayName,this.privLocalName=o.LocalName,this.privVoiceType=o.VoiceType.endsWith("Standard")?r.OnlineStandard:r.OnlineNeural,this.privGender=n[o.Gender]||t.Unknown,o.StyleList&&Array.isArray(o.StyleList))for(const a of o.StyleList)this.privStyleList.push(a);this.privSampleRateHertz=o.SampleRateHertz,this.privStatus=o.Status,o.ExtendedPropertyMap&&(this.privExtendedPropertyMap=o.ExtendedPropertyMap),this.privWordsPerMinute=o.WordsPerMinute,Array.isArray(o.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...o.SecondaryLocaleList]),Array.isArray(o.RolePlayList)&&(this.privRolePlayList=[...o.RolePlayList])}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}}e.VoiceInfo=i})(Z2);var gg={};Object.defineProperty(gg,"__esModule",{value:!0});gg.SpeakerAudioDestination=void 0;const Ho=pe(),YJ=Ur,Tn=Io,KJ=60*30,kT={[Tn.AudioFormatTag.PCM]:"audio/wav",[Tn.AudioFormatTag.MuLaw]:"audio/x-wav",[Tn.AudioFormatTag.MP3]:"audio/mpeg",[Tn.AudioFormatTag.OGG_OPUS]:"audio/ogg",[Tn.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[Tn.AudioFormatTag.ALaw]:"audio/x-wav",[Tn.AudioFormatTag.FLAC]:"audio/flac",[Tn.AudioFormatTag.AMR_WB]:"audio/amr-wb",[Tn.AudioFormatTag.G722]:"audio/G722"};class GJ{constructor(t){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=t||Ho.createNoDashGuid(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(t,r,n){this.privAudioBuffer!==void 0?(this.privAudioBuffer.push(t),this.updateSourceBuffer().then(()=>{r&&r()},i=>{n&&n(i)})):this.privAudioOutputStream!==void 0&&(this.privAudioOutputStream.write(t),this.privBytesReceived+=t.byteLength)}close(t,r){if(this.privIsClosed=!0,this.privSourceBuffer!==void 0)this.handleSourceBufferUpdateEnd().then(()=>{t&&t()},n=>{r&&r(n)});else if(this.privAudioOutputStream!==void 0&&typeof window<"u")if((this.privFormat.formatTag===Tn.AudioFormatTag.PCM||this.privFormat.formatTag===Tn.AudioFormatTag.MuLaw||this.privFormat.formatTag===Tn.AudioFormatTag.ALaw)&&this.privFormat.hasHeader===!1)console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else{let n=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(n).then(()=>{n=this.privFormat.addHeader(n);const i=new Blob([n],{type:kT[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(i),this.notifyPlayback().then(()=>{t&&t()},s=>{r&&r(s)})},i=>{r&&r(i)})}else this.onAudioEnd&&this.onAudioEnd(this)}set format(t){if(typeof AudioContext<"u"||typeof window<"u"&&typeof window.webkitAudioContext<"u"){this.privFormat=t;const r=kT[this.privFormat.formatTag];r===void 0?console.warn(`Unknown mimeType for format ${Tn.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`):typeof MediaSource<"u"&&MediaSource.isTypeSupported(r)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=KJ,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(r),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch(n=>{Ho.Events.instance.onEvent(new Ho.BackgroundEvent(n))})},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch(n=>{Ho.Events.instance.onEvent(new Ho.BackgroundEvent(n))})},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch(n=>{Ho.Events.instance.onEvent(new Ho.BackgroundEvent(n))})):(console.warn(`Format ${Tn.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new YJ.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var t;return((t=this.privAudio)==null?void 0:t.volume)??-1}set volume(t){this.privAudio&&(this.privAudio.volume=t)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return this.privAudio!==void 0?this.privAudio.currentTime:-1}pause(){!this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.pause(),this.privIsPaused=!0)}resume(t,r){this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.play().then(()=>{t&&t()},n=>{r&&r(n)}),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(this.privAudioBuffer!==void 0&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const t=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(t)}catch{this.privAudioBuffer.unshift(t),console.log("buffer filled, pausing addition of binaries until space is made");return}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){!this.privPlaybackStarted&&this.privAudio!==void 0&&(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&this.privSourceBuffer!==void 0&&this.privAudioBuffer.length===0&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&this.privMediaSource.readyState==="open"}sourceBufferAvailable(){return this.privSourceBuffer!==void 0&&!this.privSourceBuffer.updating}}gg.SpeakerAudioDestination=GJ;var Cu={},IT;function QJ(){if(IT)return Cu;IT=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.ConversationTranscriptionCanceledEventArgs=void 0;const e=Kd();let t=class extends e.CancellationEventArgsBase{};return Cu.ConversationTranscriptionCanceledEventArgs=t,Cu}var wu={},AT;function JJ(){if(AT)return wu;AT=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.MeetingTranscriptionCanceledEventArgs=void 0;const e=Kd();let t=class extends e.CancellationEventArgsBase{};return wu.MeetingTranscriptionCanceledEventArgs=t,wu}var eN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGradingSystem=void 0,function(t){t[t.FivePoint=1]="FivePoint",t[t.HundredMark=2]="HundredMark"}(e.PronunciationAssessmentGradingSystem||(e.PronunciationAssessmentGradingSystem={}))})(eN);var tN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGranularity=void 0,function(t){t[t.Phoneme=1]="Phoneme",t[t.Word=2]="Word",t[t.FullText=3]="FullText"}(e.PronunciationAssessmentGranularity||(e.PronunciationAssessmentGranularity={}))})(tN);var bu={},xT;function XJ(){if(xT)return bu;xT=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.PronunciationAssessmentConfig=void 0;const e=ye,t=B();let r=class rN{constructor(i,s=t.PronunciationAssessmentGradingSystem.FivePoint,o=t.PronunciationAssessmentGranularity.Phoneme,a=!1){e.Contracts.throwIfNullOrUndefined(i,"referenceText"),this.privProperties=new t.PropertyCollection,this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,i),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_GradingSystem,t.PronunciationAssessmentGradingSystem[s]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Granularity,t.PronunciationAssessmentGranularity[o]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,String(a))}static fromJSON(i){e.Contracts.throwIfNullOrUndefined(i,"json");const s=new rN("");return s.privProperties=new t.PropertyCollection,s.properties.setProperty(t.PropertyId.PronunciationAssessment_Json,i),s}toJSON(){return this.updateJson(),this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Params)}applyTo(i){this.updateJson();const s=i.internalData;s.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,s.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(t.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,s.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(i){e.Contracts.throwIfNullOrWhitespace(i,"referenceText"),this.properties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,i)}set phonemeAlphabet(i){e.Contracts.throwIfNullOrWhitespace(i,"phonemeAlphabet"),this.privPhonemeAlphabet=i}set enableMiscue(i){const s=i?"true":"false";this.properties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,s)}get enableMiscue(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()==="true"}set nbestPhonemeCount(i){this.privNBestPhonemeCount=i}set enableProsodyAssessment(i){this.privEnableProsodyAssessment=i}enableContentAssessmentWithTopic(i){this.privContentAssessmentTopic=i}get properties(){return this.privProperties}updateJson(){const i=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Json,"{}"),s=JSON.parse(i),o=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText);o&&(s.referenceText=o);const a=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_GradingSystem);a&&(s.gradingSystem=a);const c=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Granularity);c&&(s.granularity=c),this.privPhonemeAlphabet&&(s.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(s.nbestPhonemeCount=this.privNBestPhonemeCount),s.enableProsodyAssessment=this.privEnableProsodyAssessment,s.dimension="Comprehensive",this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue)&&(s.enableMiscue=this.enableMiscue),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Params,JSON.stringify(s))}};return bu.PronunciationAssessmentConfig=r,bu}var Uo={},OT;function ZJ(){if(OT)return Uo;OT=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.PronunciationAssessmentResult=Uo.ContentAssessmentResult=void 0;const e=ye,t=B();class r{constructor(s){this.privPronJson=s}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}Uo.ContentAssessmentResult=r;let n=class nN{constructor(s){const o=JSON.parse(s);e.Contracts.throwIfNullOrUndefined(o.NBest[0],"NBest"),this.privPronJson=o.NBest[0]}static fromResult(s){e.Contracts.throwIfNullOrUndefined(s,"result");const o=s.properties.getProperty(t.PropertyId.SpeechServiceResponse_JsonResult);return e.Contracts.throwIfNullOrUndefined(o,"json"),new nN(o)}get detailResult(){return this.privPronJson}get accuracyScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.AccuracyScore}get pronunciationScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.PronScore}get completenessScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.CompletenessScore}get fluencyScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.FluencyScore}get prosodyScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.ProsodyScore}get contentAssessmentResult(){if(this.detailResult.ContentAssessment!==void 0)return new r(this.detailResult)}};return Uo.PronunciationAssessmentResult=n,Uo}var Pu={},DT;function eX(){if(DT)return Pu;DT=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.AvatarConfig=void 0;const e=ye,t=B();let r=class{constructor(i,s,o){this.privCustomized=!1,e.Contracts.throwIfNullOrWhitespace(i,"character"),this.character=i,this.style=s,o===void 0&&(o=new t.AvatarVideoFormat),this.videoFormat=o}get customized(){return this.privCustomized}set customized(i){this.privCustomized=i}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(i){this.privBackgroundColor=i}get backgroundImage(){return this.privBackgroundImage}set backgroundImage(i){this.privBackgroundImage=i}get remoteIceServers(){return this.privRemoteIceServers}set remoteIceServers(i){this.privRemoteIceServers=i}};return Pu.AvatarConfig=r,Pu}var iN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AvatarEventArgs=e.AvatarEventTypes=void 0,function(r){r.SwitchedToSpeaking="SwitchedToSpeaking",r.SwitchedToIdle="SwitchedToIdle",r.SessionClosed="SessionClosed"}(e.AvatarEventTypes||(e.AvatarEventTypes={}));class t{constructor(n,i){this.privOffset=n,this.privDescription=i}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}e.AvatarEventArgs=t})(iN);var _u={},Eu={},MT;function sN(){if(MT)return Eu;MT=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.SpeechSynthesisConnectionFactory=void 0;const e=Dr(),t=B(),r=xi(),n=Z(),i=Or,s=Ai;let o=class{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1"}create(c,l,u){let p=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const d=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),f=r.ConnectionFactoryBase.getHostSuffix(d),h=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),v=h===void 0?"tts":"voice",g=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+d+"."+v+".speech"+f),m={},y={};l.token!==void 0&&l.token!==""&&(y[l.headerName]=l.token),y[i.HeaderNames.ConnectionId]=u,h!==void 0&&h!==""&&(!p||p.search(s.QueryParameterNames.CustomVoiceDeploymentId)===-1)&&(m[s.QueryParameterNames.CustomVoiceDeploymentId]=h),c.avatarEnabled&&(!p||p.search(s.QueryParameterNames.EnableAvatar)===-1)&&(m[s.QueryParameterNames.EnableAvatar]="true"),p||(p=g+this.synthesisUri),c.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,p);const S=c.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(p,m,y,new n.WebsocketMessageFormatter,e.ProxyInfo.fromParameters(c.parameters),S,u)}};return Eu.SpeechSynthesisConnectionFactory=o,Eu}var NT;function tX(){if(NT)return _u;NT=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.AvatarSynthesizer=void 0;const e=sN(),t=Z(),r=pe(),n=Ao,i=B(),s=ye,o=Vb();let a=class extends i.Synthesizer{constructor(l,u){super(l),s.Contracts.throwIfNullOrUndefined(u,"avatarConfig"),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.privAvatarConfig=u,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(i.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(l){s.Contracts.throwIfNullOrUndefined(l,"peerConnection"),this.privIceServers=l.getConfiguration().iceServers,s.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const u=new r.Deferred;l.onicegatheringstatechange=()=>{r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering state: "+l.iceGatheringState,r.EventType.Debug)),l.iceGatheringState==="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering complete.",r.EventType.Info)),u.resolve())},l.onicecandidate=v=>{v.candidate?r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: "+v.candidate.candidate,r.EventType.Debug)):(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: complete",r.EventType.Debug)),u.resolve())},setTimeout(()=>{l.iceGatheringState!=="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering timeout.",r.EventType.Warning)),u.resolve())},2e3);const p=await l.createOffer();await l.setLocalDescription(p),await u.promise,r.Events.instance.onEvent(new r.PlatformEvent("peer connection: got local SDP.",r.EventType.Info)),this.privProperties.setProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(l.localDescription));const d=await this.speak("",!1);if(d.reason!==i.ResultReason.SynthesizingAudioCompleted)return new i.SynthesisResult(d.resultId,d.reason,d.errorDetails,d.properties);const f=atob(d.properties.getProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP)),h=new RTCSessionDescription(JSON.parse(f));return await l.setRemoteDescription(h),new i.SynthesisResult(d.resultId,d.reason,void 0,d.properties)}async speakTextAsync(l){const u=await this.speak(l,!1);return new i.SynthesisResult(u.resultId,u.reason,u.errorDetails,u.properties)}async speakSsmlAsync(l){const u=await this.speak(l,!0);return new i.SynthesisResult(u.resultId,u.reason,u.errorDetails,u.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;)(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.");return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return s.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(l,u,p){return new t.AvatarSynthesisAdapter(l,u,p,this,this.privAvatarConfig)}createRestSynthesisAdapter(l,u){}createSynthesizerConfig(l){const u=super.createSynthesizerConfig(l);return u.avatarEnabled=!0,u}async speak(l,u){const p=r.createNoDashGuid(),d=new r.Deferred;return this.synthesisRequestQueue.enqueue(new o.SynthesisRequest(p,l,u,f=>{d.resolve(f),this.privSynthesizing=!1,this.adapterSpeak()},f=>{d.reject(f),this.privSynthesizing=!1})),this.adapterSpeak(),d.promise}};return _u.AvatarSynthesizer=a,_u}var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.AvatarVideoFormat=Oc.Coordinate=void 0;class rX{constructor(t,r){this.x=t,this.y=r}}Oc.Coordinate=rX;class nX{constructor(t="H264",r=2e6,n=1920,i=1080){this.codec=t,this.bitrate=r,this.width=n,this.height=i}setCropRange(t,r){this.cropRange={bottomRight:r,topLeft:t}}}Oc.AvatarVideoFormat=nX;var Ru={},LT;function iX(){if(LT)return Ru;LT=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.AvatarWebRTCConnectionResult=void 0;const e=B();let t=class extends e.SynthesisResult{constructor(n,i,s,o,a){super(i,s,o,a),this.privSDPAnswer=n}get SDPAnswer(){return this.privSDPAnswer}};return Ru.AvatarWebRTCConnectionResult=t,Ru}var Tu={},jT;function sX(){if(jT)return Tu;jT=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.Diagnostics=void 0;const e=Dr(),t=pe();let r=class{static SetLoggingLevel(i){this.privListener=new e.ConsoleLoggingListener(i),t.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(i){if(typeof window>"u")this.privListener&&(this.privListener.logPath=i);else throw new Error("File system logging not available in browser.")}static set onLogOutput(i){this.privListener&&(this.privListener.logCallback=i)}};return Tu.Diagnostics=r,r.privListener=void 0,Tu}var zT;function B(){return zT||(zT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=P2();Object.defineProperty(e,"AudioConfig",{enumerable:!0,get:function(){return t.AudioConfig}});var r=Io;Object.defineProperty(e,"AudioStreamFormat",{enumerable:!0,get:function(){return r.AudioStreamFormat}}),Object.defineProperty(e,"AudioFormatTag",{enumerable:!0,get:function(){return r.AudioFormatTag}});var n=y2();Object.defineProperty(e,"AudioInputStream",{enumerable:!0,get:function(){return n.AudioInputStream}}),Object.defineProperty(e,"PullAudioInputStream",{enumerable:!0,get:function(){return n.PullAudioInputStream}}),Object.defineProperty(e,"PushAudioInputStream",{enumerable:!0,get:function(){return n.PushAudioInputStream}});var i=Ur;Object.defineProperty(e,"AudioOutputStream",{enumerable:!0,get:function(){return i.AudioOutputStream}}),Object.defineProperty(e,"PullAudioOutputStream",{enumerable:!0,get:function(){return i.PullAudioOutputStream}}),Object.defineProperty(e,"PushAudioOutputStream",{enumerable:!0,get:function(){return i.PushAudioOutputStream}});var s=_2;Object.defineProperty(e,"CancellationReason",{enumerable:!0,get:function(){return s.CancellationReason}});var o=Gm;Object.defineProperty(e,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return o.PullAudioInputStreamCallback}});var a=Qm;Object.defineProperty(e,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return a.PushAudioOutputStreamCallback}});var c=Jm;Object.defineProperty(e,"KeywordRecognitionModel",{enumerable:!0,get:function(){return c.KeywordRecognitionModel}});var l=Xm;Object.defineProperty(e,"SessionEventArgs",{enumerable:!0,get:function(){return l.SessionEventArgs}});var u=MQ();Object.defineProperty(e,"RecognitionEventArgs",{enumerable:!0,get:function(){return u.RecognitionEventArgs}});var p=E2;Object.defineProperty(e,"OutputFormat",{enumerable:!0,get:function(){return p.OutputFormat}});var d=NQ();Object.defineProperty(e,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return d.IntentRecognitionEventArgs}});var f=Zm;Object.defineProperty(e,"RecognitionResult",{enumerable:!0,get:function(){return f.RecognitionResult}});var h=jQ();Object.defineProperty(e,"SpeechRecognitionResult",{enumerable:!0,get:function(){return h.SpeechRecognitionResult}});var v=zQ();Object.defineProperty(e,"IntentRecognitionResult",{enumerable:!0,get:function(){return v.IntentRecognitionResult}});var g=xc;Object.defineProperty(e,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return g.LanguageUnderstandingModel}});var m=$Q();Object.defineProperty(e,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return m.SpeechRecognitionEventArgs}}),Object.defineProperty(e,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return m.ConversationTranscriptionEventArgs}}),Object.defineProperty(e,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return m.MeetingTranscriptionEventArgs}});var y=FQ();Object.defineProperty(e,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return y.SpeechRecognitionCanceledEventArgs}});var S=BQ();Object.defineProperty(e,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return S.TranslationRecognitionEventArgs}});var C=HQ();Object.defineProperty(e,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return C.TranslationSynthesisEventArgs}});var b=k2();Object.defineProperty(e,"TranslationRecognitionResult",{enumerable:!0,get:function(){return b.TranslationRecognitionResult}});var T=eg;Object.defineProperty(e,"TranslationSynthesisResult",{enumerable:!0,get:function(){return T.TranslationSynthesisResult}});var _=I2;Object.defineProperty(e,"ResultReason",{enumerable:!0,get:function(){return _.ResultReason}});var R=qQ();Object.defineProperty(e,"SpeechConfig",{enumerable:!0,get:function(){return R.SpeechConfig}}),Object.defineProperty(e,"SpeechConfigImpl",{enumerable:!0,get:function(){return R.SpeechConfigImpl}});var O=WQ();Object.defineProperty(e,"SpeechTranslationConfig",{enumerable:!0,get:function(){return O.SpeechTranslationConfig}}),Object.defineProperty(e,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return O.SpeechTranslationConfigImpl}});var D=x2();Object.defineProperty(e,"PropertyCollection",{enumerable:!0,get:function(){return D.PropertyCollection}});var $=tg;Object.defineProperty(e,"PropertyId",{enumerable:!0,get:function(){return $.PropertyId}});var W=VQ();Object.defineProperty(e,"Recognizer",{enumerable:!0,get:function(){return W.Recognizer}});var J=YQ();Object.defineProperty(e,"SpeechRecognizer",{enumerable:!0,get:function(){return J.SpeechRecognizer}});var q=KQ();Object.defineProperty(e,"IntentRecognizer",{enumerable:!0,get:function(){return q.IntentRecognizer}});var Y=M2;Object.defineProperty(e,"VoiceProfileType",{enumerable:!0,get:function(){return Y.VoiceProfileType}});var se=GQ();Object.defineProperty(e,"TranslationRecognizer",{enumerable:!0,get:function(){return se.TranslationRecognizer}});var ee=QQ();Object.defineProperty(e,"Translations",{enumerable:!0,get:function(){return ee.Translations}});var I=z2;Object.defineProperty(e,"NoMatchReason",{enumerable:!0,get:function(){return I.NoMatchReason}});var k=JQ();Object.defineProperty(e,"NoMatchDetails",{enumerable:!0,get:function(){return k.NoMatchDetails}});var G=rg;Object.defineProperty(e,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return G.TranslationRecognitionCanceledEventArgs}});var te=ZQ();Object.defineProperty(e,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return te.IntentRecognitionCanceledEventArgs}});var M=Gd;Object.defineProperty(e,"CancellationDetailsBase",{enumerable:!0,get:function(){return M.CancellationDetailsBase}});var oe=tJ();Object.defineProperty(e,"CancellationDetails",{enumerable:!0,get:function(){return oe.CancellationDetails}});var de=B2;Object.defineProperty(e,"CancellationErrorCode",{enumerable:!0,get:function(){return de.CancellationErrorCode}});var ne=rJ();Object.defineProperty(e,"ConnectionEventArgs",{enumerable:!0,get:function(){return ne.ConnectionEventArgs}});var Re=nJ();Object.defineProperty(e,"ServiceEventArgs",{enumerable:!0,get:function(){return Re.ServiceEventArgs}});var Qe=L2();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return Qe.Connection}});var rt=ng;Object.defineProperty(e,"PhraseListGrammar",{enumerable:!0,get:function(){return rt.PhraseListGrammar}});var fe=Bb();Object.defineProperty(e,"DialogServiceConfig",{enumerable:!0,get:function(){return fe.DialogServiceConfig}});var ur=iJ();Object.defineProperty(e,"BotFrameworkConfig",{enumerable:!0,get:function(){return ur.BotFrameworkConfig}});var It=sJ();Object.defineProperty(e,"CustomCommandsConfig",{enumerable:!0,get:function(){return It.CustomCommandsConfig}});var yt=aJ();Object.defineProperty(e,"DialogServiceConnector",{enumerable:!0,get:function(){return yt.DialogServiceConnector}});var Mt=ig;Object.defineProperty(e,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return Mt.ActivityReceivedEventArgs}});var De=sg;Object.defineProperty(e,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return De.TurnStatusReceivedEventArgs}});var Be=H2;Object.defineProperty(e,"ServicePropertyChannel",{enumerable:!0,get:function(){return Be.ServicePropertyChannel}});var Te=U2;Object.defineProperty(e,"ProfanityOption",{enumerable:!0,get:function(){return Te.ProfanityOption}});var be=pJ();Object.defineProperty(e,"BaseAudioPlayer",{enumerable:!0,get:function(){return be.BaseAudioPlayer}});var Me=ag;Object.defineProperty(e,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return Me.ConnectionMessageEventArgs}});var Ae=N2();Object.defineProperty(e,"ConnectionMessage",{enumerable:!0,get:function(){return Ae.ConnectionMessage}});var Nn=cg;Object.defineProperty(e,"VoiceProfile",{enumerable:!0,get:function(){return Nn.VoiceProfile}});var Rn=hJ();Object.defineProperty(e,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return Rn.VoiceProfileEnrollmentResult}}),Object.defineProperty(e,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return Rn.VoiceProfileEnrollmentCancellationDetails}});var Cr=vJ();Object.defineProperty(e,"VoiceProfileResult",{enumerable:!0,get:function(){return Cr.VoiceProfileResult}}),Object.defineProperty(e,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return Cr.VoiceProfileCancellationDetails}});var et=mJ();Object.defineProperty(e,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return et.VoiceProfilePhraseResult}});var z=gJ();Object.defineProperty(e,"VoiceProfileClient",{enumerable:!0,get:function(){return z.VoiceProfileClient}});var V=yJ();Object.defineProperty(e,"SpeakerRecognizer",{enumerable:!0,get:function(){return V.SpeakerRecognizer}});var Se=SJ();Object.defineProperty(e,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return Se.SpeakerIdentificationModel}});var Je=CJ();Object.defineProperty(e,"SpeakerVerificationModel",{enumerable:!0,get:function(){return Je.SpeakerVerificationModel}});var Pe=wJ();Object.defineProperty(e,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return Pe.AutoDetectSourceLanguageConfig}});var We=lg;Object.defineProperty(e,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return We.AutoDetectSourceLanguageResult}});var Nt=ug;Object.defineProperty(e,"SourceLanguageConfig",{enumerable:!0,get:function(){return Nt.SourceLanguageConfig}});var St=PJ();Object.defineProperty(e,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return St.SpeakerRecognitionResult}}),Object.defineProperty(e,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return St.SpeakerRecognitionResultType}}),Object.defineProperty(e,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return St.SpeakerRecognitionCancellationDetails}});var je=Wb();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return je.Conversation}}),Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return je.ConversationExpirationEventArgs}}),Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return je.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return je.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return je.ConversationTranslationEventArgs}}),Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return je.ConversationTranslationResult}}),Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return je.ConversationTranslator}}),Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return je.ConversationTranscriber}}),Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return je.ConversationTranscriptionResult}}),Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return je.Meeting}}),Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return je.MeetingTranscriber}}),Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return je.Participant}}),Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return je.ParticipantChangedReason}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return je.User}});var Ce=Vb();Object.defineProperty(e,"Synthesizer",{enumerable:!0,get:function(){return Ce.Synthesizer}});var me=jb;Object.defineProperty(e,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return me.SpeechSynthesisOutputFormat}});var at=$J();Object.defineProperty(e,"SpeechSynthesizer",{enumerable:!0,get:function(){return at.SpeechSynthesizer}});var Ve=dg;Object.defineProperty(e,"SynthesisResult",{enumerable:!0,get:function(){return Ve.SynthesisResult}});var we=BJ();Object.defineProperty(e,"SpeechSynthesisResult",{enumerable:!0,get:function(){return we.SpeechSynthesisResult}});var tt=fg;Object.defineProperty(e,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return tt.SpeechSynthesisEventArgs}});var Oe=hg;Object.defineProperty(e,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return Oe.SpeechSynthesisWordBoundaryEventArgs}});var Ct=vg;Object.defineProperty(e,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return Ct.SpeechSynthesisBookmarkEventArgs}});var He=mg;Object.defineProperty(e,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return He.SpeechSynthesisVisemeEventArgs}});var Ue=X2;Object.defineProperty(e,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return Ue.SpeechSynthesisBoundaryType}});var Pt=VJ();Object.defineProperty(e,"SynthesisVoicesResult",{enumerable:!0,get:function(){return Pt.SynthesisVoicesResult}});var Bt=Z2;Object.defineProperty(e,"VoiceInfo",{enumerable:!0,get:function(){return Bt.VoiceInfo}});var pr=gg;Object.defineProperty(e,"SpeakerAudioDestination",{enumerable:!0,get:function(){return pr.SpeakerAudioDestination}});var wr=QJ();Object.defineProperty(e,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return wr.ConversationTranscriptionCanceledEventArgs}});var dn=JJ();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return dn.MeetingTranscriptionCanceledEventArgs}});var ae=eN;Object.defineProperty(e,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return ae.PronunciationAssessmentGradingSystem}});var Ne=tN;Object.defineProperty(e,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return Ne.PronunciationAssessmentGranularity}});var Ln=XJ();Object.defineProperty(e,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return Ln.PronunciationAssessmentConfig}});var Xe=ZJ();Object.defineProperty(e,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return Xe.PronunciationAssessmentResult}});var _t=Ub;Object.defineProperty(e,"LanguageIdMode",{enumerable:!0,get:function(){return _t.LanguageIdMode}});var he=eX();Object.defineProperty(e,"AvatarConfig",{enumerable:!0,get:function(){return he.AvatarConfig}});var Ke=iN;Object.defineProperty(e,"AvatarEventArgs",{enumerable:!0,get:function(){return Ke.AvatarEventArgs}});var Lt=tX();Object.defineProperty(e,"AvatarSynthesizer",{enumerable:!0,get:function(){return Lt.AvatarSynthesizer}});var jt=Oc;Object.defineProperty(e,"AvatarVideoFormat",{enumerable:!0,get:function(){return jt.AvatarVideoFormat}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return jt.Coordinate}});var Mr=iX();Object.defineProperty(e,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return Mr.AvatarWebRTCConnectionResult}});var Kt=sX();Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return Kt.Diagnostics}});var lt=Nb;Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return lt.LogLevel}})}(uS)),uS}var $T;function oX(){if($T)return Rl;$T=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.ProxyInfo=void 0;const e=B();let t=class oN{constructor(n,i,s,o){this.privProxyHostName=n,this.privProxyPort=i,this.privProxyUserName=s,this.privProxyPassword=o}static fromParameters(n){return new oN(n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPort),10),n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyUserName),n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(n){return this.fromParameters(n.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}};return Rl.ProxyInfo=t,Rl}var aN={};const aX=new Set(["json","buffer","string"]);var cX=e=>(...t)=>{const r=new Set;let n,i,s,o="";return t.forEach(a=>{if(typeof a=="string")if(a.toUpperCase()===a)if(n){const c=`Can't set method to ${a}, already set to ${n}.`;throw new Error(c)}else n=a;else if(a.startsWith("http:")||a.startsWith("https:"))o=a;else if(aX.has(a))i=a;else throw new Error(`Unknown encoding, ${a}`);else if(typeof a=="number")r.add(a);else if(typeof a=="object")if(Array.isArray(a)||a instanceof Set)a.forEach(c=>r.add(c));else{if(s)throw new Error("Cannot set headers twice.");s=a}else throw new Error(`Unknown type: ${typeof a}`)}),n||(n="GET"),r.size===0&&r.add(200),e(r,n,i,s,o)};const lX=cX;class Yb extends Error{constructor(t,...r){super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,Yb),this.name="StatusError",this.message=t.statusMessage,this.statusCode=t.status,this.res=t,this.json=t.json.bind(t),this.text=t.text.bind(t),this.arrayBuffer=t.arrayBuffer.bind(t);let n;Object.defineProperty(this,"responseBody",{get:()=>(n||(n=this.arrayBuffer()),n)}),this.headers={};for(const[s,o]of t.headers.entries())this.headers[s.toLowerCase()]=o}}const uX=(e,t,r,n,i)=>async(s,o,a={})=>{s=i+(s||"");let c=new URL(s);if(n||(n={}),c.username&&(n.Authorization="Basic "+btoa(c.username+":"+c.password),c=new URL(c.protocol+"//"+c.host+c.pathname+c.search)),c.protocol!=="https:"&&c.protocol!=="http:")throw new Error(`Unknown protocol, ${c.protocol}`);if(o&&!(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="string"))if(typeof o=="object")o=JSON.stringify(o),n["Content-Type"]="application/json";else throw new Error("Unknown body type.");a=new Headers({...n||{},...a});const l=await fetch(c,{method:t,headers:a,body:o});if(l.statusCode=l.status,!e.has(l.status))throw new Yb(l);return r==="json"?l.json():r==="buffer"?l.arrayBuffer():r==="string"?l.text():l};var pX=lX(uX);(function(e){var t=xe&&xe.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.RestMessageAdapter=e.RestRequestType=void 0;const r=t(pX),n=pe();var i;(function(o){o.Get="GET",o.Post="POST",o.Delete="DELETE",o.File="file"})(i=e.RestRequestType||(e.RestRequestType={}));class s{constructor(a){if(!a)throw new n.ArgumentNullError("configParams");this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}static extractHeaderValue(a,c){let l="";try{const u=c.trim().split(/[\r\n]+/),p={};u.forEach(d=>{const f=d.split(": "),h=f.shift().toLowerCase(),v=f.join(": ");p[h]=v}),l=p[a.toLowerCase()]}catch{}return l}set options(a){this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}setHeaders(a,c){this.privHeaders[a]=c}request(a,c,l={},u=null){const p=new n.Deferred,d=a===i.File?"POST":a,f=(v,g={})=>{const m=v;return{data:JSON.stringify(g),headers:JSON.stringify(v.headers),json:g,ok:v.statusCode>=200&&v.statusCode<300,status:v.statusCode,statusText:g.error?g.error.message:m.statusText?m.statusText:m.statusMessage}},h=v=>{const g=r.default(c,d,this.privHeaders,200,201,202,204,400,401,402,403,404),m=this.queryParams(l)===""?"":`?${this.queryParams(l)}`;g(m,v).then(async y=>{if(a===i.Delete||y.statusCode===204)p.resolve(f(y));else try{const S=await y.json();p.resolve(f(y,S))}catch{p.resolve(f(y))}}).catch(y=>{p.reject(y)})};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),a===i.Post&&u&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),h(u),p.promise}queryParams(a={}){return Object.keys(a).map(c=>encodeURIComponent(c)+"="+encodeURIComponent(a[c])).join("&")}}e.RestMessageAdapter=s})(aN);var Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.RestConfigBase=void 0;class ao{static get requestOptions(){return ao.privDefaultRequestOptions}static get configParams(){return ao.privDefaultParams}static get restErrors(){return ao.privRestErrors}}Jd.RestConfigBase=ao;ao.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4};ao.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."};ao.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"};var FT;function Dr(){return FT||(FT=1,function(e){var t=xe&&xe.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=xe&&xe.__exportStar||function(n,i){for(var s in n)s!=="default"&&!i.hasOwnProperty(s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Wm,e),r(m2,e),r(cQ(),e),r(lQ(),e),r(Vm,e),r(Ym,e),r(Vd,e),r(Km,e),r(oX(),e),r(aN,e),r(Jd,e)}(aS)),aS}var BT;function dX(){if(BT)return Pl;BT=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.IntentConnectionFactory=void 0;const e=Dr(),t=B(),r=xi(),n=Z(),i=Or;let s=class extends r.ConnectionFactoryBase{create(a,c,l){let u=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!u){const h=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_IntentRegion),v=r.ConnectionFactoryBase.getHostSuffix(h);u=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+h+".sr.speech"+v)+"/speech/recognition/interactive/cognitiveservices/v1"}const p={format:"simple",language:a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(a,p,u);const d={};c.token!==void 0&&c.token!==""&&(d[c.headerName]=c.token),d[i.HeaderNames.ConnectionId]=l,a.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,u);const f=a.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(u,p,d,new n.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(a),f,l)}getSpeechRegionFromIntentRegion(a){switch(a){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return a}}};return Pl.IntentConnectionFactory=s,Pl}var qo={},HT;function fX(){if(HT)return qo;HT=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.VoiceProfileConnectionFactory=qo.SpeakerRecognitionConnectionFactory=void 0;const e=Dr(),t=B(),r=xi(),n=Z(),i=Or;class s extends r.ConnectionFactoryBase{create(l,u,p,d){let f=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!f){const m=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region),y=r.ConnectionFactoryBase.getHostSuffix(m),S=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`wss://${m}.spr-frontend.speech${y}`),C=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");f=`${S}/speaker/ws/${this.scenarioToPath(C)}/${p}`}const h={format:"simple",language:l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(l,h,f);const v={};u.token!==void 0&&u.token!==""&&(v[u.headerName]=u.token),v[i.HeaderNames.ConnectionId]=d,v[i.HeaderNames.SpIDAuthKey]=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Key),l.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,f);const g=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(f,h,v,new n.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(l),g,d)}scenarioToPath(l){switch(l){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}let o=class extends s{create(l,u,p){return super.create(l,u,"recognition",p)}};qo.SpeakerRecognitionConnectionFactory=o;class a extends s{create(l,u,p){return super.create(l,u,"profile",p)}}return qo.VoiceProfileConnectionFactory=a,qo}var yg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionEndedEvent=e.RecognitionCompletionStatus=e.RecognitionStartedEvent=e.ConnectingToServiceEvent=e.ListeningStartedEvent=e.RecognitionTriggeredEvent=e.SpeechRecognitionEvent=void 0;const t=pe();class r extends t.PlatformEvent{constructor(u,p,d,f=t.EventType.Info){super(u,f),this.privRequestId=p,this.privSessionId=d}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}e.SpeechRecognitionEvent=r;class n extends r{constructor(u,p,d,f){super("RecognitionTriggeredEvent",u,p),this.privAudioSourceId=d,this.privAudioNodeId=f}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.RecognitionTriggeredEvent=n;class i extends r{constructor(u,p,d,f){super("ListeningStartedEvent",u,p),this.privAudioSourceId=d,this.privAudioNodeId=f}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.ListeningStartedEvent=i;class s extends r{constructor(u,p,d){super("ConnectingToServiceEvent",u,d),this.privAuthFetchEventid=p}get authFetchEventid(){return this.privAuthFetchEventid}}e.ConnectingToServiceEvent=s;class o extends r{constructor(u,p,d,f,h){super("RecognitionStartedEvent",u,h),this.privAudioSourceId=p,this.privAudioNodeId=d,this.privAuthFetchEventId=f}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}e.RecognitionStartedEvent=o;var a;(function(l){l[l.Success=0]="Success",l[l.AudioSourceError=1]="AudioSourceError",l[l.AudioSourceTimeout=2]="AudioSourceTimeout",l[l.AuthTokenFetchError=3]="AuthTokenFetchError",l[l.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",l[l.UnAuthorized=5]="UnAuthorized",l[l.ConnectTimeout=6]="ConnectTimeout",l[l.ConnectError=7]="ConnectError",l[l.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",l[l.UnknownError=9]="UnknownError"})(a=e.RecognitionCompletionStatus||(e.RecognitionCompletionStatus={}));class c extends r{constructor(u,p,d,f,h,v,g,m){super("RecognitionEndedEvent",u,h,g===a.Success?t.EventType.Info:t.EventType.Error),this.privAudioSourceId=p,this.privAudioNodeId=d,this.privAuthFetchEventId=f,this.privStatus=g,this.privError=m,this.privServiceTag=v}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}e.RecognitionEndedEvent=c})(yg);var ku={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.SpeechConnectionMessage=void 0;const vS=pe(),cs=Or;class Kb extends vS.ConnectionMessage{constructor(t,r,n,i,s,o,a,c){if(!r)throw new vS.ArgumentNullError("path");if(!n)throw new vS.ArgumentNullError("requestId");const l={};if(l[cs.HeaderNames.Path]=r,l[cs.HeaderNames.RequestId]=n,l[cs.HeaderNames.RequestTimestamp]=new Date().toISOString(),i&&(l[cs.HeaderNames.ContentType]=i),o&&(l[cs.HeaderNames.RequestStreamId]=o),a)for(const u in a)u&&(l[u]=a[u]);c?super(t,s,l,c):super(t,s,l),this.privPath=r,this.privRequestId=n,this.privContentType=i,this.privStreamId=o,this.privAdditionalHeaders=a}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(t){let r=null,n=null,i=null,s=null;const o={};if(t.headers)for(const a in t.headers)a&&(a.toLowerCase()===cs.HeaderNames.Path.toLowerCase()?r=t.headers[a]:a.toLowerCase()===cs.HeaderNames.RequestId.toLowerCase()?n=t.headers[a]:a.toLowerCase()===cs.HeaderNames.ContentType.toLowerCase()?i=t.headers[a]:a.toLowerCase()===cs.HeaderNames.RequestStreamId.toLowerCase()?s=t.headers[a]:o[a]=t.headers[a]);return new Kb(t.messageType,r,n,i,t.body,s,o,t.id)}}xs.SpeechConnectionMessage=Kb;var UT;function hX(){if(UT)return ku;UT=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.ServiceRecognizerBase=void 0;const e=Dr(),t=pe(),r=B(),n=Z(),i=xs;let s=class vp{constructor(a,c,l,u,p){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!a)throw new t.ArgumentNullError("authentication");if(!c)throw new t.ArgumentNullError("connectionFactory");if(!l)throw new t.ArgumentNullError("audioSource");if(!u)throw new t.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=u.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=a,this.privConnectionFactory=c,this.privAudioSource=l,this.privRecognizerConfig=u,this.privIsDisposed=!1,this.privRecognizer=p,this.privRequestSession=new n.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new t.EventSource,this.privServiceEvents=new t.EventSource,this.privDynamicGrammar=new n.DynamicGrammarBuilder,this.privSpeechContext=new n.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new n.AgentConfig,this.privRecognizerConfig.parameters.getProperty(r.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?this.privSetTimeout=t.Timeout.setTimeout:(typeof window<"u"&&(this.privSetTimeout=window.setTimeout.bind(window)),typeof globalThis<"u"&&(this.privSetTimeout=globalThis.setTimeout.bind(globalThis))),this.connectionEvents.attach(f=>{if(f.name==="ConnectionClosedEvent"){const h=f;(h.statusCode===1003||h.statusCode===1007||h.statusCode===1002||h.statusCode===4e3||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(r.CancellationReason.Error,h.statusCode===1007?r.CancellationErrorCode.BadRequestParameters:r.CancellationErrorCode.ConnectionFailure,`${h.reason} websocket error code: ${h.statusCode}`)}}),this.privEnableSpeakerId&&(this.privDiarizationSessionId=t.createNoDashGuid()),this.setLanguageIdJson(),this.setOutputDetailLevelJson()}setTranslationJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(a!==void 0){const c=a.split(","),l=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),u=l!==void 0?"Synthesize":"None";if(this.privSpeechContext.setSection("translation",{onSuccess:{action:u},output:{interimResults:{mode:"Always"}},targetLanguages:c}),l!==void 0){const p={};for(const d of c)p[d]=l;this.privSpeechContext.setSection("synthesis",{defaultVoices:p})}}}setSpeechSegmentationTimeoutJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0);if(a!==void 0){const c=this.recognitionMode===n.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===n.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",l=parseInt(a,10),u=this.privSpeechContext.getSection("phraseDetection");u.mode=c,u[c]={segmentation:{mode:"Custom",segmentationSilenceTimeoutMs:l}},this.privSpeechContext.setSection("phraseDetection",u)}}setLanguageIdJson(){const a=this.privSpeechContext.getSection("phraseDetection");if(this.privRecognizerConfig.autoDetectSourceLanguages!==void 0){const l=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");let u;this.privRecognizerConfig.languageIdMode==="Continuous"?u="DetectContinuous":u="DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:l,mode:u,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const p=this.privRecognizerConfig.sourceLanguageModels;p!==void 0&&(a.customModels=p,a.onInterim={action:"None"},a.onSuccess={action:"None"})}this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0&&(a.onInterim={action:"Translate"},a.onSuccess={action:"Translate"},this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"None"},phraseResults:{resultType:"None"}})),this.privSpeechContext.setSection("phraseDetection",a)}setOutputDetailLevelJson(){this.privEnableSpeakerId&&(this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true"?this.privSpeechContext.setWordLevelTimings():this.privRecognizerConfig.parameters.getProperty(n.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()===r.OutputFormat[r.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat())}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.ConversationTranslator_Token,a)}set voiceProfileType(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.SpeechServiceConnection_SpeakerIdMode,a)}set authentication(a){this.privAuthentication=a}isDisposed(){return this.privIsDisposed}async dispose(a){if(this.privIsDisposed=!0,this.privConnectionConfigurationPromise!==void 0)try{await(await this.privConnectionConfigurationPromise).dispose(a)}catch{return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(a,c,l){if(this.recognizeOverride!==void 0){await this.recognizeOverride(a,c,l);return}this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=a,this.setSpeechSegmentationTimeoutJson(),this.setTranslationJson(),this.privSuccessCallback=c,this.privErrorCallback=l,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const u=this.connectImpl();let p;try{const h=await this.audioSource.attach(this.privRequestSession.audioNodeId),v=await this.audioSource.format,g=await this.audioSource.deviceInfo;this.privIsLiveAudio=g.type&&g.type===n.type.Microphones,p=new e.ReplayableAudioNode(h,v.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(p,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:g}}catch(h){throw await this.privRequestSession.onStopRecognizing(),h}try{await u}catch(h){await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,h);return}const d=new r.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,d),this.receiveMessage(),this.sendAudio(p).catch(async h=>{await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,h)})}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(a,c){this.connectImpl().then(()=>{try{a&&a()}catch(l){c&&c(l)}},l=>{try{c&&c(l)}catch{}})}async disconnect(){if(await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.NoError,"Disconnecting"),this.disconnectOverride!==void 0&&await this.disconnectOverride(),this.privConnectionPromise!==void 0)try{await(await this.privConnectionPromise).dispose()}catch{}this.privConnectionPromise=void 0}sendMessage(a){}async sendNetworkMessage(a,c){const l=typeof c=="string"?t.MessageType.Text:t.MessageType.Binary,u=typeof c=="string"?"application/json":"";return(await this.fetchConnection()).send(new i.SpeechConnectionMessage(l,a,this.privRequestSession.requestId,u,c))}set activityTemplate(a){this.privActivityTemplate=a}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(a){this.privExpectContentAssessmentResponse=a}async sendTelemetryData(){const a=this.privRequestSession.getTelemetry();if(vp.telemetryDataEnabled!==!0||this.privIsDisposed||a===null)return;if(vp.telemetryData)try{vp.telemetryData(a)}catch{}await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(t.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",a))}async cancelRecognitionLocal(a,c,l){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a,c,l))}async receiveMessage(){try{if(this.privIsDisposed)return;let a=await this.fetchConnection();const c=await a.read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(!c)return this.receiveMessage();this.privServiceHasSentMessage=!0;const l=i.SpeechConnectionMessage.fromConnectionMessage(c);if(l.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(l.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const u=n.SpeechDetected.fromJSON(l.textBody),p=new r.RecognitionEventArgs(u.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,p);break;case"speech.enddetected":let d;l.textBody.length>0?d=l.textBody:d="{ Offset: 0 }";const f=n.SpeechDetected.fromJSON(d),h=new r.RecognitionEventArgs(f.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,h);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(r.CancellationReason.EndOfStream,r.CancellationErrorCode.NoError,void 0));const v=new r.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing){this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,v);return}else a=await this.fetchConnection(),await this.sendPrePayloadJSON(a);break;default:await this.processTypeSpecificMessages(l)||this.privServiceEvents&&this.serviceEvents.onEvent(new t.ServiceEvent(l.path.toLowerCase(),l.textBody))}return this.receiveMessage()}catch{return null}}updateSpeakerDiarizationAudioOffset(){const c=this.privRequestSession.recognitionBytesSent/this.privAverageBytesPerMs;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(c)}sendSpeechContext(a,c){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const l=this.speechContext.toJSON();if(c&&this.privRequestSession.onSpeechContext(),l)return a.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",l))}noOp(){}async sendPrePayloadJSON(a,c=!0){if(this.sendPrePayloadJSONOverride!==void 0)return this.sendPrePayloadJSONOverride(a);await this.sendSpeechContext(a,c),await this.sendWaveHeader(a)}async sendWaveHeader(a){const c=await this.audioSource.format;return a.send(new i.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",c.header))}connectImpl(){return this.privConnectionPromise!==void 0?this.privConnectionPromise.then(a=>a.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl())):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch(()=>{}),this.postConnectImplOverride!==void 0?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(a,c,l){if(c.onSpeechContext(),vp.telemetryDataEnabled!==!0){const p={context:{system:JSON.parse(l).context.system}};l=JSON.stringify(p)}if(this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()==="true"){const u=JSON.parse(l);u.context.DisableReferenceChannel="True",u.context.MicSpec="1_0_0",l=JSON.stringify(u)}if(l)return a.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speech.config",c.requestId,"application/json",l))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(a=>a.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(a){const c=await this.audioSource.format;this.privAverageBytesPerMs=c.avgBytesPerSec/1e3;let l=Date.now();const u=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),p=c.avgBytesPerSec/1e3*parseInt(u,10),d=this.privRequestSession.recogNumber,f=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===d){const h=await this.fetchConnection(),v=await a.read();if(this.privRequestSession.isSpeechEnded)return;let g,m;if(!v||v.isEnd?(g=null,m=0):(g=v.buffer,this.privRequestSession.onAudioSent(g.byteLength),p>=this.privRequestSession.bytesSent?m=0:m=Math.max(0,l-Date.now())),m!==0&&await this.delay(m),g!==null&&(l=Date.now()+g.byteLength*1e3/(c.avgBytesPerSec*2)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===d)if(h.send(new i.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,g)).catch(()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(()=>{})}),v!=null&&v.isEnd)this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();else return f()}};return f()}async retryableConnect(){let a=!1;this.privAuthFetchEventId=t.createNoDashGuid();const c=this.privRequestSession.sessionId;this.privConnectionId=c!==void 0?c:t.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let l=0,u="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const d=await(a?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId));await this.privRequestSession.onAuthCompleted(!1);const f=this.privConnectionFactory.create(this.privRecognizerConfig,d,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(f.events),f.events.attach(v=>{this.connectionEvents.onEvent(v)});const h=await f.open();if(h.statusCode===200)return await this.privRequestSession.onConnectionEstablishCompleted(h.statusCode),Promise.resolve(f);h.statusCode===1006&&(a=!0),l=h.statusCode,u=h.reason,this.privRequestSession.onRetryConnection()}return await this.privRequestSession.onConnectionEstablishCompleted(l,u),Promise.reject(`Unable to contact server. StatusCode: ${l}, ${this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${u}`)}delay(a){return new Promise(c=>this.privSetTimeout(c,a))}writeBufferToConsole(a){let c="Buffer Size: ";if(a===null)c+="null";else{const l=new Uint8Array(a);c+=`${a.byteLength}\r
`;for(let u=0;u<a.byteLength;u++)c+=l[u].toString(16).padStart(2,"0")+" ",(u+1)%16===0&&(console.info(c),c="")}console.info(c)}async sendFinalAudio(){await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const a=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(a):(await this.sendSpeechServiceConfig(a,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(a,!1),a)}};return ku.ServiceRecognizerBase=s,s.telemetryDataEnabled=!0,ku}var Iu={},qT;function vX(){if(qT)return Iu;qT=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.ConversationServiceRecognizer=void 0;const e=B(),t=Z();let r=class extends t.ServiceRecognizerBase{constructor(i,s,o,a,c){super(i,s,o,a,c),this.handleSpeechPhraseMessage=async l=>this.handleSpeechPhrase(l),this.handleSpeechHypothesisMessage=l=>this.handleSpeechHypothesis(l)}processTypeSpecificMessages(i){}handleRecognizedCallback(i,s,o){}handleRecognizingCallback(i,s,o){}async processSpeechMessages(i){let s=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(i.textBody),s=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(i.textBody),s=!0;break}return s}cancelRecognition(i,s,o,a,c){}async handleSpeechPhrase(i){const s=t.SimpleSpeechPhrase.fromJSON(i),o=t.EnumTranslation.implTranslateRecognitionResult(s.RecognitionStatus);let a;const c=new e.PropertyCollection;c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,i);const l=s.Offset+this.privRequestSession.currentTurnAudioOffset;let u=l;if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+s.Offset+s.Duration),e.ResultReason.Canceled===o){const p=t.EnumTranslation.implTranslateCancelResult(s.RecognitionStatus),d=t.EnumTranslation.implTranslateCancelErrorCode(s.RecognitionStatus);await this.cancelRecognitionLocal(p,d,t.EnumTranslation.implTranslateErrorDetails(d))}else if(!(this.privRequestSession.isSpeechEnded&&o===e.ResultReason.NoMatch&&s.RecognitionStatus!==t.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,o,s.DisplayText,s.Duration,l,s.Language,s.LanguageDetectionConfidence,s.SpeakerId,void 0,i,c);else{const p=t.DetailedSpeechPhrase.fromJSON(i),d=p.Offset+this.privRequestSession.currentTurnAudioOffset,f=p.getJsonWithCorrectedOffsets(d);a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,o,p.Text,p.Duration,d,p.Language,p.LanguageDetectionConfidence,p.SpeakerId,void 0,f,c),u=a.offset}this.handleRecognizedCallback(a,u,this.privRequestSession.sessionId)}}handleSpeechHypothesis(i){const s=t.SpeechHypothesis.fromJSON(i),o=s.Offset+this.privRequestSession.currentTurnAudioOffset,a=new e.PropertyCollection;a.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,i);const c=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,s.Text,s.Duration,o,s.Language,s.LanguageDetectionConfidence,s.SpeakerId,void 0,i,a);this.privRequestSession.onHypothesis(o),this.handleRecognizingCallback(c,s.Duration,this.privRequestSession.sessionId)}};return Iu.ConversationServiceRecognizer=r,Iu}var mS={},WT;function mX(){return WT||(WT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognizerConfig=e.SpeechResultFormat=e.RecognitionMode=void 0;const t=B(),r=Z();var n;(function(s){s[s.Interactive=0]="Interactive",s[s.Conversation=1]="Conversation",s[s.Dictation=2]="Dictation"})(n=e.RecognitionMode||(e.RecognitionMode={})),function(s){s[s.Simple=0]="Simple",s[s.Detailed=1]="Detailed"}(e.SpeechResultFormat||(e.SpeechResultFormat={}));class i{constructor(o,a){this.privSpeechServiceConfig=o||new r.SpeechServiceConfig(new r.Context(null)),this.privParameters=a,this.privMaxRetryCount=parseInt(a.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=a.getProperty(t.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(o){this.privRecognitionMode=o,this.privRecognitionActivityTimeout=o===n.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=n[o]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==n.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const o=[];let a=!1;if(this.autoDetectSourceLanguages!==void 0)for(const c of this.autoDetectSourceLanguages.split(",")){const l=c+t.PropertyId.SpeechServiceConnection_EndpointId.toString(),u=this.parameters.getProperty(l,void 0);u!==void 0?(o.push({language:c,endpoint:u}),a=!0):o.push({language:c,endpoint:""})}return a?o:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(o){this.privEnableSpeakerId=o}}e.RecognizerConfig=i}(mS)),mS}var cN={};Object.defineProperty(cN,"__esModule",{value:!0});var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.WebsocketMessageFormatter=void 0;const ei=pe(),VT=`\r
`;class gX{toConnectionMessage(t){const r=new ei.Deferred;try{if(t.messageType===ei.MessageType.Text){const n=t.textContent;let i={},s=null;if(n){const o=n.split(`\r
\r
`);o&&o.length>0&&(i=this.parseHeaders(o[0]),o.length>1&&(s=o[1]))}r.resolve(new ei.ConnectionMessage(t.messageType,s,i,t.id))}else if(t.messageType===ei.MessageType.Binary){const n=t.binaryContent;let i={},s=null;if(!n||n.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const o=new DataView(n),a=o.getInt16(0);if(n.byteLength<a+2)throw new Error("Invalid binary message format. Header content missing.");let c="";for(let l=0;l<a;l++)c+=String.fromCharCode(o.getInt8(l+2));i=this.parseHeaders(c),n.byteLength>a+2&&(s=n.slice(2+a)),r.resolve(new ei.ConnectionMessage(t.messageType,s,i,t.id))}}catch(n){r.reject(`Error formatting the message. Error: ${n}`)}return r.promise}fromConnectionMessage(t){const r=new ei.Deferred;try{if(t.messageType===ei.MessageType.Text){const n=`${this.makeHeaders(t)}${VT}${t.textBody?t.textBody:""}`;r.resolve(new ei.RawWebsocketMessage(ei.MessageType.Text,n,t.id))}else if(t.messageType===ei.MessageType.Binary){const n=this.makeHeaders(t),i=t.binaryBody,s=this.stringToArrayBuffer(n),o=new Int8Array(s),a=o.byteLength,c=new Int8Array(2+a+(i?i.byteLength:0));if(c[0]=a>>8&255,c[1]=a&255,c.set(o,2),i){const u=new Int8Array(i);c.set(u,2+a)}const l=c.buffer;r.resolve(new ei.RawWebsocketMessage(ei.MessageType.Binary,l,t.id))}}catch(n){r.reject(`Error formatting the message. ${n}`)}return r.promise}makeHeaders(t){let r="";if(t.headers)for(const n in t.headers)n&&(r+=`${n}: ${t.headers[n]}${VT}`);return r}parseHeaders(t){const r={};if(t){const n=t.match(/[^\r\n]+/g);if(r){for(const i of n)if(i){const s=i.indexOf(":"),o=s>0?i.substr(0,s).trim().toLowerCase():i,a=s>0&&i.length>s+1?i.substr(s+1).trim():"";r[o]=a}}}return r}stringToArrayBuffer(t){const r=new ArrayBuffer(t.length),n=new DataView(r);for(let i=0;i<t.length;i++)n.setUint8(i,t.charCodeAt(i));return r}}Sg.WebsocketMessageFormatter=gX;var Au={},YT;function yX(){if(YT)return Au;YT=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.SpeechConnectionFactory=void 0;const e=Dr(),t=Z(),r=B(),n=xi(),i=Z(),s=Or,o=Ai;let a=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(l,u,p){let d=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const f=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),h=n.ConnectionFactoryBase.getHostSuffix(f),v=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+f+".stt.speech"+h),g={},m=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),y=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(m?(!d||d.search(o.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(g[o.QueryParameterNames.CustomSpeechDeploymentId]=m):y&&(!d||d.search(o.QueryParameterNames.Language)===-1)&&(g[o.QueryParameterNames.Language]=y),(!d||d.search(o.QueryParameterNames.Format)===-1)&&(g[o.QueryParameterNames.Format]=l.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()),l.autoDetectSourceLanguages!==void 0&&(g[o.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(l,g,d),!d)switch(l.recognitionMode){case i.RecognitionMode.Conversation:l.parameters.getProperty(t.ForceDictationPropertyName,"false")==="true"?d=v+this.dictationRelativeUri:l.recognitionEndpointVersion!==void 0&&parseInt(l.recognitionEndpointVersion,10)>1?d=`${v}${this.universalUri}${l.recognitionEndpointVersion}`:d=v+this.conversationRelativeUri;break;case i.RecognitionMode.Dictation:d=v+this.dictationRelativeUri;break;default:l.recognitionEndpointVersion!==void 0&&parseInt(l.recognitionEndpointVersion,10)>1?d=`${v}${this.universalUri}${l.recognitionEndpointVersion}`:d=v+this.interactiveRelativeUri;break}const S={};u.token!==void 0&&u.token!==""&&(S[u.headerName]=u.token),S[s.HeaderNames.ConnectionId]=p;const C=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",b=new e.WebsocketConnection(d,g,S,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(l),C,p),T=b.uri;return l.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,T),b}};return Au.SpeechConnectionFactory=a,Au}var xu={},KT;function SX(){if(KT)return xu;KT=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.ConversationTranscriberConnectionFactory=void 0;const e=Dr(),t=B(),r=Z(),n=xi(),i=Z(),s=Or,o=Ai;let a=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/speech/universal/v2"}create(l,u,p){let d=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const f=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),h=n.ConnectionFactoryBase.getHostSuffix(f),v=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+f+".stt.speech"+h),g={},m=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),y=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);m?(!d||d.search(o.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(g[o.QueryParameterNames.CustomSpeechDeploymentId]=m):y&&(!d||d.search(o.QueryParameterNames.Language)===-1)&&(g[o.QueryParameterNames.Language]=y),l.autoDetectSourceLanguages!==void 0&&(g[o.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(l,g,d),d||(d=`${v}${this.universalUri}`);const S={};u.token!==void 0&&u.token!==""&&(S[u.headerName]=u.token),S[s.HeaderNames.ConnectionId]=p;const C=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",b=new e.WebsocketConnection(d,g,S,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(l),C,p),T=b.uri;return l.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,T),b}setV2UrlParams(l,u,p){new Map([[t.PropertyId.Speech_SegmentationSilenceTimeoutMs,o.QueryParameterNames.SegmentationSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_EnableAudioLogging,o.QueryParameterNames.EnableAudioLogging],[t.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,o.QueryParameterNames.EndSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,o.QueryParameterNames.InitialSilenceTimeoutMs],[t.PropertyId.SpeechServiceResponse_PostProcessingOption,o.QueryParameterNames.Postprocessing],[t.PropertyId.SpeechServiceResponse_ProfanityOption,o.QueryParameterNames.Profanity],[t.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,o.QueryParameterNames.StableIntermediateThreshold]]).forEach((h,v)=>{this.setUrlParameter(v,h,l,u,p)});const f=JSON.parse(l.parameters.getProperty(r.ServicePropertiesPropertyName,"{}"));Object.keys(f).forEach(h=>{u[h]=f[h]})}};return xu.ConversationTranscriberConnectionFactory=a,xu}var Ou={},GT;function CX(){if(GT)return Ou;GT=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.TranscriberConnectionFactory=void 0;const e=Dr(),t=B(),r=xi(),n=Z(),i=Or,s=Ai;let o=class extends r.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(c,l,u){let p=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const d=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"centralus"),f=r.ConnectionFactoryBase.getHostSuffix(d),h="wss://transcribe."+d+".cts.speech"+f+this.multiaudioRelativeUri,v=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,h),g={};this.setQueryParams(g,c,p),p||(p=v);const m={};l.token!==void 0&&l.token!==""&&(m[l.headerName]=l.token),m[i.HeaderNames.ConnectionId]=u,c.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,p);const y=c.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(p,g,m,new n.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(c),y,u)}setQueryParams(c,l,u){const p=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),d=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);p&&!(s.QueryParameterNames.CustomSpeechDeploymentId in c)&&(c[s.QueryParameterNames.CustomSpeechDeploymentId]=p),d&&!(s.QueryParameterNames.Language in c)&&(c[s.QueryParameterNames.Language]=d);const f=l.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true",h=l.parameters.getProperty(n.OutputFormatPropertyName,t.OutputFormat[t.OutputFormat.Simple])!==t.OutputFormat[t.OutputFormat.Simple];(f||h)&&(c[s.QueryParameterNames.Format]=t.OutputFormat[t.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(l,c,u)}};return Ou.TranscriberConnectionFactory=o,Ou}var Du={},QT;function wX(){if(QT)return Du;QT=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.TranslationConnectionFactory=void 0;const e=Dr(),t=Qd,r=B(),n=xi(),i=Z(),s=Or,o=Ai;let a=class extends n.ConnectionFactoryBase{create(l,u,p){const d=this.getEndpointUrl(l),f={};l.autoDetectSourceLanguages!==void 0&&(f[o.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(f,l,d);const h={};u.token!==void 0&&u.token!==""&&(h[u.headerName]=u.token),h[s.HeaderNames.ConnectionId]=p,l.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,d);const v=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(d,f,h,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(l),v,p)}getEndpointUrl(l,u){const p=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),d=n.ConnectionFactoryBase.getHostSuffix(p);let f=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);return f||(l.autoDetectSourceLanguages!==void 0?f=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+d)+"/speech/universal/v2":f=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+d)+"/speech/translation/cognitiveservices/v1"),u===!0?f:t.StringUtils.formatString(f,{region:p})}setQueryParams(l,u,p){l.from=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage),l.to=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages),l.scenario=u.recognitionMode===i.RecognitionMode.Interactive?"interactive":u.recognitionMode===i.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(u,l,p),this.setUrlParameter(r.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,o.QueryParameterNames.StableTranslation,u,l,p);const d=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);d!==void 0&&(l.voice=d,l.features="texttospeech")}};return Du.TranslationConnectionFactory=a,Du}var Mu={},JT;function bX(){if(JT)return Mu;JT=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.EnumTranslation=void 0;const e=B(),t=Z();let r=class{static implTranslateRecognitionResult(i,s=!1){let o=e.ResultReason.Canceled;switch(i){case t.RecognitionStatus.Success:o=e.ResultReason.RecognizedSpeech;break;case t.RecognitionStatus.EndOfDictation:o=s?e.ResultReason.RecognizedSpeech:e.ResultReason.NoMatch;break;case t.RecognitionStatus.NoMatch:case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:o=e.ResultReason.NoMatch;break;case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:o=e.ResultReason.Canceled;break}return o}static implTranslateCancelResult(i){let s=e.CancellationReason.EndOfStream;switch(i){case t.RecognitionStatus.Success:case t.RecognitionStatus.EndOfDictation:case t.RecognitionStatus.NoMatch:s=e.CancellationReason.EndOfStream;break;case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:s=e.CancellationReason.Error;break}return s}static implTranslateCancelErrorCode(i){let s=e.CancellationErrorCode.NoError;switch(i){case t.RecognitionStatus.Error:s=e.CancellationErrorCode.ServiceError;break;case t.RecognitionStatus.TooManyRequests:s=e.CancellationErrorCode.TooManyRequests;break;case t.RecognitionStatus.BadRequest:s=e.CancellationErrorCode.BadRequestParameters;break;case t.RecognitionStatus.Forbidden:s=e.CancellationErrorCode.Forbidden;break;default:s=e.CancellationErrorCode.NoError;break}return s}static implTranslateErrorDetails(i){let s="The speech service encountered an internal error and could not continue.";switch(i){case e.CancellationErrorCode.Forbidden:s="The recognizer is using a free subscription that ran out of quota.";break;case e.CancellationErrorCode.BadRequestParameters:s="Invalid parameter or unsupported audio format in the request.";break;case e.CancellationErrorCode.TooManyRequests:s="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break}return s}};return Mu.EnumTranslation=r,Mu}var lN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionStatus=e.SynthesisStatus=void 0,function(t){t[t.Success=0]="Success",t[t.SynthesisEnd=1]="SynthesisEnd",t[t.Error=2]="Error"}(e.SynthesisStatus||(e.SynthesisStatus={})),function(t){t[t.Success=0]="Success",t[t.NoMatch=1]="NoMatch",t[t.InitialSilenceTimeout=2]="InitialSilenceTimeout",t[t.BabbleTimeout=3]="BabbleTimeout",t[t.Error=4]="Error",t[t.EndOfDictation=5]="EndOfDictation",t[t.TooManyRequests=6]="TooManyRequests",t[t.BadRequest=7]="BadRequest",t[t.Forbidden=8]="Forbidden"}(e.RecognitionStatus||(e.RecognitionStatus={}))})(lN);var Nu={},XT;function PX(){if(XT)return Nu;XT=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.TranslationSynthesisEnd=void 0;const e=Z();let t=class uN{constructor(n){this.privSynthesisEnd=JSON.parse(n),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(n){return new uN(n)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}};return Nu.TranslationSynthesisEnd=t,Nu}var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.TranslationHypothesis=void 0;const _X=ye,EX=Hm;class Tv{constructor(t){this.privTranslationHypothesis=t,this.privTranslationHypothesis.Translation.TranslationStatus=EX.TranslationStatus[this.privTranslationHypothesis.Translation.TranslationStatus]}static fromJSON(t){return new Tv(JSON.parse(t))}static fromTranslationResponse(t){_X.Contracts.throwIfNullOrUndefined(t,"translationHypothesis");const r=t.SpeechHypothesis;return t.SpeechHypothesis=void 0,r.Translation=t,new Tv(r)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){var t;return(t=this.privTranslationHypothesis.PrimaryLanguage)==null?void 0:t.Language}}Cg.TranslationHypothesis=Tv;var Lu={},ZT;function RX(){if(ZT)return Lu;ZT=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.TranslationPhrase=void 0;const e=ye,t=Z(),r=Hm;let n=class TC{constructor(s){this.privTranslationPhrase=s,this.privTranslationPhrase.RecognitionStatus=t.RecognitionStatus[this.privTranslationPhrase.RecognitionStatus],this.privTranslationPhrase.Translation!==void 0&&(this.privTranslationPhrase.Translation.TranslationStatus=r.TranslationStatus[this.privTranslationPhrase.Translation.TranslationStatus])}static fromJSON(s){return new TC(JSON.parse(s))}static fromTranslationResponse(s){e.Contracts.throwIfNullOrUndefined(s,"translationResponse");const o=s.SpeechPhrase;return s.SpeechPhrase=void 0,o.Translation=s,o.Text=o.DisplayText,new TC(o)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){var s;return(s=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:s.Language}get Confidence(){var s;return(s=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:s.Confidence}get Translation(){return this.privTranslationPhrase.Translation}};return Lu.TranslationPhrase=n,Lu}var ju={},ek;function TX(){if(ek)return ju;ek=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.TranslationServiceRecognizer=void 0;const e=pe(),t=B(),r=Z();let n=class extends r.ConversationServiceRecognizer{constructor(s,o,a,c,l){super(s,o,a,c,l),this.privTranslationRecognizer=l,this.connectionEvents.attach(u=>{u.name==="ConnectionEstablishedEvent"&&this.privTranslationRecognizer.onConnection()})}async processTypeSpecificMessages(s){const o=new t.PropertyCollection;let a=await this.processSpeechMessages(s);if(a)return!0;const c=async u=>{if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+u.Offset+u.Duration),u.RecognitionStatus===r.RecognitionStatus.Success){const p=this.fireEventForResult(u,o);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,p)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(p.result)}catch(d){this.privErrorCallback&&this.privErrorCallback(d)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const p=r.EnumTranslation.implTranslateRecognitionResult(u.RecognitionStatus),d=new t.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,p,u.Text,u.Duration,this.privRequestSession.currentTurnAudioOffset+u.Offset,u.Language,u.Confidence,void 0,s.textBody,o);if(p===t.ResultReason.Canceled){const f=r.EnumTranslation.implTranslateCancelResult(u.RecognitionStatus),h=r.EnumTranslation.implTranslateCancelErrorCode(u.RecognitionStatus);await this.cancelRecognitionLocal(f,h,r.EnumTranslation.implTranslateErrorDetails(h))}else{if(!(this.privRequestSession.isSpeechEnded&&p===t.ResultReason.NoMatch&&u.RecognitionStatus!==r.RecognitionStatus.InitialSilenceTimeout)){const f=new t.TranslationRecognitionEventArgs(d,d.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,f)}catch{}}if(this.privSuccessCallback){try{this.privSuccessCallback(d)}catch(f){this.privErrorCallback&&this.privErrorCallback(f)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0}},l=(u,p)=>{const d=this.fireEventForResult(u,p);if(this.privRequestSession.onHypothesis(this.privRequestSession.currentTurnAudioOffset+d.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,d)}catch{}a=!0};switch(s.messageType===e.MessageType.Text&&o.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,s.textBody),s.path.toLowerCase()){case"translation.hypothesis":l(r.TranslationHypothesis.fromJSON(s.textBody),o);break;case"translation.response":const u=JSON.parse(s.textBody);if(u.SpeechPhrase)await c(r.TranslationPhrase.fromTranslationResponse(u));else{const d=JSON.parse(s.textBody);d.SpeechHypothesis&&l(r.TranslationHypothesis.fromTranslationResponse(d),o)}break;case"translation.phrase":await c(r.TranslationPhrase.fromJSON(s.textBody));break;case"translation.synthesis":this.sendSynthesisAudio(s.binaryBody,this.privRequestSession.sessionId),a=!0;break;case"audio.end":case"translation.synthesis.end":const p=r.TranslationSynthesisEnd.fromJSON(s.textBody);switch(p.SynthesisStatus){case r.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const d=new t.TranslationSynthesisResult(t.ResultReason.Canceled,void 0),f=new t.TranslationSynthesisEventArgs(d,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,f)}catch{}}if(this.privTranslationRecognizer.canceled){const d=new t.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,t.CancellationReason.Error,p.FailureReason,t.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,d)}catch{}}break;case r.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId);break}a=!0;break}return a}cancelRecognition(s,o,a,c,l){const u=new t.PropertyCollection;if(u.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[c]),this.privTranslationRecognizer.canceled){const p=new t.TranslationRecognitionCanceledEventArgs(s,a,l,c,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,p)}catch{}}if(this.privSuccessCallback){const p=new t.TranslationRecognitionResult(void 0,o,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,l,void 0,u);try{this.privSuccessCallback(p),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(s,o,a){try{const c=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(s),o,a);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,c)}catch{}}handleRecognizedCallback(s,o,a){try{const c=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(s),o,a);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,c)}catch{}}fireEventForResult(s,o){let a;if(s.Translation.Translations!==void 0){a=new t.Translations;for(const h of s.Translation.Translations)a.set(h.Language,h.Text||h.DisplayText)}let c,l;s instanceof r.TranslationPhrase?(s.Translation&&s.Translation.TranslationStatus===e.TranslationStatus.Success?c=t.ResultReason.TranslatedSpeech:c=t.ResultReason.RecognizedSpeech,l=s.Confidence):c=t.ResultReason.TranslatingSpeech;const u=s.Language,p=s.Offset+this.privRequestSession.currentTurnAudioOffset,d=new t.TranslationRecognitionResult(a,this.privRequestSession.requestId,c,s.Text,s.Duration,p,u,l,s.Translation.FailureReason,JSON.stringify(s),o);return new t.TranslationRecognitionEventArgs(d,p,this.privRequestSession.sessionId)}sendSynthesisAudio(s,o){const a=s===void 0?t.ResultReason.SynthesizingAudioCompleted:t.ResultReason.SynthesizingAudio,c=new t.TranslationSynthesisResult(a,s),l=new t.TranslationSynthesisEventArgs(c,o);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,l)}catch{}}};return ju.TranslationServiceRecognizer=n,ju}var wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.SpeechDetected=void 0;class Gb{constructor(t){this.privSpeechStartDetected=JSON.parse(t)}static fromJSON(t){return new Gb(t)}get Offset(){return this.privSpeechStartDetected.Offset}}wg.SpeechDetected=Gb;var bg={};Object.defineProperty(bg,"__esModule",{value:!0});bg.SpeechHypothesis=void 0;class Qb{constructor(t){this.privSpeechHypothesis=JSON.parse(t)}static fromJSON(t){return new Qb(t)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}bg.SpeechHypothesis=Qb;var Pg={};Object.defineProperty(Pg,"__esModule",{value:!0});Pg.SpeechKeyword=void 0;class Jb{constructor(t){this.privSpeechKeyword=JSON.parse(t)}static fromJSON(t){return new Jb(t)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}}Pg.SpeechKeyword=Jb;var zu={},tk;function kX(){if(tk)return zu;tk=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.SpeechServiceRecognizer=void 0;const e=B(),t=Z();let r=class extends t.ServiceRecognizerBase{constructor(i,s,o,a,c){super(i,s,o,a,c),this.privSpeechRecognizer=c}async processTypeSpecificMessages(i){let s;const o=new e.PropertyCollection;o.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,i.textBody);let a=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=t.SpeechHypothesis.fromJSON(i.textBody),l=c.Offset+this.privRequestSession.currentTurnAudioOffset;s=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,c.Text,c.Duration,l,c.Language,c.LanguageDetectionConfidence,void 0,void 0,i.textBody,o),this.privRequestSession.onHypothesis(l);const u=new e.SpeechRecognitionEventArgs(s,c.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,u)}catch{}a=!0;break;case"speech.phrase":const p=t.SimpleSpeechPhrase.fromJSON(i.textBody),d=t.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+p.Offset+p.Duration),e.ResultReason.Canceled===d){const f=t.EnumTranslation.implTranslateCancelResult(p.RecognitionStatus),h=t.EnumTranslation.implTranslateCancelErrorCode(p.RecognitionStatus);await this.cancelRecognitionLocal(f,h,t.EnumTranslation.implTranslateErrorDetails(h))}else{if(!(this.privRequestSession.isSpeechEnded&&d===e.ResultReason.NoMatch&&p.RecognitionStatus!==t.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])s=new e.SpeechRecognitionResult(this.privRequestSession.requestId,d,p.DisplayText,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,p.Language,p.LanguageDetectionConfidence,void 0,void 0,i.textBody,o);else{const h=t.DetailedSpeechPhrase.fromJSON(i.textBody),v=h.Offset+this.privRequestSession.currentTurnAudioOffset,g=h.getJsonWithCorrectedOffsets(v);s=new e.SpeechRecognitionResult(this.privRequestSession.requestId,d,h.RecognitionStatus===t.RecognitionStatus.Success?h.NBest[0].Display:void 0,h.Duration,v,h.Language,h.LanguageDetectionConfidence,void 0,void 0,g,o)}const f=new e.SpeechRecognitionEventArgs(s,s.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,f)}catch{}}if(this.privSuccessCallback){try{this.privSuccessCallback(s)}catch(f){this.privErrorCallback&&this.privErrorCallback(f)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0;break}return a}cancelRecognition(i,s,o,a,c){const l=new e.PropertyCollection;if(l.setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[a]),this.privSpeechRecognizer.canceled){const u=new e.SpeechRecognitionCanceledEventArgs(o,c,a,void 0,i);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,u)}catch{}}if(this.privSuccessCallback){const u=new e.SpeechRecognitionResult(s,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,l);try{this.privSuccessCallback(u),this.privSuccessCallback=void 0}catch{}}}};return zu.SpeechServiceRecognizer=r,zu}var $u={},rk;function IX(){if(rk)return $u;rk=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.ConversationTranscriptionServiceRecognizer=void 0;const e=B(),t=Z();let r=class extends t.ServiceRecognizerBase{constructor(i,s,o,a,c){super(i,s,o,a,c),this.privConversationTranscriber=c,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const i=this.privSpeechContext.getSection("phraseDetection");i.mode="Conversation";const s={};s.mode="Anonymous",s.audioSessionId=this.privDiarizationSessionId,s.audioOffsetMs=0,i.speakerDiarization=s,this.privSpeechContext.setSection("phraseDetection",i)}}async processTypeSpecificMessages(i){let s;const o=new e.PropertyCollection;o.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,i.textBody);let a=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=t.SpeechHypothesis.fromJSON(i.textBody),l=c.Offset+this.privRequestSession.currentTurnAudioOffset;s=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,c.Text,c.Duration,l,c.Language,c.LanguageDetectionConfidence,void 0,void 0,i.textBody,o),this.privRequestSession.onHypothesis(l);const u=new e.ConversationTranscriptionEventArgs(s,c.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,u)}catch{}a=!0;break;case"speech.phrase":const p=t.SimpleSpeechPhrase.fromJSON(i.textBody),d=t.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+p.Offset+p.Duration),e.ResultReason.Canceled===d){const f=t.EnumTranslation.implTranslateCancelResult(p.RecognitionStatus),h=t.EnumTranslation.implTranslateCancelErrorCode(p.RecognitionStatus);await this.cancelRecognitionLocal(f,h,t.EnumTranslation.implTranslateErrorDetails(h))}else if(!(this.privRequestSession.isSpeechEnded&&d===e.ResultReason.NoMatch&&p.RecognitionStatus!==t.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])s=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,d,p.DisplayText,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,p.Language,p.LanguageDetectionConfidence,p.SpeakerId,void 0,i.textBody,o);else{const h=t.DetailedSpeechPhrase.fromJSON(i.textBody),v=h.Offset+this.privRequestSession.currentTurnAudioOffset,g=h.getJsonWithCorrectedOffsets(v);s=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,d,h.RecognitionStatus===t.RecognitionStatus.Success?h.NBest[0].Display:void 0,h.Duration,v,h.Language,h.LanguageDetectionConfidence,p.SpeakerId,void 0,g,o)}const f=new e.ConversationTranscriptionEventArgs(s,s.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,f)}catch{}}a=!0;break}return a}cancelRecognition(i,s,o,a,c){if(new e.PropertyCollection().setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[a]),this.privConversationTranscriber.canceled){const u=new e.ConversationTranscriptionCanceledEventArgs(o,c,a,void 0,i);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,u)}catch{}}}};return $u.ConversationTranscriptionServiceRecognizer=r,$u}var Fu={},nk;function AX(){if(nk)return Fu;nk=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.TranscriptionServiceRecognizer=void 0;const e=pe(),t=B(),r=Z(),n=xs;let i=class extends r.ConversationServiceRecognizer{constructor(o,a,c,l,u){super(o,a,c,l,u),this.privTranscriberRecognizer=u,this.sendPrePayloadJSONOverride=p=>this.sendTranscriptionStartJSON(p),this.privRecognizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)==="true"&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(o,a){if(this.privRequestSession.isRecognizing){const c=await this.fetchConnection();await this.sendSpeechEvent(c,this.createSpeechEventPayload(o,a))}}async sendMeetingSpeechEventAsync(o,a){if(this.privRequestSession.isRecognizing){const c=await this.fetchConnection();await this.sendSpeechEvent(c,this.createMeetingSpeechEventPayload(o,a))}}processTypeSpecificMessages(o){return this.processSpeechMessages(o)}handleRecognizedCallback(o,a,c){try{const l=new t.SpeechRecognitionEventArgs(o,a,c);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,l),this.privSuccessCallback){try{this.privSuccessCallback(o)}catch(u){this.privErrorCallback&&this.privErrorCallback(u)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch{}}handleRecognizingCallback(o,a,c){try{const l=new t.SpeechRecognitionEventArgs(o,a,c);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,l)}catch{}}cancelRecognition(o,a,c,l,u){const p=new t.PropertyCollection;if(p.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[l]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const d=new t.MeetingTranscriptionCanceledEventArgs(c,u,l,void 0,o);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,d)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const d=new t.ConversationTranscriptionCanceledEventArgs(c,u,l,void 0,o);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,d)}catch{}}if(this.privSuccessCallback){const d=new t.SpeechRecognitionResult(a,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,u,void 0,p);try{this.privSuccessCallback(d),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(o){if(await this.sendSpeechContext(o,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const a=this.privTranscriberRecognizer.getMeetingInfo(),c=this.createMeetingSpeechEventPayload(a,"start");await this.sendSpeechEvent(o,c)}else{const a=this.privTranscriberRecognizer.getConversationInfo(),c=this.createSpeechEventPayload(a,"start");await this.sendSpeechEvent(o,c)}await this.sendWaveHeader(o)}sendSpeechEvent(o,a){const c=JSON.stringify(a);if(c)return o.send(new n.SpeechConnectionMessage(e.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",c))}createSpeechEventPayload(o,a){const c={id:"meeting",name:a,meeting:o.conversationProperties};return c.meeting.id=o.id,c.meeting.attendees=o.participants,c}createMeetingSpeechEventPayload(o,a){const c={id:"meeting",name:a,meeting:o.meetingProperties};return c.meeting.id=o.id,c.meeting.attendees=o.participants,c}};return Fu.TranscriptionServiceRecognizer=i,Fu}var Bu={},ik;function xX(){if(ik)return Bu;ik=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.DetailedSpeechPhrase=void 0;const e=Z();let t=class pN{constructor(n){this.privDetailedSpeechPhrase=JSON.parse(n),this.privDetailedSpeechPhrase.RecognitionStatus=e.RecognitionStatus[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(n){return new pN(n)}getJsonWithCorrectedOffsets(n){if(this.privDetailedSpeechPhrase.NBest){let i;for(const s of this.privDetailedSpeechPhrase.NBest)if(s.Words&&s.Words[0]){i=s.Words[0].Offset;break}if(i&&i<n){const s=n-i;for(const o of this.privDetailedSpeechPhrase.NBest){if(o.Words)for(const a of o.Words)a.Offset+=s;if(o.DisplayWords)for(const a of o.DisplayWords)a.Offset+=s}}}return JSON.stringify(this.privDetailedSpeechPhrase)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}};return Bu.DetailedSpeechPhrase=t,Bu}var Hu={},sk;function OX(){if(sk)return Hu;sk=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.SimpleSpeechPhrase=void 0;const e=Z();let t=class dN{constructor(n){this.privSimpleSpeechPhrase=JSON.parse(n),this.privSimpleSpeechPhrase.RecognitionStatus=e.RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(n){return new dN(n)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}};return Hu.SimpleSpeechPhrase=t,Hu}var _g={};Object.defineProperty(_g,"__esModule",{value:!0});_g.AddedLmIntent=void 0;class DX{constructor(t,r){this.modelImpl=t,this.intentName=r}}_g.AddedLmIntent=DX;var Uu={},ok;function MX(){if(ok)return Uu;ok=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.IntentServiceRecognizer=void 0;const e=pe(),t=B(),r=Z();let n=class extends r.ServiceRecognizerBase{constructor(s,o,a,c,l){super(s,o,a,c,l),this.privIntentRecognizer=l,this.privIntentDataSent=!1}setIntents(s,o){this.privAddedLmIntents=s,this.privUmbrellaIntent=o,this.privIntentDataSent=!0}processTypeSpecificMessages(s){let o,a,c=!1;const l=new t.PropertyCollection;switch(s.messageType===e.MessageType.Text&&l.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,s.textBody),s.path.toLowerCase()){case"speech.hypothesis":const p=r.SpeechHypothesis.fromJSON(s.textBody);if(o=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,t.ResultReason.RecognizingIntent,p.Text,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,p.Language,p.LanguageDetectionConfidence,void 0,s.textBody,l),this.privRequestSession.onHypothesis(o.offset),a=new t.IntentRecognitionEventArgs(o,p.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,a)}catch{}c=!0;break;case"speech.phrase":const d=r.SimpleSpeechPhrase.fromJSON(s.textBody);o=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,r.EnumTranslation.implTranslateRecognitionResult(d.RecognitionStatus),d.DisplayText,d.Duration,d.Offset+this.privRequestSession.currentTurnAudioOffset,d.Language,d.LanguageDetectionConfidence,void 0,s.textBody,l),a=new t.IntentRecognitionEventArgs(o,o.offset,this.privRequestSession.sessionId);const f=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(o)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};this.privIntentDataSent===!1||t.ResultReason.NoMatch===a.result.reason?(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),f()):this.privPendingIntentArgs=a,c=!0;break;case"response":if(a=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,a===void 0){if(s.textBody==="")return;a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const h=r.IntentResponse.fromJSON(s.textBody);if(h!==null&&h.topScoringIntent&&h.topScoringIntent.intent){let v=this.privAddedLmIntents[h.topScoringIntent.intent];if(this.privUmbrellaIntent!==void 0&&(v=this.privUmbrellaIntent),v){const g=v===void 0||v.intentName===void 0?h.topScoringIntent.intent:v.intentName;let m=a.result.reason;g!==void 0&&(m=t.ResultReason.RecognizedIntent);const y=a.result.properties!==void 0?a.result.properties:new t.PropertyCollection;y.setProperty(t.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,s.textBody),a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult(g,a.result.resultId,m,a.result.text,a.result.duration,a.result.offset,void 0,void 0,a.result.errorDetails,a.result.json,y),a.offset,a.sessionId)}}if(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(a.result)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}c=!0;break}const u=new e.Deferred;return u.resolve(c),u.promise}cancelRecognition(s,o,a,c,l){const u=new t.PropertyCollection;if(u.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[c]),this.privIntentRecognizer.canceled){const p=new t.IntentRecognitionCanceledEventArgs(a,l,c,void 0,void 0,s);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,p)}catch{}}if(this.privSuccessCallback){const p=new t.IntentRecognitionResult(void 0,o,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,l,void 0,u);try{this.privSuccessCallback(p),this.privSuccessCallback=void 0}catch{}}}};return Uu.IntentServiceRecognizer=n,Uu}var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.IntentResponse=void 0;class Xb{constructor(t){t===""?this.privIntentResponse={}:this.privIntentResponse=JSON.parse(t)}static fromJSON(t){return new Xb(t)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}}Eg.IntentResponse=Xb;var fN={};Object.defineProperty(fN,"__esModule",{value:!0});var Rg={},Tg={};Object.defineProperty(Tg,"__esModule",{value:!0});Tg.ServiceTelemetryListener=void 0;const ls=pe(),ak=yg;class NX{constructor(t,r,n){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=t,this.privAudioSourceId=r,this.privAudioNodeId=n,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(t){t>0&&this.privPhraseLatencies.push(Date.now()-t)}hypothesisReceived(t){t>0&&this.privHypothesisLatencies.push(Date.now()-t)}onEvent(t){this.privIsDisposed||(t instanceof ak.RecognitionTriggeredEvent&&t.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:t.eventTime,Name:"ListeningTrigger",Start:t.eventTime}),t instanceof ls.AudioStreamNodeAttachingEvent&&t.audioSourceId===this.privAudioSourceId&&t.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=t.eventTime),t instanceof ls.AudioStreamNodeAttachedEvent&&t.audioSourceId===this.privAudioSourceId&&t.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=t.eventTime),t instanceof ls.AudioSourceErrorEvent&&t.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:t.eventTime,Error:t.error,Name:"Microphone",Start:this.privMicStartTime})),t instanceof ls.AudioStreamNodeErrorEvent&&t.audioSourceId===this.privAudioSourceId&&t.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:t.eventTime,Error:t.error,Name:"Microphone",Start:this.privMicStartTime})),t instanceof ls.AudioStreamNodeDetachedEvent&&t.audioSourceId===this.privAudioSourceId&&t.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:t.eventTime,Name:"Microphone",Start:this.privMicStartTime})),t instanceof ak.ConnectingToServiceEvent&&t.requestId===this.privRequestId&&(this.privConnectionId=t.sessionId),t instanceof ls.ConnectionStartEvent&&t.connectionId===this.privConnectionId&&(this.privConnectionStartTime=t.eventTime),t instanceof ls.ConnectionEstablishedEvent&&t.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:t.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),t instanceof ls.ConnectionEstablishErrorEvent&&t.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:t.eventTime,Error:this.getConnectionError(t.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),t instanceof ls.ConnectionMessageReceivedEvent&&t.connectionId===this.privConnectionId&&t.message&&t.message.headers&&t.message.headers.path&&(this.privReceivedMessages[t.message.headers.path]||(this.privReceivedMessages[t.message.headers.path]=new Array),this.privReceivedMessages[t.message.headers.path].length<50&&this.privReceivedMessages[t.message.headers.path].push(t.networkReceivedTime)))}getTelemetry(){const t=new Array;this.privListeningTriggerMetric&&t.push(this.privListeningTriggerMetric),this.privMicMetric&&t.push(this.privMicMetric),this.privConnectionEstablishMetric&&t.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&t.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&t.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const r={Metrics:t,ReceivedMessages:this.privReceivedMessages},n=JSON.stringify(r);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],n}get hasTelemetry(){return Object.keys(this.privReceivedMessages).length!==0||this.privListeningTriggerMetric!==null||this.privMicMetric!==null||this.privConnectionEstablishMetric!==null||this.privPhraseLatencies.length!==0||this.privHypothesisLatencies.length!==0}dispose(){this.privIsDisposed=!0}getConnectionError(t){switch(t){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+t.toString()}}}Tg.ServiceTelemetryListener=NX;Object.defineProperty(Rg,"__esModule",{value:!0});Rg.RequestSession=void 0;const Na=pe(),Yf=yg,LX=Tg;class jX{constructor(t){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=t,this.privRequestId=Na.createNoDashGuid(),this.privAudioNodeId=Na.createNoDashGuid(),this.privTurnDeferral=new Na.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(t){this.privServiceTelemetryListener&&this.privDetachables.push(t.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new LX.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new Yf.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(t,r){this.privAudioNode=t,this.privIsAudioNodeDetached=!1,r?await this.onComplete():this.onEvent(new Yf.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(t,r){this.privAuthFetchEventId=t,this.privSessionId=r,this.onEvent(new Yf.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(t){t&&await this.onComplete()}async onConnectionEstablishCompleted(t,r){if(t===200){this.onEvent(new Yf.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0;return}else t===403&&await this.onComplete()}async onServiceTurnEndResponse(t){this.privTurnDeferral.resolve(),!t||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=Na.createNoDashGuid()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new Na.Deferred}onHypothesis(t){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(t)))}onPhraseRecognized(t){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(t)),this.onServiceRecognized(t)}onServiceRecognized(t){this.privLastRecoOffset=t,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(t),this.privConnectionAttempts=0}onAudioSent(t){this.privBytesSent+=t,this.privRecognitionBytesSent+=t}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const t of this.privDetachables)await t.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(t){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(t),Na.Events.instance.onEvent(t)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}}Rg.RequestSession=jX;var kg={};Object.defineProperty(kg,"__esModule",{value:!0});kg.SpeechContext=void 0;class zX{constructor(t){this.privContext={},this.privDynamicGrammar=t}getSection(t){return this.privContext[t]||{}}setSection(t,r){this.privContext[t]=r}setPronunciationAssessmentParams(t,r,n=!1){this.privContext.phraseDetection===void 0&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment===void 0&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(t),n&&(this.privContext.phraseDetection.mode="Conversation"),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),this.privContext.phraseOutput.detailed.options.indexOf("SNR")===-1&&this.privContext.phraseOutput.detailed.options.push("SNR"),r&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:r},this.privContext.phraseOutput.detailed.options.push("ContentAssessment"))}setDetailedOutputFormat(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed"}setWordLevelTimings(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")===-1&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}setSpeakerDiarizationAudioOffsetMs(t){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=t}toJSON(){const t=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",t),JSON.stringify(this.privContext)}}kg.SpeechContext=zX;var Ig={};Object.defineProperty(Ig,"__esModule",{value:!0});Ig.DynamicGrammarBuilder=void 0;class $X{addPhrase(t){this.privPhrases||(this.privPhrases=[]),t instanceof Array?this.privPhrases=this.privPhrases.concat(t):this.privPhrases.push(t)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(t){this.privGrammars||(this.privGrammars=[]),t instanceof Array?this.privGrammars=this.privGrammars.concat(t):this.privGrammars.push(t)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(this.privGrammars===void 0&&this.privPhrases===void 0)return;const t={};if(t.ReferenceGrammars=this.privGrammars,this.privPhrases!==void 0&&this.privPhrases.length!==0){const r=[];this.privPhrases.forEach(n=>{r.push({Text:n})}),t.Groups=[{Type:"Generic",Items:r}]}return t}}Ig.DynamicGrammarBuilder=$X;var hN={};Object.defineProperty(hN,"__esModule",{value:!0});var qu={},Ag={},xg={},Zb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDataStreamType=e.ActivityPayloadResponse=void 0;class t{constructor(n){this.privActivityResponse=JSON.parse(n)}static fromJSON(n){return new t(n)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}e.ActivityPayloadResponse=t,function(r){r[r.None=0]="None",r[r.TextToSpeechAudio=1]="TextToSpeechAudio"}(e.MessageDataStreamType||(e.MessageDataStreamType={}))})(Zb);Object.defineProperty(xg,"__esModule",{value:!0});xg.DialogServiceTurnState=void 0;const FX=Ao,BX=Ur,HX=Zb;class UX{constructor(t,r){this.privRequestId=r,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=t,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(t,r){return t.messageDataStreamType===HX.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=BX.AudioOutputStream.createPullStream(),this.privAudioStream.format=r!==void 0?r:FX.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){this.privAudioStream!==null&&!this.privAudioStream.isClosed&&this.privAudioStream.close()}complete(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout(()=>{this.privTurnManager.CompleteTurn(this.privRequestId)},2e3)}}xg.DialogServiceTurnState=UX;Object.defineProperty(Ag,"__esModule",{value:!0});Ag.DialogServiceTurnStateManager=void 0;const ck=Vr,qX=xg;class WX{constructor(){this.privTurnMap=new Map}StartTurn(t){if(this.privTurnMap.has(t))throw new ck.InvalidOperationError("Service error: There is already a turn with id:"+t);const r=new qX.DialogServiceTurnState(this,t);return this.privTurnMap.set(t,r),this.privTurnMap.get(t)}GetTurn(t){return this.privTurnMap.get(t)}CompleteTurn(t){if(!this.privTurnMap.has(t))throw new ck.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+t);const r=this.privTurnMap.get(t);return r.complete(),this.privTurnMap.delete(t),r}}Ag.DialogServiceTurnStateManager=WX;var lk;function VX(){if(lk)return qu;lk=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.DialogServiceAdapter=void 0;const e=Dr(),t=ba,r=pe(),n=Ao,i=B(),s=Ag,o=Z(),a=Zb,c=xs;let l=class extends o.ServiceRecognizerBase{constructor(p,d,f,h,v){super(p,d,f,h,v),this.privEvents=new r.EventSource,this.privDialogServiceConnector=v,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new s.DialogServiceTurnStateManager,this.recognizeOverride=(g,m,y)=>this.listenOnce(g,m,y),this.postConnectImplOverride=g=>this.dialogConnectImpl(g),this.configConnectionOverride=g=>this.configConnection(g),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=f,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach(g=>{g.name==="ConnectionClosedEvent"&&(this.terminateMessageLoop=!0)})}async sendMessage(p){const d=r.createGuid(),f=r.createNoDashGuid(),h={context:{interactionId:d},messagePayload:JSON.parse(p),version:.5},v=JSON.stringify(h);await(await this.fetchConnection()).send(new c.SpeechConnectionMessage(r.MessageType.Text,"agent",f,"application/json",v))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(p){const d=new i.PropertyCollection;p.messageType===r.MessageType.Text&&d.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,p.textBody);let f,h;switch(p.path.toLowerCase()){case"speech.phrase":const g=o.SimpleSpeechPhrase.fromJSON(p.textBody);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+g.Offset+g.Duration),g.RecognitionStatus!==o.RecognitionStatus.TooManyRequests&&g.RecognitionStatus!==o.RecognitionStatus.Error){const T=this.fireEventForResult(g,d);if(this.privLastResult=T.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,T)}catch{}}h=!0;break;case"speech.hypothesis":const m=o.SpeechHypothesis.fromJSON(p.textBody),y=m.Offset+this.privRequestSession.currentTurnAudioOffset;f=new i.SpeechRecognitionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,m.Text,m.Duration,y,m.Language,m.LanguageDetectionConfidence,void 0,void 0,p.textBody,d),this.privRequestSession.onHypothesis(y);const S=new i.SpeechRecognitionEventArgs(f,m.Duration,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,S)}catch{}h=!0;break;case"speech.keyword":const C=o.SpeechKeyword.fromJSON(p.textBody);f=new i.SpeechRecognitionResult(this.privRequestSession.requestId,C.Status==="Accepted"?i.ResultReason.RecognizedKeyword:i.ResultReason.NoMatch,C.Text,C.Duration,C.Offset,void 0,void 0,void 0,void 0,p.textBody,d),C.Status!=="Accepted"&&(this.privLastResult=f);const b=new i.SpeechRecognitionEventArgs(f,f.duration,f.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,b)}catch{}h=!0;break;case"audio":{const T=p.requestId.toUpperCase(),_=this.privTurnStateManager.GetTurn(T);try{p.binaryBody?_.audioStream.write(p.binaryBody):_.endAudioStream()}catch{}}h=!0;break;case"response":this.handleResponseMessage(p),h=!0;break}const v=new r.Deferred;return v.resolve(h),v.promise}async cancelRecognition(p,d,f,h,v){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const g=new i.PropertyCollection;g.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[h]);const m=new i.SpeechRecognitionCanceledEventArgs(f,v,h,void 0,p);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,m)}catch{}if(this.privSuccessCallback){const y=new i.SpeechRecognitionResult(void 0,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,v,void 0,g);try{this.privSuccessCallback(y),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(p,d,f){this.privRecognizerConfig.recognitionMode=p,this.privSuccessCallback=d,this.privErrorCallback=f,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(i.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const h=this.connectImpl(),v=this.sendPreAudioMessages(),g=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),m=await this.privDialogAudioSource.format,y=await this.privDialogAudioSource.deviceInfo,S=new e.ReplayableAudioNode(g,m.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(S,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:y};try{await h,await v}catch(T){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.ConnectionFailure,T),Promise.resolve()}const C=new i.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,C),this.sendAudio(S).then(()=>{},async T=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,T)})}dialogConnectImpl(p){return this.privConnectionLoop=this.startMessageLoop(),p}receiveDialogMessageOverride(){const p=new r.Deferred,d=async()=>{try{const f=this.isDisposed(),h=!this.isDisposed()&&this.terminateMessageLoop;if(f||h){p.resolve(void 0);return}const g=await(await this.fetchConnection()).read();if(!g)return d();const m=c.SpeechConnectionMessage.fromConnectionMessage(g);switch(m.path.toLowerCase()){case"turn.start":{const R=m.requestId.toUpperCase(),O=this.privRequestSession.requestId.toUpperCase();R!==O?this.privTurnStateManager.StartTurn(R):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const S=o.SpeechDetected.fromJSON(m.textBody),C=new i.RecognitionEventArgs(S.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,C);break;case"speech.enddetected":let b;m.textBody.length>0?b=m.textBody:b="{ Offset: 0 }";const T=o.SpeechDetected.fromJSON(b);this.privRequestSession.onServiceRecognized(T.Offset+this.privRequestSession.currentTurnAudioOffset);const _=new i.RecognitionEventArgs(T.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,_);break;case"turn.end":{const R=m.requestId.toUpperCase(),O=this.privRequestSession.requestId.toUpperCase();if(R!==O)this.privTurnStateManager.CompleteTurn(R);else{const D=new i.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),(!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)&&this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,D),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch($){this.privErrorCallback&&this.privErrorCallback($)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(m)||this.serviceEvents&&this.serviceEvents.onEvent(new r.ServiceEvent(m.path.toLowerCase(),m.textBody))}catch{}}return d()}catch{this.terminateMessageLoop=!0,p.resolve()}};return d().catch(f=>{r.Events.instance.onEvent(new r.BackgroundEvent(f))}),p.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(p){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,p)}return Promise.resolve()}async configConnection(p){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(p,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(p),p)}async sendPreAudioMessages(){const p=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(p,!0),await this.sendAgentContext(p),await this.sendWaveHeader(p)}sendAgentConfig(p){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(i.PropertyId.Conversation_DialogType)===i.DialogServiceConfig.DialogTypes.CustomCommands){const f=this.agentConfig.get();f.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(f)}this.onEvent(new t.SendingAgentContextMessageEvent(this.agentConfig));const d=this.agentConfig.toJsonString();return this.agentConfigSent=!0,p.send(new c.SpeechConnectionMessage(r.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",d))}}sendAgentContext(p){const d=r.createGuid(),f=this.privDialogServiceConnector.properties.getProperty(i.PropertyId.Conversation_Speech_Activity_Template),v=JSON.stringify({channelData:"",context:{interactionId:d},messagePayload:typeof f===void 0?void 0:f,version:.5});return p.send(new c.SpeechConnectionMessage(r.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",v))}fireEventForResult(p,d){const f=o.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus),h=p.Offset+this.privRequestSession.currentTurnAudioOffset,v=new i.SpeechRecognitionResult(this.privRequestSession.requestId,f,p.DisplayText,p.Duration,h,p.Language,p.LanguageDetectionConfidence,void 0,void 0,JSON.stringify(p),d);return new i.SpeechRecognitionEventArgs(v,h,this.privRequestSession.sessionId)}handleResponseMessage(p){const d=JSON.parse(p.textBody);switch(d.messageType.toLowerCase()){case"message":const f=p.requestId.toUpperCase(),h=a.ActivityPayloadResponse.fromJSON(p.textBody),v=this.privTurnStateManager.GetTurn(f);if(h.conversationId){const y=this.agentConfig.get();y.botInfo.conversationId=h.conversationId,this.agentConfig.set(y)}const g=v.processActivityPayload(h,n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),m=new i.ActivityReceivedEventArgs(h.messagePayload,g);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,m)}catch{}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new i.TurnStatusReceivedEventArgs(p.textBody))}catch{}break;default:r.Events.instance.onEvent(new r.BackgroundEvent(`Unexpected response of type ${d.messageType}. Ignoring.`));break}}onEvent(p){this.privEvents.onEvent(p),r.Events.instance.onEvent(p)}addKeywordContextData(){const p=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(p===void 0)return;const d=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),f=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),h=p.split(";"),v=d===void 0?[]:d.split(";"),g=f===void 0?[]:f.split(";"),m=[];for(let y=0;y<h.length;y++){const S={};S.text=h[y],y<v.length&&(S.offset=Number(v[y])),y<g.length&&(S.duration=Number(g[y])),m.push(S)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:m,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}};return qu.DialogServiceAdapter=l,qu}var Og={};Object.defineProperty(Og,"__esModule",{value:!0});Og.AgentConfig=void 0;class YX{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(t){this.iPrivConfig=t}}Og.AgentConfig=YX;var gS={},Wu={},Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.ConversationConnectionConfig=void 0;const KX=Jd;class ln extends KX.RestConfigBase{static get host(){return ln.privHost}static get apiVersion(){return ln.privApiVersion}static get clientAppId(){return ln.privClientAppId}static get defaultLanguageCode(){return ln.privDefaultLanguageCode}static get restPath(){return ln.privRestPath}static get webSocketPath(){return ln.privWebSocketPath}static get transcriptionEventKeys(){return ln.privTranscriptionEventKeys}}Kc.ConversationConnectionConfig=ln;ln.privHost="dev.microsofttranslator.com";ln.privRestPath="/capito/room";ln.privApiVersion="2.0";ln.privDefaultLanguageCode="en-US";ln.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15";ln.privWebSocketPath="/capito/translate";ln.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"];var uk;function GX(){if(uk)return Wu;uk=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.ConversationManager=void 0;const e=Dr(),t=ye,r=B(),n=Kc;let i=class{constructor(){this.privRequestParams=n.ConversationConnectionConfig.configParams,this.privErrors=n.ConversationConnectionConfig.restErrors,this.privHost=n.ConversationConnectionConfig.host,this.privApiVersion=n.ConversationConnectionConfig.apiVersion,this.privRestPath=n.ConversationConnectionConfig.restPath,this.privRestAdapter=new e.RestMessageAdapter({})}createOrJoin(o,a,c,l){try{t.Contracts.throwIfNullOrUndefined(o,"args");const u=o.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,n.ConversationConnectionConfig.defaultLanguageCode),p=o.getProperty(r.PropertyId.ConversationTranslator_Name,"conversation_host"),d=o.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),f=o.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),h=o.getProperty(r.PropertyId.SpeechServiceConnection_Key),v=o.getProperty(r.PropertyId.SpeechServiceConnection_Region),g=o.getProperty(r.PropertyId.SpeechServiceAuthorization_Token);t.Contracts.throwIfNullOrWhitespace(u,"languageCode"),t.Contracts.throwIfNullOrWhitespace(p,"nickname"),t.Contracts.throwIfNullOrWhitespace(d,"endpointHost");const m={};m[this.privRequestParams.apiVersion]=this.privApiVersion,m[this.privRequestParams.languageCode]=u,m[this.privRequestParams.nickname]=p;const y={};f&&(y[this.privRequestParams.correlationId]=f),y[this.privRequestParams.clientAppId]=n.ConversationConnectionConfig.clientAppId,a!==void 0?m[this.privRequestParams.roomId]=a:(t.Contracts.throwIfNullOrUndefined(v,this.privErrors.authInvalidSubscriptionRegion),y[this.privRequestParams.subscriptionRegion]=v,h?y[this.privRequestParams.subscriptionKey]=h:g?y[this.privRequestParams.authorization]=`Bearer ${g}`:t.Contracts.throwIfNullOrUndefined(h,this.privErrors.authInvalidSubscriptionKey));const S={};S.headers=y,this.privRestAdapter.options=S;const C=`https://${d}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Post,C,m,null).then(b=>{const T=e.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,b.headers);if(!b.ok){if(l){let R=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",b.status.toString()),O;try{O=JSON.parse(b.data),R+=` [${O.error.code}: ${O.error.message}]`}catch{R+=` [${b.data}]`}T&&(R+=` ${T}`),l(R)}return}const _=JSON.parse(b.data);if(_&&(_.requestId=T),c){try{c(_)}catch(R){l&&l(R)}c=void 0}}).catch(()=>{})}catch(u){if(l)if(u instanceof Error){const p=u;l(p.name+": "+p.message)}else l(u)}}leave(o,a){return new Promise((c,l)=>{try{t.Contracts.throwIfNullOrUndefined(o,this.privErrors.invalidArgs.replace("{arg}","config")),t.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","token"));const u=o.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),p=o.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),d={};d[this.privRequestParams.apiVersion]=this.privApiVersion,d[this.privRequestParams.sessionToken]=a;const f={};p&&(f[this.privRequestParams.correlationId]=p);const h={};h.headers=f,this.privRestAdapter.options=h;const v=`https://${u}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Delete,v,d,null).then(g=>{g.ok,c()}).catch(()=>{})}catch(u){if(u instanceof Error){const p=u;l(p.name+": "+p.message)}else l(u)}})}};return Wu.ConversationManager=i,Wu}var Wo={},Vu={},Dg={},Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.ConversationConnectionMessage=void 0;const QX=pe();class JX extends QX.ConnectionMessage{constructor(t,r,n,i){super(t,r,n,i);const s=JSON.parse(this.textBody);s.type!==void 0&&(this.privConversationMessageType=s.type)}get conversationMessageType(){return this.privConversationMessageType}}Xd.ConversationConnectionMessage=JX;Object.defineProperty(Dg,"__esModule",{value:!0});Dg.ConversationWebsocketMessageFormatter=void 0;const Vo=pe(),pk=Xd;class XX{toConnectionMessage(t){const r=new Vo.Deferred;try{if(t.messageType===Vo.MessageType.Text){const n=new pk.ConversationConnectionMessage(t.messageType,t.textContent,{},t.id);r.resolve(n)}else t.messageType===Vo.MessageType.Binary&&r.resolve(new pk.ConversationConnectionMessage(t.messageType,t.binaryContent,void 0,t.id))}catch(n){r.reject(`Error formatting the message. Error: ${n}`)}return r.promise}fromConnectionMessage(t){const r=new Vo.Deferred;try{if(t.messageType===Vo.MessageType.Text){const n=`${t.textBody?t.textBody:""}`;r.resolve(new Vo.RawWebsocketMessage(Vo.MessageType.Text,n,t.id))}}catch(n){r.reject(`Error formatting the message. ${n}`)}return r.promise}}Dg.ConversationWebsocketMessageFormatter=XX;var dk;function ZX(){if(dk)return Vu;dk=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.ConversationConnectionFactory=void 0;const e=Dr(),t=pe(),r=ye,n=B(),i=xi(),s=Kc,o=Dg;let a=class extends i.ConnectionFactoryBase{create(l,u,p){const d=l.parameters.getProperty(n.PropertyId.ConversationTranslator_Host,s.ConversationConnectionConfig.host),f=l.parameters.getProperty(n.PropertyId.ConversationTranslator_CorrelationId,t.createGuid()),h=`wss://${d}${s.ConversationConnectionConfig.webSocketPath}`,v=l.parameters.getProperty(n.PropertyId.ConversationTranslator_Token,void 0);r.Contracts.throwIfNullOrUndefined(v,"token");const g={};g[s.ConversationConnectionConfig.configParams.apiVersion]=s.ConversationConnectionConfig.apiVersion,g[s.ConversationConnectionConfig.configParams.token]=v,g[s.ConversationConnectionConfig.configParams.correlationId]=f;const m=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(h,g,{},new o.ConversationWebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(l),m,p)}};return Vu.ConversationConnectionFactory=a,Vu}var Yu={},Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.ConversationRequestSession=void 0;const yS=pe();class eZ{constructor(t){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=t,this.privRequestId=yS.createNoDashGuid(),this.privRequestCompletionDeferral=new yS.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(t,r){this.privSessionId=r}onAuthCompleted(t){t&&this.onComplete()}onConnectionEstablishCompleted(t){t!==200&&t===403&&this.onComplete()}onServiceTurnEndResponse(t){t?this.privRequestId=yS.createNoDashGuid():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const t of this.privDetachables)await t.detach()}}onComplete(){}}Mg.ConversationRequestSession=eZ;var vn={},fk;function vN(){if(fk)return vn;fk=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.ConversationReceivedTranslationEventArgs=vn.ParticipantsListEventArgs=vn.ParticipantAttributeEventArgs=vn.ParticipantEventArgs=vn.LockRoomEventArgs=vn.MuteAllEventArgs=void 0;const e=B();class t extends e.SessionEventArgs{constructor(c,l){super(l),this.privIsMuted=c}get isMuted(){return this.privIsMuted}}vn.MuteAllEventArgs=t;class r extends e.SessionEventArgs{constructor(c,l){super(l),this.privIsLocked=c}get isMuted(){return this.privIsLocked}}vn.LockRoomEventArgs=r;class n extends e.SessionEventArgs{constructor(c,l){super(l),this.privParticipant=c}get participant(){return this.privParticipant}}vn.ParticipantEventArgs=n;class i extends e.SessionEventArgs{constructor(c,l,u,p){super(p),this.privKey=l,this.privValue=u,this.privParticipantId=c}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}vn.ParticipantAttributeEventArgs=i;class s extends e.SessionEventArgs{constructor(c,l,u,p,d,f,h,v,g){super(g),this.privRoomId=c,this.privSessionToken=l,this.privTranslateTo=u,this.privProfanityFilter=p,this.privRoomProfanityFilter=d,this.privIsRoomLocked=f,this.privIsRoomLocked=h,this.privParticipants=v}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}vn.ParticipantsListEventArgs=s;class o{constructor(c,l,u){this.privPayload=l,this.privCommand=c,this.privSessionId=u}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}return vn.ConversationReceivedTranslationEventArgs=o,vn}var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.ConversationTranslatorCommandTypes=ws.ConversationTranslatorMessageTypes=ws.InternalParticipants=void 0;class tZ{constructor(t=[],r){this.participants=t,this.meId=r}addOrUpdateParticipant(t){if(t===void 0)return;const r=this.getParticipantIndex(t.id);return r>-1?this.participants.splice(r,1,t):this.participants.push(t),this.getParticipant(t.id)}getParticipantIndex(t){return this.participants.findIndex(r=>r.id===t)}getParticipant(t){return this.participants.find(r=>r.id===t)}deleteParticipant(t){this.participants=this.participants.filter(r=>r.id!==t)}get host(){return this.participants.find(t=>t.isHost===!0)}get me(){return this.getParticipant(this.meId)}}ws.InternalParticipants=tZ;ws.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"};ws.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"};var mN={},Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});Ng.CommandResponsePayload=void 0;const rZ=e=>JSON.parse(e);class e1{constructor(t){this.privCommandResponse=rZ(t)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(t){return new e1(t)}}Ng.CommandResponsePayload=e1;var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.ParticipantPayloadResponse=Dc.ParticipantsListPayloadResponse=void 0;const nZ=e=>JSON.parse(e),iZ=e=>JSON.parse(e);class t1{constructor(t){this.privParticipantsPayloadResponse=nZ(t)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(t){return new t1(t)}}Dc.ParticipantsListPayloadResponse=t1;class r1{constructor(t){this.privParticipantPayloadResponse=iZ(t)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(t){return new r1(t)}}Dc.ParticipantPayloadResponse=r1;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.TextResponsePayload=Mc.SpeechResponsePayload=void 0;const sZ=e=>JSON.parse(e),oZ=e=>JSON.parse(e);class n1{constructor(t){this.privSpeechResponse=sZ(t)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return this.privSpeechResponse.type==="final"}static fromJSON(t){return new n1(t)}}Mc.SpeechResponsePayload=n1;class i1{constructor(t){this.privTextResponse=oZ(t)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(t){return new i1(t)}}Mc.TextResponsePayload=i1;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ng;Object.defineProperty(e,"CommandResponsePayload",{enumerable:!0,get:function(){return t.CommandResponsePayload}});var r=Dc;Object.defineProperty(e,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantsListPayloadResponse}}),Object.defineProperty(e,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantPayloadResponse}});var n=Mc;Object.defineProperty(e,"SpeechResponsePayload",{enumerable:!0,get:function(){return n.SpeechResponsePayload}}),Object.defineProperty(e,"TextResponsePayload",{enumerable:!0,get:function(){return n.TextResponsePayload}})})(mN);var hk;function aZ(){if(hk)return Yu;hk=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.ConversationServiceAdapter=void 0;const e=pe(),t=B(),r=Z(),n=Xd,i=Mg,s=vN(),o=ws,a=mN;let c=class extends r.ServiceRecognizerBase{constructor(u,p,d,f,h){super(u,p,d,f,h),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=h,this.privConversationAuthentication=u,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=v=>this.conversationConnectImpl(v),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new i.ConversationRequestSession(e.createNoDashGuid()),this.privConversationConnectionFactory=p,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(u){this.privConversationIsDisposed=!0,this.privConnectionConfigPromise!==void 0&&await(await this.privConnectionConfigPromise).dispose(u),await super.dispose(u)}async sendMessage(u){return(await this.fetchConnection()).send(new n.ConversationConnectionMessage(e.MessageType.Text,u))}async sendMessageAsync(u){await(await this.fetchConnection()).send(new n.ConversationConnectionMessage(e.MessageType.Text,u))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,t.CancellationReason.Error,t.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(u,p,d,f,h){this.terminateMessageLoop=!0;const v=new t.ConversationTranslationCanceledEventArgs(d,h,f,void 0,u);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,v)}catch{}}async conversationConnectImpl(u){return this.privConnectionLoop=this.startMessageLoop(),u}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const u=new e.Deferred;try{const d=await(await this.fetchConnection()).read();if(this.isDisposed()||this.terminateMessageLoop)return u.resolve(),Promise.resolve();if(!d)return this.receiveConversationMessageOverride();const f=this.privConversationRequestSession.sessionId,h=d.conversationMessageType.toLowerCase();let v=!1;try{switch(h){case"info":case"participant_command":case"command":const g=a.CommandResponsePayload.fromJSON(d.textBody);switch(g.command.toLowerCase()){case"participantlist":const T=a.ParticipantsListPayloadResponse.fromJSON(d.textBody),_=T.participants.map(J=>({avatar:J.avatar,displayName:J.nickname,id:J.participantId,isHost:J.ishost,isMuted:J.ismuted,isUsingTts:J.usetts,preferredLanguage:J.locale}));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new s.ParticipantsListEventArgs(T.roomid,T.token,T.translateTo,T.profanityFilter,T.roomProfanityFilter,T.roomLocked,T.muteAll,_,f));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(g.participantId,o.ConversationTranslatorCommandTypes.setTranslateToLanguages,g.value,f));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(g.participantId,o.ConversationTranslatorCommandTypes.setProfanityFiltering,g.value,f));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(g.participantId,o.ConversationTranslatorCommandTypes.setMute,g.value,f));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new s.MuteAllEventArgs(g.value,f));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new t.ConversationExpirationEventArgs(g.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(g.participantId,o.ConversationTranslatorCommandTypes.setUseTTS,g.value,f));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new s.LockRoomEventArgs(g.value,f));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(g.participantId,o.ConversationTranslatorCommandTypes.changeNickname,g.value,f));break;case"joinsession":const R=a.ParticipantPayloadResponse.fromJSON(d.textBody),O={avatar:R.avatar,displayName:R.nickname,id:R.participantId,isHost:R.ishost,isMuted:R.ismuted,isUsingTts:R.usetts,preferredLanguage:R.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new s.ParticipantEventArgs(O,f));break;case"leavesession":const D={id:g.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new s.ParticipantEventArgs(D,f));break;case"disconnectsession":const $={id:g.participantId};break;case"token":const W=new r.CognitiveTokenAuthentication(()=>{const J=g.token;return Promise.resolve(J)},()=>{const J=g.token;return Promise.resolve(J)});this.authentication=W,this.privConversationServiceConnector.onToken(W);break;default:break}break;case"partial":case"final":const m=a.SpeechResponsePayload.fromJSON(d.textBody),y=h==="final"?t.ResultReason.TranslatedParticipantSpeech:t.ResultReason.TranslatingParticipantSpeech,S=new t.ConversationTranslationResult(m.participantId,this.getTranslations(m.translations),m.language,m.id,y,m.recognition,void 0,void 0,d.textBody,void 0);m.isFinal?((S.text!==void 0&&S.text.length>0||m.id===this.privLastPartialUtteranceId)&&(v=!0),v&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new s.ConversationReceivedTranslationEventArgs(o.ConversationTranslatorMessageTypes.final,S,f))):S.text!==void 0&&(this.privLastPartialUtteranceId=m.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new s.ConversationReceivedTranslationEventArgs(o.ConversationTranslatorMessageTypes.partial,S,f)));break;case"translated_message":const C=a.TextResponsePayload.fromJSON(d.textBody),b=new t.ConversationTranslationResult(C.participantId,this.getTranslations(C.translations),C.language,void 0,void 0,C.originalText,void 0,void 0,void 0,d.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new s.ConversationReceivedTranslationEventArgs(o.ConversationTranslatorMessageTypes.instantMessage,b,f));break;default:break}}catch{}return this.receiveConversationMessageOverride()}catch{this.terminateMessageLoop=!0}return u.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const u=this.receiveConversationMessageOverride();try{return await u}catch(p){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",t.CancellationReason.Error,t.CancellationErrorCode.RuntimeError,p),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):this.privConnectionConfigPromise!==void 0?this.privConnectionConfigPromise.then(u=>u.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise,()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection())):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then(u=>u),this.privConnectionConfigPromise)}getTranslations(u){let p;if(u!==void 0){p=new t.Translations;for(const d of u)p.set(d.lang,d.translation)}return p}};return Yu.ConversationServiceAdapter=c,Yu}var vk;function cZ(){if(vk)return Wo;vk=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.ConversationTranslatorRecognizer=Wo.ConversationRecognizerFactory=void 0;const e=Z(),t=pe(),r=ye,n=B(),i=ZX(),s=aZ();class o{static fromConfig(l,u,p){return new a(l,u,p)}}Wo.ConversationRecognizerFactory=o;let a=class extends n.Recognizer{constructor(l,u,p){const d=u;r.Contracts.throwIfNull(d,"speechConfig");const f=l;r.Contracts.throwIfNull(f,"conversationImpl"),super(p,d.properties,new i.ConversationConnectionFactory),this.privConversation=f,this.privIsDisposed=!1,this.privProperties=d.properties.clone(),this.privConnection=n.Connection.fromRecognizer(this),this.privProperties.getProperty(n.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?(this.privSetTimeout=t.Timeout.setTimeout,this.privClearTimeout=t.Timeout.clearTimeout):typeof window<"u"?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(l){this.privConnection.connected=l}set disconnected(l){this.privConnection.disconnected=l}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(l,u,p){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfNullOrWhitespace(l,"token"),this.privReco.conversationTranslatorToken=l,this.resetConversationTimeout(),this.privReco.connectAsync(u,p)}catch(d){if(p)if(d instanceof Error){const f=d;p(f.name+": "+f.message)}else p(d)}}disconnect(l,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then(()=>{l&&l()},p=>{u&&u(p)})}catch(p){if(u)if(p instanceof Error){const d=p;u(d.name+": "+d.message)}else u(p);this.dispose(!0).catch(d=>{t.Events.instance.onEvent(new t.BackgroundEvent(d))})}}sendRequest(l,u,p){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(l,u,p)}catch(d){if(p)if(d instanceof Error){const f=d;p(f.name+": "+f.message)}else p(d);this.dispose(!0).catch(f=>{t.Events.instance.onEvent(new t.BackgroundEvent(f))})}}onToken(l){this.privConversation.onToken(l)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(l){this.privIsDisposed||l&&(this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(l))}createRecognizerConfig(l){return new e.RecognizerConfig(l,this.privProperties)}createServiceRecognizer(l,u,p,d){const f=p;return new s.ConversationServiceAdapter(l,u,f,d,this)}sendMessage(l,u,p){const d=this.privReco;((h,v,g)=>{h!==void 0?h.then(()=>{try{v&&v()}catch(m){g&&g(`'Unhandled error on promise callback: ${m}'`)}},m=>{try{g&&g(m)}catch{}}):g&&g("Null promise")})(d.sendMessageAsync(l),u,p),this.resetConversationTimeout()}resetConversationTimeout(){this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout(()=>{this.sendRequest(this.privConversation.getKeepAlive())},6e4)}};return Wo.ConversationTranslatorRecognizer=a,Wo}var Ku={},mk;function lZ(){if(mk)return Ku;mk=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.TranscriberRecognizer=void 0;const e=pe(),t=ye,r=B(),n=Z();let i=class extends r.Recognizer{constructor(o,a){const c=o;t.Contracts.throwIfNull(c,"speechTranslationConfig");const l=a;t.Contracts.throwIfNull(l,"audioConfigImpl"),t.Contracts.throwIfNullOrWhitespace(c.speechRecognitionLanguage,r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,c.properties,new n.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return t.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){t.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}set conversation(o){t.Contracts.throwIfNullOrUndefined(o,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=o}getConversationInfo(){return t.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(o){t.Contracts.throwIfNullOrUndefined(o,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=o}getMeetingInfo(){return t.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(o,a){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(n.RecognitionMode.Conversation),o,a)}stopContinuousRecognitionAsync(o,a){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(o,a){const c=this.privReco;t.Contracts.throwIfNullOrUndefined(c,"serviceRecognizer"),await c.sendSpeechEventAsync(o,a)}async pushMeetingEvent(o,a){const c=this.privReco;t.Contracts.throwIfNullOrUndefined(c,"serviceRecognizer"),await c.sendMeetingSpeechEventAsync(o,a)}async enforceAudioGating(){const c=(await this.audioConfig.format).channels;if(c===1){if(this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()!=="true")throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(c!==8)throw new Error(`Unsupported audio configuration: Detected ${c}-channel audio`)}connectMeetingCallbacks(o){this.isMeetingRecognizer=!0,this.canceled=(a,c)=>{o.canceled&&o.canceled(o,c)},this.recognizing=(a,c)=>{o.transcribing&&o.transcribing(o,c)},this.recognized=(a,c)=>{o.transcribed&&o.transcribed(o,c)},this.sessionStarted=(a,c)=>{o.sessionStarted&&o.sessionStarted(o,c)},this.sessionStopped=(a,c)=>{o.sessionStopped&&o.sessionStopped(o,c)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(o){this.privDisposedRecognizer||(o&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(o))}createRecognizerConfig(o){return new n.RecognizerConfig(o,this.properties)}createServiceRecognizer(o,a,c,l){const u=c;return new n.TranscriptionServiceRecognizer(o,a,u,l,this)}};return Ku.TranscriberRecognizer=i,Ku}var gk;function uZ(){return gk||(gk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=GX();Object.defineProperty(e,"ConversationManager",{enumerable:!0,get:function(){return t.ConversationManager}});var r=Kc;Object.defineProperty(e,"ConversationConnectionConfig",{enumerable:!0,get:function(){return r.ConversationConnectionConfig}});var n=cZ();Object.defineProperty(e,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return n.ConversationRecognizerFactory}});var i=lZ();Object.defineProperty(e,"TranscriberRecognizer",{enumerable:!0,get:function(){return i.TranscriberRecognizer}});var s=vN();Object.defineProperty(e,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return s.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(e,"LockRoomEventArgs",{enumerable:!0,get:function(){return s.LockRoomEventArgs}}),Object.defineProperty(e,"MuteAllEventArgs",{enumerable:!0,get:function(){return s.MuteAllEventArgs}}),Object.defineProperty(e,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return s.ParticipantAttributeEventArgs}}),Object.defineProperty(e,"ParticipantEventArgs",{enumerable:!0,get:function(){return s.ParticipantEventArgs}}),Object.defineProperty(e,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return s.ParticipantsListEventArgs}});var o=ws;Object.defineProperty(e,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return o.ConversationTranslatorCommandTypes}}),Object.defineProperty(e,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return o.ConversationTranslatorMessageTypes}}),Object.defineProperty(e,"InternalParticipants",{enumerable:!0,get:function(){return o.InternalParticipants}})}(gS)),gS}var s1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesisAudioMetadata=e.MetadataType=void 0,function(r){r.WordBoundary="WordBoundary",r.Bookmark="Bookmark",r.Viseme="Viseme",r.SentenceBoundary="SentenceBoundary",r.SessionEnd="SessionEnd",r.AvatarSignal="TalkingAvatarSignal"}(e.MetadataType||(e.MetadataType={}));class t{constructor(n){this.privSynthesisAudioMetadata=JSON.parse(n)}static fromJSON(n){return new t(n)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}e.SynthesisAudioMetadata=t})(s1);var Gu={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.SynthesisStartedEvent=Ki.ConnectingToSynthesisServiceEvent=Ki.SynthesisTriggeredEvent=Ki.SpeechSynthesisEvent=void 0;const yk=pe();class Lg extends yk.PlatformEvent{constructor(t,r,n=yk.EventType.Info){super(t,n),this.privRequestId=r}get requestId(){return this.privRequestId}}Ki.SpeechSynthesisEvent=Lg;class pZ extends Lg{constructor(t,r,n){super("SynthesisTriggeredEvent",t),this.privSessionAudioDestinationId=r,this.privTurnAudioDestinationId=n}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}Ki.SynthesisTriggeredEvent=pZ;class dZ extends Lg{constructor(t,r){super("ConnectingToSynthesisServiceEvent",t),this.privAuthFetchEventId=r}get authFetchEventId(){return this.privAuthFetchEventId}}Ki.ConnectingToSynthesisServiceEvent=dZ;class fZ extends Lg{constructor(t,r){super("SynthesisStartedEvent",t),this.privAuthFetchEventId=r}get authFetchEventId(){return this.privAuthFetchEventId}}Ki.SynthesisStartedEvent=fZ;var Sk;function hZ(){if(Sk)return Gu;Sk=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.SynthesisTurn=void 0;const e=pe(),t=Ur,r=B(),n=s1,i=Ki;let s=class kC{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=e.createNoDashGuid(),this.privTurnDeferral=new e.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(a){this.privStreamId=a}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(a){this.privAudioOutputFormat=a}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const a=new r.PropertyCollection;return a.setProperty(r.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),a}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const a=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(a),this.privReceivedAudioWithHeader}else return this.getAllReceivedAudio()}startNewSynthesis(a,c,l,u){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=a,this.privRawText=c,this.privIsSSML=l,this.privAudioOutputStream=new t.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",u!==void 0&&(this.privTurnAudioDestination=u,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new i.SynthesisTriggeredEvent(this.requestId,void 0,u===void 0?void 0:u.id()))}onPreConnectionStart(a){this.privAuthFetchEventId=a,this.onEvent(new i.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(a){a&&this.onComplete()}onConnectionEstablishCompleted(a){if(a===200){this.onEvent(new i.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),this.privBytesReceived=0;return}else a===403&&this.onComplete()}onServiceResponseMessage(a){const c=JSON.parse(a);this.streamId=c.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(a){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new e.Deferred;const c=JSON.parse(a);c.webrtc&&(this.privWebRTCSDP=c.webrtc.connectionString)}onAudioChunkReceived(a){this.isSynthesizing&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength,this.privTurnAudioDestination!==void 0&&this.privTurnAudioDestination.write(a))}onTextBoundaryEvent(a){this.updateTextOffset(a.Data.text.Text,a.Type)}onVisemeMetadataReceived(a){a.Data.AnimationChunk!==void 0&&(this.privPartialVisemeAnimation+=a.Data.AnimationChunk)}onSessionEnd(a){this.privAudioDuration=a.Data.Offset}async constructSynthesisResult(){const a=await this.getAllReceivedAudioWithHeader();return new r.SpeechSynthesisResult(this.requestId,r.ResultReason.SynthesizingAudioCompleted,a,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const a=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",a}onEvent(a){e.Events.instance.onEvent(a)}static isXmlTag(a){return a.length>=2&&a[0]==="<"&&a[a.length-1]===">"}updateTextOffset(a,c){c===n.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(a,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!kC.isXmlTag(a)&&this.updateTextOffset(a,c))):(this.privSentenceOffset=this.privRawText.indexOf(a,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!kC.isXmlTag(a)&&this.updateTextOffset(a,c)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,this.privTurnAudioDestination!==void 0&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch{this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(a){return this.privRawText.indexOf("<",a+1)>this.privRawText.indexOf(">",a+1)}};return Gu.SynthesisTurn=s,Gu}var Qu={},Ck;function vZ(){if(Ck)return Qu;Ck=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.SynthesisAdapterBase=void 0;const e=pe(),t=B(),r=Z(),n=xs;let i=class{constructor(o,a,c,l){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!o)throw new e.ArgumentNullError("authentication");if(!a)throw new e.ArgumentNullError("connectionFactory");if(!c)throw new e.ArgumentNullError("synthesizerConfig");this.privAuthentication=o,this.privConnectionFactory=a,this.privSynthesizerConfig=c,this.privIsDisposed=!1,this.privSessionAudioDestination=l,this.privSynthesisTurn=new r.SynthesisTurn,this.privConnectionEvents=new e.EventSource,this.privServiceEvents=new e.EventSource,this.privSynthesisContext=new r.SynthesisContext,this.privAgentConfig=new r.AgentConfig,this.connectionEvents.attach(u=>{if(u.name==="ConnectionClosedEvent"){const p=u;p.statusCode!==1e3&&this.cancelSynthesisLocal(t.CancellationReason.Error,p.statusCode===1007?t.CancellationErrorCode.BadRequestParameters:t.CancellationErrorCode.ConnectionFailure,`${p.reason} websocket error code: ${p.statusCode}`)}})}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(o){this.privActivityTemplate=o}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(o){this.privAudioOutputFormat=o,this.privSynthesisTurn.audioOutputFormat=o,this.privSessionAudioDestination!==void 0&&(this.privSessionAudioDestination.format=o),this.synthesisContext!==void 0&&(this.synthesisContext.audioOutputFormat=o)}isDisposed(){return this.privIsDisposed}async dispose(o){this.privIsDisposed=!0,this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise!==void 0&&await(await this.privConnectionConfigurationPromise).dispose(o)}async connect(){await this.connectImpl()}async sendNetworkMessage(o,a){const c=typeof a=="string"?e.MessageType.Text:e.MessageType.Binary,l=typeof a=="string"?"application/json":"";return(await this.fetchConnection()).send(new n.SpeechConnectionMessage(c,o,this.privSynthesisTurn.requestId,l,a))}async Speak(o,a,c,l,u,p){let d;if(a?d=o:d=this.privSynthesizer.buildSsml(o),this.speakOverride!==void 0)return this.speakOverride(d,c,l,u);this.privSuccessCallback=l,this.privErrorCallback=u,this.privSynthesisTurn.startNewSynthesis(c,o,a,p);try{await this.connectImpl();const f=await this.fetchConnection();await this.sendSynthesisContext(f),await this.sendSsmlMessage(f,d,c),this.onSynthesisStarted(c),this.receiveMessage()}catch(f){return this.cancelSynthesisLocal(t.CancellationReason.Error,t.CancellationErrorCode.ConnectionFailure,f),Promise.reject(f)}}async stopSpeaking(){return await this.connectImpl(),(await this.fetchConnection()).send(new n.SpeechConnectionMessage(e.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(o,a,c,l){const u=new t.PropertyCollection;u.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[c]);const p=new t.SpeechSynthesisResult(o,t.ResultReason.Canceled,void 0,l,u);if(this.onSynthesisCancelled(p),this.privSuccessCallback)try{this.privSuccessCallback(p)}catch{}}cancelSynthesisLocal(o,a,c){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,o,a,c))}processTypeSpecificMessages(o){return!0}async receiveMessage(){try{const a=await(await this.fetchConnection()).read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!a)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const c=n.SpeechConnectionMessage.fromConnectionMessage(a);if(c.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(c.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(c.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(c.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===c.streamId.toLowerCase()&&c.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(c.binaryBody),this.onSynthesizing(c.binaryBody),this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.write(c.binaryBody));break;case"audio.metadata":const l=r.SynthesisAudioMetadata.fromJSON(c.textBody).Metadata;for(const p of l)switch(p.Type){case r.MetadataType.WordBoundary:case r.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(p);const d=new t.SpeechSynthesisWordBoundaryEventArgs(p.Data.Offset,p.Data.Duration,p.Data.text.Text,p.Data.text.Length,p.Type===r.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,p.Data.text.BoundaryType);this.onWordBoundary(d);break;case r.MetadataType.Bookmark:const f=new t.SpeechSynthesisBookmarkEventArgs(p.Data.Offset,p.Data.Bookmark);this.onBookmarkReached(f);break;case r.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(p),p.Data.IsLastAnimation){const h=new t.SpeechSynthesisVisemeEventArgs(p.Data.Offset,p.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(h)}break;case r.MetadataType.AvatarSignal:this.onAvatarEvent(p);break;case r.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(p);break}break;case"turn.end":this.privSynthesisTurn.onServiceTurnEndResponse();let u;try{u=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(u)}catch(p){this.privErrorCallback&&this.privErrorCallback(p)}this.onSynthesisCompleted(u);break;default:this.processTypeSpecificMessages(c)||this.privServiceEvents&&this.serviceEvents.onEvent(new e.ServiceEvent(c.path.toLowerCase(),c.textBody))}return this.receiveMessage()}catch{}}sendSynthesisContext(o){this.setSynthesisContextSynthesisSection();const a=this.synthesisContext.toJSON();if(a)return o.send(new n.SpeechConnectionMessage(e.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",a))}setSpeechConfigSynthesisSection(){}connectImpl(o=!1){if(this.privConnectionPromise!=null)return this.privConnectionPromise.then(c=>c.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()));this.privAuthFetchEventId=e.createNoDashGuid(),this.privConnectionId=e.createNoDashGuid(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const a=o?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=a.then(async c=>{this.privSynthesisTurn.onAuthCompleted(!1);const l=this.privConnectionFactory.create(this.privSynthesizerConfig,c,this.privConnectionId);l.events.attach(p=>{this.connectionEvents.onEvent(p)});const u=await l.open();return u.statusCode===200?(this.privSynthesisTurn.onConnectionEstablishCompleted(u.statusCode),Promise.resolve(l)):u.statusCode===403&&!o?this.connectImpl(!0):(this.privSynthesisTurn.onConnectionEstablishCompleted(u.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${u.statusCode},
                    ${this.privSynthesizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Url)} Reason: ${u.reason}`))},c=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(c)}),this.privConnectionPromise.catch(()=>{}),this.privConnectionPromise}sendSpeechServiceConfig(o,a){if(a)return o.send(new n.SpeechConnectionMessage(e.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",a))}sendSsmlMessage(o,a,c){return o.send(new n.SpeechConnectionMessage(e.MessageType.Text,"ssml",c,"application/ssml+xml",a))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(o=>o.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const o=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(o):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(o,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),o)}onAvatarEvent(o){}onSynthesisStarted(o){}onSynthesizing(o){}onSynthesisCancelled(o){}onSynthesisCompleted(o){}onWordBoundary(o){}onVisemeReceived(o){}onBookmarkReached(o){}};return Qu.SynthesisAdapterBase=i,i.telemetryDataEnabled=!0,Qu}var Ju={},wk;function mZ(){if(wk)return Ju;wk=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.AvatarSynthesisAdapter=void 0;const e=B(),t=Z();let r=class extends t.SynthesisAdapterBase{constructor(i,s,o,a,c){super(i,s,o,void 0),this.privAvatarSynthesizer=a,this.privSynthesizer=a,this.privAvatarConfig=c}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){var i,s,o,a,c,l,u,p,d,f,h,v,g,m,y,S,C;this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:(i=this.privAvatarConfig.videoFormat)==null?void 0:i.bitrate,codec:(s=this.privAvatarConfig.videoFormat)==null?void 0:s.codec,crop:{bottomRight:{x:(c=(a=(o=this.privAvatarConfig.videoFormat)==null?void 0:o.cropRange)==null?void 0:a.bottomRight)==null?void 0:c.x,y:(p=(u=(l=this.privAvatarConfig.videoFormat)==null?void 0:l.cropRange)==null?void 0:u.bottomRight)==null?void 0:p.y},topLeft:{x:(h=(f=(d=this.privAvatarConfig.videoFormat)==null?void 0:d.cropRange)==null?void 0:f.topLeft)==null?void 0:h.x,y:(m=(g=(v=this.privAvatarConfig.videoFormat)==null?void 0:v.cropRange)==null?void 0:g.topLeft)==null?void 0:m.y}},resolution:{height:(y=this.privAvatarConfig.videoFormat)==null?void 0:y.height,width:(S=this.privAvatarConfig.videoFormat)==null?void 0:S.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(e.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarConfig.remoteIceServers??this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor,image:{url:(C=this.privAvatarConfig.backgroundImage)==null?void 0:C.toString()}},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style}}}onAvatarEvent(i){if(this.privAvatarSynthesizer.avatarEventReceived){const s=new e.AvatarEventArgs(i.Data.Offset,i.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,s)}catch{}}}};return Ju.AvatarSynthesisAdapter=r,Ju}var Xu={},bk;function gZ(){if(bk)return Xu;bk=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.SpeechSynthesisAdapter=void 0;const e=B(),t=Z();let r=class extends t.SynthesisAdapterBase{constructor(i,s,o,a,c){super(i,s,o,c),this.privSpeechSynthesizer=a,this.privSynthesizer=a}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(i){const s=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(i,e.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,s)}onSynthesizing(i){if(this.privSpeechSynthesizer.synthesizing)try{const s=this.privSynthesisTurn.audioOutputFormat.addHeader(i),o=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(this.privSynthesisTurn.requestId,e.ResultReason.SynthesizingAudio,s));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,o)}catch{}}onSynthesisCancelled(i){if(this.privSpeechSynthesizer.SynthesisCanceled){const s=new e.SpeechSynthesisEventArgs(i);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,s)}catch{}}}onSynthesisCompleted(i){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new e.SpeechSynthesisEventArgs(i))}catch{}}onWordBoundary(i){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,i)}catch{}}onVisemeReceived(i){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,i)}catch{}}onBookmarkReached(i){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,i)}catch{}}};return Xu.SpeechSynthesisAdapter=r,Xu}var Zu={},Pk;function yZ(){if(Pk)return Zu;Pk=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.SynthesisRestAdapter=void 0;const e=Dr(),t=B(),r=xi(),n=Or;let i=class{constructor(o,a){let c=o.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!c){const u=o.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"westus"),p=r.ConnectionFactoryBase.getHostSuffix(u);c=o.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`https://${u}.tts.speech${p}`)}this.privUri=`${c}/cognitiveservices/voices/list`;const l=e.RestConfigBase.requestOptions;this.privRestAdapter=new e.RestMessageAdapter(l),this.privAuthentication=a}getVoicesList(o){return this.privRestAdapter.setHeaders(n.HeaderNames.ConnectionId,o),this.privAuthentication.fetch(o).then(a=>(this.privRestAdapter.setHeaders(a.headerName,a.token),this.privRestAdapter.request(e.RestRequestType.Get,this.privUri)))}};return Zu.SynthesisRestAdapter=i,Zu}var SS={},_k;function SZ(){return _k||(_k=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesizerConfig=e.SynthesisServiceType=void 0;const t=Z();var r;(function(i){i[i.Standard=0]="Standard",i[i.Custom=1]="Custom"})(r=e.SynthesisServiceType||(e.SynthesisServiceType={}));class n{constructor(s,o){this.privSynthesisServiceType=r.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=s||new t.SpeechServiceConfig(new t.Context(null)),this.privParameters=o}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(s){this.privSynthesisServiceType=s}set synthesisVideoSection(s){this.privSpeechServiceConfig.Context.synthesis={video:s}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}e.SynthesizerConfig=n}(SS)),SS}var ep={},Ek;function CZ(){if(Ek)return ep;Ek=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.SynthesisContext=void 0;const e=B();let t=class{constructor(){this.privContext={}}setSection(n,i){this.privContext[n]=i}set audioOutputFormat(n){this.privAudioOutputFormat=n}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(n){const i=this.buildSynthesisContext(n);this.setSection("synthesis",i)}buildSynthesisContext(n){return{audio:{metadataOptions:{bookmarkEnabled:!!(n!=null&&n.bookmarkReached),punctuationBoundaryEnabled:n==null?void 0:n.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!(n!=null&&n.wordBoundary)),sentenceBoundaryEnabled:n==null?void 0:n.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!(n!=null&&n.visemeReceived),wordBoundaryEnabled:n==null?void 0:n.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!(n!=null&&n.wordBoundary))},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:n==null?void 0:n.autoDetectSourceLanguage}}}};return ep.SynthesisContext=t,ep}var tp={},Rk;function wZ(){if(Rk)return tp;Rk=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.SpeakerRecognitionConfig=void 0;const e=Z();let t=class{constructor(n,i){this.privContext=n||new e.Context(null),this.privParameters=i}get parameters(){return this.privParameters}get Context(){return this.privContext}};return tp.SpeakerRecognitionConfig=t,tp}var rp={},Tk;function bZ(){if(Tk)return rp;Tk=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.SpeakerServiceRecognizer=void 0;const e=Dr(),t=pe(),r=B(),n=Z(),i=xs;let s=class extends n.ServiceRecognizerBase{constructor(a,c,l,u,p){super(a,c,l,u,p),this.privSpeakerRecognizer=p,this.privSpeakerAudioSource=l,this.recognizeSpeaker=d=>this.recognizeSpeakerOnce(d),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(a){let c=!1;const l=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&l.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.response":const p=JSON.parse(a.textBody);let d;p.status.statusCode.toLowerCase()!=="success"?d=new r.SpeakerRecognitionResult(p,r.ResultReason.Canceled,r.CancellationErrorCode.ServiceError,p.status.reason):d=new r.SpeakerRecognitionResult(p,r.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(d),c=!0;break}const u=new t.Deferred;return u.resolve(c),u.promise}cancelRecognition(a,c,l,u,p){if(new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[u]),this.privResultDeferral){const f=new r.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:p,reason:p}},r.ResultReason.Canceled,u,p);try{this.privResultDeferral.resolve(f)}catch(h){this.privResultDeferral.reject(h)}}}async recognizeSpeakerOnce(a){this.privSpeakerModel=a,this.voiceProfileType=a.scenario,this.privResultDeferral||(this.privResultDeferral=new t.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const c=this.connectImpl(),l=this.sendPreAudioMessages(this.extractSpeakerContext(a)),u=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),p=await this.privSpeakerAudioSource.format,d=await this.privSpeakerAudioSource.deviceInfo,f=new e.ReplayableAudioNode(u,p.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(f,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:d};try{await c,await l}catch(g){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,g)}const h=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,h),this.receiveMessage(),this.sendAudio(f).then(()=>{},g=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,g)}),this.privResultDeferral.promise}async sendPreAudioMessages(a){const c=await this.fetchConnection();await this.sendSpeakerRecognition(c,a)}async sendSpeakerRecognition(a,c){const l=JSON.stringify(c);return a.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",l))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}};return rp.SpeakerServiceRecognizer=s,rp}var np={},kk;function PZ(){if(kk)return np;kk=1,Object.defineProperty(np,"__esModule",{value:!0}),np.VoiceServiceRecognizer=void 0;const e=Dr(),t=pe(),r=B(),n=Z(),i=xs;let s=class extends n.ServiceRecognizerBase{constructor(a,c,l,u,p){super(a,c,l,u,p),this.privDeferralMap=new t.DeferralMap,this.privSpeakerAudioSource=l,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(a){this.privSpeakerAudioSource=a}processTypeSpecificMessages(a){let c=!1;const l=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&l.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.profiles":const p=JSON.parse(a.textBody);switch(p.operation.toLowerCase()){case"create":this.handleCreateResponse(p,a.requestId);break;case"delete":case"reset":this.handleResultResponse(p,a.requestId);break;case"fetch":const v=JSON.parse(a.textBody);this.handleFetchResponse(v,a.requestId);break}c=!0;break;case"speaker.phrases":const d=JSON.parse(a.textBody);this.handlePhrasesResponse(d,a.requestId),c=!0;break;case"speaker.profile.enrollment":const f=JSON.parse(a.textBody),h=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(f.enrollment?f.enrollment.enrollmentStatus:f.status.statusCode),f.enrollment?JSON.stringify(f.enrollment):void 0,f.status.reason);this.privDeferralMap.getId(a.requestId)&&this.privDeferralMap.complete(a.requestId,h),this.privRequestSession.onSpeechEnded(),c=!0;break}const u=new t.Deferred;return u.resolve(c),u.promise}cancelRecognition(a,c,l,u,p){new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[u]);const f=new r.VoiceProfileEnrollmentResult(r.ResultReason.Canceled,p,p);this.privDeferralMap.getId(c)&&this.privDeferralMap.complete(c,f)}async createProfile(a,c){this.voiceProfileType=a.toString();const l=this.connectImpl();try{const u=new t.Deferred;return await l,await this.sendCreateProfile(u,a,c),this.receiveMessage(),u.promise}catch(u){throw u}}async resetProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("reset",a.profileType,a)}async deleteProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("delete",a.profileType,a)}async retrieveEnrollmentResult(a){return this.voiceProfileType=a.profileType.toString(),this.privExpectedProfileId=a.profileId,this.sendCommonRequest("fetch",a.profileType,a)}async getAllProfiles(a){return this.voiceProfileType=a.toString(),this.sendCommonRequest("fetch",a)}async getActivationPhrases(a,c){this.voiceProfileType=a.toString();const l=this.connectImpl();try{const u=new t.Deferred;return await l,await this.sendPhrasesRequest(u,a,c),this.receiveMessage(),u.promise}catch(u){throw u}}async enrollProfile(a){this.voiceProfileType=a.profileType.toString();const c=new t.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const l=this.connectImpl(),u=this.sendPreAudioMessages(a,c),p=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),d=await this.privSpeakerAudioSource.format,f=await this.privSpeakerAudioSource.deviceInfo,h=new e.ReplayableAudioNode(p,d.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(h,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:f};try{await l,await u}catch(m){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,m)}const v=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,v),this.receiveMessage(),this.sendAudio(h).then(()=>{},m=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,m)}),c.promise}async sendPreAudioMessages(a,c){const l=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,c),await this.sendBaseRequest(l,"enroll",this.scenarioFrom(a.profileType),a)}async sendPhrasesRequest(a,c,l){const u=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const p=this.scenarioFrom(c),d={locale:l,scenario:p};return u.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(d)))}async sendCreateProfile(a,c,l){const u=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const p=c===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":c===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification",d={locale:l,number:"1",scenario:p};return u.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(d)))}async sendCommonRequest(a,c,l=void 0){const u=this.connectImpl();try{const p=new t.Deferred;this.privRequestSession.onSpeechContext(),await u;const d=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,p),await this.sendBaseRequest(d,a,this.scenarioFrom(c),l),this.receiveMessage(),p.promise}catch(p){throw p}}async sendBaseRequest(a,c,l,u){const p={scenario:l};return u?p.profileIds=[u.profileId]:p.maxPageSize=-1,a.send(new i.SpeechConnectionMessage(t.MessageType.Text,`speaker.profile.${c}`,this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(p)))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}handlePhrasesResponse(a,c){if(this.privDeferralMap.getId(c))if(a.status.statusCode.toLowerCase()!=="success"){const l=r.ResultReason.Canceled,u=new r.VoiceProfilePhraseResult(l,a.status.statusCode,a.passPhraseType,[]);this.privDeferralMap.complete(c,u)}else if(a.phrases&&a.phrases.length>0){const l=r.ResultReason.EnrollingVoiceProfile,u=new r.VoiceProfilePhraseResult(l,a.status.statusCode,a.passPhraseType,a.phrases);this.privDeferralMap.complete(c,u)}else throw new Error("Voice Profile get activation phrases failed, no phrases received");else throw new Error(`Voice Profile get activation phrases request for requestID ${c} not found`)}handleCreateResponse(a,c){if(a.profiles&&a.profiles.length>0)if(this.privDeferralMap.getId(c)){const l=a.profiles.map(u=>u.profileId);this.privDeferralMap.complete(c,l)}else throw new Error(`Voice Profile create request for requestID ${c} not found`);else throw new Error("Voice Profile create failed, no profile id received")}handleResultResponse(a,c){if(this.privDeferralMap.getId(c)){const l=a.operation.toLowerCase()==="delete"?r.ResultReason.DeletedVoiceProfile:r.ResultReason.ResetVoiceProfile,u=a.status.statusCode.toLowerCase()==="success"?l:r.ResultReason.Canceled,p=new r.VoiceProfileResult(u,`statusCode: ${a.status.statusCode}, errorDetails: ${a.status.reason}`);this.privDeferralMap.complete(c,p)}else throw new Error(`Voice Profile create request for requestID ${c} not found`)}handleFetchResponse(a,c){if(this.privDeferralMap.getId(c)&&a.profiles[0]){if(this.privExpectedProfileId&&a.profiles.length===1&&a.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const l=a.profiles[0],u=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(l.enrollmentStatus),JSON.stringify(l),a.status.reason);this.privDeferralMap.complete(c,u)}else if(a.profiles.length>0){const l=a.profiles,u=[];for(const p of l)u.push(new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(p.enrollmentStatus),JSON.stringify(p),a.status.reason));this.privDeferralMap.complete(c,u)}}else throw new Error(`Voice Profile fetch request for requestID ${c} not found`)}enrollmentReasonFrom(a){switch(a.toLowerCase()){case"enrolled":return r.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return r.ResultReason.Canceled;default:return r.ResultReason.EnrollingVoiceProfile}}scenarioFrom(a){return a===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":a===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}};return np.VoiceServiceRecognizer=s,np}var gN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.type=e.connectivity=e.Device=e.OS=e.System=e.Context=e.SpeechServiceConfig=void 0;class t{constructor(a){this.context=a}serialize(){return JSON.stringify(this,(a,c)=>{if(c&&typeof c=="object"&&!Array.isArray(c)){const l={};for(const u in c)Object.hasOwnProperty.call(c,u)&&(l[u&&u.charAt(0).toLowerCase()+u.substring(1)]=c[u]);return l}return c})}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(a){this.recognition=a.toLowerCase()}}e.SpeechServiceConfig=t;class r{constructor(a){this.system=new n,this.os=a}}e.Context=r;class n{constructor(){const a="1.40.0";this.name="SpeechSDK",this.version=a,this.build="JavaScript",this.lang="JavaScript"}}e.System=n;class i{constructor(a,c,l){this.platform=a,this.name=c,this.version=l}}e.OS=i;class s{constructor(a,c,l){this.manufacturer=a,this.model=c,this.version=l}}e.Device=s,function(o){o.Bluetooth="Bluetooth",o.Wired="Wired",o.WiFi="WiFi",o.Cellular="Cellular",o.InBuilt="InBuilt",o.Unknown="Unknown"}(e.connectivity||(e.connectivity={})),function(o){o.Phone="Phone",o.Speaker="Speaker",o.Car="Car",o.Headset="Headset",o.Thermostat="Thermostat",o.Microphones="Microphones",o.Deskphone="Deskphone",o.RemoteControl="RemoteControl",o.Unknown="Unknown",o.File="File",o.Stream="Stream"}(e.type||(e.type={}))})(gN);var Ik;function Z(){return Ik||(Ik=1,function(e){var t=xe&&xe.__createBinding||(Object.create?function(s,o,a,c){c===void 0&&(c=a),Object.defineProperty(s,c,{enumerable:!0,get:function(){return o[a]}})}:function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]}),r=xe&&xe.__exportStar||function(s,o){for(var a in s)a!=="default"&&!o.hasOwnProperty(a)&&t(o,s,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoDetectSourceLanguagesOpenRangeOptionName=e.ForceDictationPropertyName=e.ServicePropertiesPropertyName=e.CancellationErrorCodePropertyName=e.OutputFormatPropertyName=void 0,r(Pm,e),r(qm,e),r(Yc,e),r(h2,e),r(v2,e),r(dX(),e),r(fX(),e),r(yg,e),r(hX(),e),r(vX(),e),r(mX(),e),r(cN,e),r(Sg,e),r(yX(),e),r(SX(),e),r(CX(),e),r(wX(),e),r(sN(),e),r(bX(),e),r(lN,e),r(PX(),e),r(Cg,e),r(RX(),e),r(TX(),e),r(wg,e),r(bg,e),r(Pg,e),r(kX(),e),r(IX(),e),r(AX(),e),r(xX(),e),r(OX(),e),r(_g,e),r(MX(),e),r(Eg,e),r(fN,e),r(Rg,e),r(kg,e),r(Ig,e),r(hN,e),r(VX(),e),r(Og,e),r(uZ(),e),r(s1,e),r(hZ(),e),r(vZ(),e);var n=mZ();Object.defineProperty(e,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return n.AvatarSynthesisAdapter}});var i=gZ();Object.defineProperty(e,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return i.SpeechSynthesisAdapter}}),r(yZ(),e),r(SZ(),e),r(CZ(),e),r(wZ(),e),r(bZ(),e),r(PZ(),e),r(gN,e),e.OutputFormatPropertyName="OutputFormat",e.CancellationErrorCodePropertyName="CancellationErrorCode",e.ServicePropertiesPropertyName="ServiceProperties",e.ForceDictationPropertyName="ForceDictation",e.AutoDetectSourceLanguagesOpenRangeOptionName="OpenRange"}(Zy)),Zy}(function(e){var t=xe&&xe.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return s[o]}})}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=xe&&xe.__exportStar||function(i,s){for(var o in i)o!=="default"&&!s.hasOwnProperty(o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0});const n=Z();new n.AgentConfig,r(B(),e)})(Hr);const _Z=(e,t)=>new Promise((r,n)=>{e.speakTextAsync(t,i=>{i.reason===Hr.ResultReason.SynthesizingAudioCompleted?r():n(new Error(`Error synthesizing: ${i.errorDetails}`))},i=>{console.error(`Speech synthesis failed. Error: ${i}`)})});function EZ(){const{azureSpeechApiKey:e,azureSpeechApiRegion:t,azureSubscriptionOnly:r}=ie(Md),n=P.useRef([]),i=P.useRef(!1),s=P.useCallback(()=>{const c=Hr.SpeechConfig.fromSubscription(e,t),l=Hr.AudioConfig.fromDefaultSpeakerOutput();return new Hr.SpeechSynthesizer(c,l)},[e,t]),o=P.useCallback(async()=>{if(i.current||n.current.length===0)return;i.current=!0;const c=s();try{for(;n.current.length>0;){const l=n.current.shift();await _Z(c,l)}}catch(l){console.error("Azure TTS failed during queue processing:",l)}finally{i.current=!1}},[s]);return{startSpeakingAzure:P.useCallback(c=>{if(!r){console.warn("Azure subscription is not enabled.");return}s(),n.current.push(c),o()},[r,s,o])}}const RZ=(e,t,r)=>new Promise((n,i)=>{const s=Hr.PullAudioOutputStream.create(),o=Hr.AudioConfig.fromStreamOutput(s);new Hr.SpeechSynthesizer(e.speechConfig,o).speakTextAsync(t,async c=>{if(c.reason===Hr.ResultReason.SynthesizingAudioCompleted){const l=c.audioData;try{const u=await r.decodeAudioData(l),p=r.createBufferSource();p.buffer=u,p.connect(r.destination),p.start(0),p.onended=n}catch(u){i(new Error(`Error decoding audio: ${u.message}`))}}else i(new Error(`Error synthesizing: ${c.errorDetails}`))},c=>{i(new Error(`Speech synthesis failed: ${c}`))})});function TZ(){const{azureSpeechApiKey:e,azureSpeechApiRegion:t,azureSubscriptionOnly:r}=ie(Md),n=typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox"),i=P.useRef([]),s=P.useRef(!1),o=P.useRef(null),a=P.useRef(n?new AudioContext:null),c=P.useCallback(()=>{if(!o.current){const p=Hr.SpeechConfig.fromSubscription(e,t);o.current={speechConfig:p}}},[e,t]),l=P.useCallback(async()=>{if(!(s.current||i.current.length===0)){s.current=!0;try{for(;i.current.length>0;){const p=i.current.shift();await RZ(o.current,p,a.current)}}catch(p){console.error("Azure TTS failed during queue processing:",p)}finally{s.current=!1}}},[]);return{startSpeakingAzureFirefox:P.useCallback(p=>{if(!r){console.warn("Azure subscription is not enabled.");return}n&&(c(),i.current.push(p),l())},[r,c,l,n])}}const kZ=e=>{const t=e.findLastIndex(n=>n.type==="user");if(t===-1)return-1;const r=e.slice(t+1).findIndex(n=>n.type==="bot");return r!==-1?r+t+1:-1},IZ=({voices:e,voiceName:t})=>e.length?e.find(r=>r.name.toLowerCase()===t.toLowerCase())||e.find(r=>r.name.startsWith(t))||e.find(r=>r.name.includes(t))||e.find(r=>!r.localService)||e[0]:null,Ak=e=>{const t=ct(e),r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""};function AZ(){const e=ie(TO),t=ie(mF),r=window.speechSynthesis;return{startSpeakingDefault:P.useCallback(i=>{const s=new SpeechSynthesisUtterance(i);s.lang=e;const o=r.getVoices().filter(c=>c.lang===e),a=IZ({voices:o,voiceName:t});s.voice=a,r.speak(s)},[r,t,e])}}function xZ(){const{azureSpeechApiKey:e,azureSpeechApiRegion:t,azureSubscriptionOnly:r}=ie(Md),n=ie(_O),[i,s]=P.useState(!1),o=window.speechSynthesis,a=P.useRef(-1),{startSpeakingAzure:c}=EZ(),{startSpeakingAzureFirefox:l}=TZ(),{startSpeakingDefault:u}=AZ(),p=g=>{g.preventDefault(),s(!i),i&&(o.cancel(),a.current=-1)},d=typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox"),f=P.useCallback(g=>{if(e&&t&&r)return d?l(g):c(g);u(g)},[c,l,u,e,t,r,d]),h=P.useCallback((g,m)=>{var y,S;if((y=g==null?void 0:g.output)!=null&&y.text){if((S=window.TeneoWebWidget)!=null&&S.speakCalled)return window.TeneoWebWidget.speakCalled(Ak(g.output.text.replace(/<[^>]*>/g,"")),m);f(Ak(g.output.text.replace(/<[^>]*>/g,"")))}},[f]),v=P.useCallback(g=>{const m=n.slice(a.current+1,g);for(const y of m)y.type==="bot"&&h(y);a.current=g-1});return P.useEffect(()=>{if(i){const g=n.length;if(a.current===-1){const m=kZ(n);a.current=m-1,v(g);return}g>a.current+1&&v(g)}},[i,n,v]),{speaking:i,handleInteraction:p}}function OZ(){const{handleInteraction:e,speaking:t}=xZ();return w.jsx("button",{type:"button",onClick:r=>e(r),onKeyUp:r=>{r.key===" "&&e(r)},"aria-label":"Toggle voice output",className:`outline-none " ${t?"fill-red-500 animate-pulse":"fill-gray-800 dark:fill-gray-200 focus:outline-2 focus:outline-black focus:dark:outline-white"} cursor-pointer`,children:w.jsx(Zz,{})})}function DZ(e,t){var g;const r=ie(TO),{azureSpeechApiKey:n,azureSpeechApiRegion:i,azureSubscriptionOnly:s}=ie(Md),[o,a]=P.useState(!1),[c,l]=P.useState(""),u=window.SpeechRecognition||window.webkitSpeechRecognition,p=u?new u:null;p&&(p.lang=r);const d=((g=window.TeneoWebWidget)==null?void 0:g.customASR)||null;P.useEffect(()=>{c&&(e(c),l(""))},[e,c]);const f=m=>{l(m),a(!1)};p&&(p.onresult=m=>{f(m.results[0][0].transcript)},p.onend=()=>{a(!1)});const h=()=>{if(a(!0),t(),n&&i&&s)try{const m=Hr.SpeechConfig.fromSubscription(n,i);m.speechRecognitionLanguage=r;const y=Hr.AudioConfig.fromDefaultMicrophoneInput(),S=new Hr.SpeechRecognizer(m,y);S.recognizeOnceAsync(C=>{if(C.reason===Hr.ResultReason.RecognizedSpeech)f(C.text);else if(console.error(`Speech recognition failed. Reason: ${C.reason}`),C.reason===Hr.ResultReason.Canceled){const b=Hr.CancellationDetails.fromResult(C);console.error(`Canceled: Reason=${b.reason}`),b.reason===Hr.CancellationReason.Error&&console.error(`Error: ${b.errorDetails}`)}S.close()})}catch(m){console.error("Azure ASR failed:",m),p&&p.start()}else d?d(f,r):p&&p.start()},v=()=>{a(!1),d?d(null):p&&p.stop()};return P.useEffect(()=>{e(c),l("")},[e,c]),{listening:o,startListening:h,stopListening:v}}function MZ({onTranscript:e,clearInput:t,disabled:r}){const{listening:n,startListening:i,stopListening:s}=DZ(e,t),o=r?"fill-gray-200 dark:fill-gray-600":"fill-gray-800 dark:fill-gray-200";return w.jsx("button",{type:"button",disabled:r,"aria-label":"Toggle voice input",className:"outline-none focus:outline-2 focus:outline-black focus:dark:outline-white",children:w.jsx(r$,{onMouseDown:i,onMouseUp:s,className:ue("fill-current",n?"fill-red-500 animate-pulse":o,r?"cursor-not-allowed":"cursor-pointer")})})}function NZ({freeTextInput:e,inputBehaviorDuringBotResponse:t,streamEventConnected:r,isLastMessageFromUser:n,allowMultipleUserInputs:i,partialResponse:s}){if(i)return{isInputDisabled:!1};const o=n||!(t!=null&&t.enabled)&&r||!!(s!=null&&s.value),a=(e==null?void 0:e.disabled)||o;let c;return e!=null&&e.disabled&&(c=(e==null?void 0:e.disabledHint)||"Please, answer through the elements provided"),o&&(c=(t==null?void 0:t.disabledHint)||"Please, wait..."),{isInputDisabled:a,inputDisabledHint:c}}function LZ({onSendMessage:e,allowAttach:t,onOpenAttachDialog:r,files:n=[],setFiles:i,setIsUploading:s}){var te,M,oe,de;const o=xd(),a=P.useRef(),c=Po(),l=ie(fF),u=ie(dF),{azureSpeechApiKey:p,azureSpeechApiRegion:d,azureSubscriptionOnly:f}=ie(Md),h=ie(Ww),v=ie(rF),g=ie(RO),m=ie(_F),y=ie(EF),[S,C]=P.useState(""),b=bm((M=(te=g==null?void 0:g.output)==null?void 0:te.parameters)==null?void 0:M.twwOutput),T=(S!==""||(n==null?void 0:n.length)>0)&&!h,{freeTextInput:_,inputBehaviorDuringBotResponse:R,partialResponse:O}=b,{isInputDisabled:D,inputDisabledHint:$}=NZ({freeTextInput:_,inputBehaviorDuringBotResponse:R,streamEventConnected:v,isLastMessageFromUser:(g==null?void 0:g.type)==="user",allowMultipleUserInputs:m&&y!==Vw,partialResponse:O}),W=()=>{!D&&a.current&&a.current.focus()};P.useEffect(W,[D]),P.useEffect(()=>{n.length>0&&S===""&&W()},[n,S]);const J=p&&d&&f,q=l&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window||J||((oe=window.TeneoWebWidget)==null?void 0:oe.customASR)),Y=u&&("speechSynthesis"in window||((de=window.TeneoWebWidget)==null?void 0:de.speakCalled)),se=()=>{e(S),C(""),W()},ee=async()=>{s(!0);const ne=await Promise.all(n.map(async Qe=>({...Qe,base64:await bx(Qe)}))),Re=n.map(Qe=>Qe.name).join(", ");window.TeneoWebWidget.sendFiles&&window.TeneoWebWidget.sendFiles({files:JSON.parse(JSON.stringify(ne))}),c(fo({input:{text:o.formatMessage({id:"tww_file_attach_success_postback"},{fileNames:Re}),timeStamp:+new Date},type:"user",eventId:va()})),i([]),s(!1)},I=()=>{S.trim()!==""&&se(),(n==null?void 0:n.length)>0&&ee()},k=ne=>{S||C(ne)},G=()=>{C("")};return w.jsxs("div",{className:"tww-chat-form",children:[w.jsxs("label",{htmlFor:"chatInput",className:"tww-chat-form-label-position tww-chat-form-label-style",children:[w.jsx(QY,{id:"chat-input","data-testid":"chat-input",ref:a,className:"tww-chat-form-input-style resize-none",maxRows:3,minRows:1,value:S,disabled:D,onChange:()=>C(a.current.value),onKeyDown:ne=>{ne.key==="Enter"&&!ne.shiftKey&&(ne.preventDefault(),T&&I())},placeholder:D?$:o.formatMessage({id:"tww_chat_input_placeholder"})}),T&&w.jsx("button",{type:"button",id:"send-button",onClick:I,className:"tww-chat-form-send-button",disabled:D,children:w.jsx(n$,{})})]}),q&&w.jsx(MZ,{onTranscript:k,clearInput:G,disabled:D}),Y&&w.jsx(OZ,{}),t&&w.jsx("button",{onClick:r,type:"button","aria-label":"Attach files",className:"outline-none fill-gray-800 dark:fill-gray-200 focus:outline-2 focus:outline-black focus:dark:outline-white",children:w.jsx(a$,{})})]})}function jZ({closeMenu:e,isOpen:t,menuItems:r}){const n=P.useRef(null),i=xd();return P.useEffect(()=>{if(typeof r=="function"&&n.current){n.current.innerHTML="";const s=r(i);if(Array.isArray(s))for(const o of s)o instanceof HTMLElement&&n.current.appendChild(o);else s instanceof HTMLElement?n.current.appendChild(s):typeof s=="string"&&(n.current.innerHTML=s)}},[r,i]),w.jsxs("div",{className:`tww-chat-widget-menu-wrapper shadow-menu ${t?"right-0":"right-[-100%]"}`,style:{right:t?"0":"-100%"},children:[w.jsx("div",{className:"tww-chat-widget-menu-header",children:w.jsx("button",{type:"button",className:"tww-chat-widget-container-header-button-close",onClick:e,children:w.jsx(sm,{width:"24",height:"24"})})}),w.jsx("div",{ref:n})]})}function zZ({chat:e,isVisible:t,handleSendMessage:r,setIsChatOpen:n,menuItems:i}){const s=Po(),o=P.useRef(null),a=ie(iF),c=ie(lF),l=ie(uF),u=ie(kO),p=ie(IO),d=ie(AO),f=ie(gF),h=ie(PF),v=ie(bF),g=ie(hF),m=ie(vF),{getRootProps:y,getInputProps:S,handleDelete:C,setFiles:b,files:T,isDragActive:_,isDragReject:R,open:O}=n6({uploadAcceptFileTypes:u,maxFiles:d,maxSize:p,onDragLeave:()=>J(!1)});i6(v,m);const[D,$]=P.useState(!1),[W,J]=P.useState(!1),[q,Y]=P.useState(!1),[se,ee]=P.useState(null),[I,k]=P.useState(!1),[G,te]=P.useState(l||c),M=()=>!l&&te(de=>!de),oe=de=>{document.body.classList=de?"light":"dark"};return P.useEffect(()=>{v&&(s(JF(!1)),g&&(Y(!0),se&&clearTimeout(se),ee(setTimeout(()=>{Y(!1)},4e3))))},[v]),P.useEffect(()=>()=>se&&clearTimeout(se),[]),w.jsxs("div",{ref:o,onDragOverCapture:f?()=>J(!0):null,id:"chat-widget","data-testid":"chat-widget",style:{boxShadow:" 0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgb(0 0 0 / 0.05)"},className:ue("tww-chat-widget-container-position tww-chat-widget-container-style",{"tww-chat-widget-container-default-size":!G},{"tww-chat-widget-container-fullscreen-size":G},{hidden:!t}),children:[w.jsxs("div",{className:"tww-chat-widget-container-header",children:[w.jsx("div",{className:ue("tww-chat-widget-container-header-font",{"tww-chat-widget-header-animation":q}),children:a}),w.jsxs("div",{className:"tww-chat-widget-container-header-icons-position",children:[!l&&w.jsx("button",{type:"button",className:"tww-chat-widget-container-header-button-maximize-minimize",onClick:()=>M(),children:G?w.jsx(Xz,{width:"24",height:"24"}):w.jsx(t$,{width:"24",height:"24"})}),w.jsx("button",{type:"button",className:"tww-chat-widget-container-header-button-dark-light-theme",onClick:()=>oe(document.body.classList.contains("dark")),children:w.jsx(e$,{})}),w.jsx("button",{"data-testid":"widget-close-button",type:"button",className:"tww-chat-widget-container-header-button-close",onClick:()=>{s(Qw(null)),n(!1)},children:w.jsx(sm,{width:"24",height:"24"})}),h&&w.jsx("button",{type:"button",className:"tww-chat-widget-container-header-button-menu",style:{marginLeft:"12px"},onClick:()=>k(!I),children:w.jsx(c$,{width:"24",height:"24"})})]})]}),w.jsx(MY,{chat:e,isFullscreen:G,handleSendMessage:r}),w.jsx(jZ,{closeMenu:()=>k(!1),isOpen:I,menuItems:i}),f&&w.jsx("div",{...y(),className:ue("absolute inset-0",{"pointer-events-none":!W}),children:w.jsx(e5,{isUploading:D,isDragReject:R,isDragActive:_,getInputProps:S})}),w.jsxs("div",{className:"tww-chat-form-container",children:[w.jsx(t5,{files:T,onDelete:C,isFullscreen:G}),w.jsx(LZ,{onSendMessage:r,allowAttach:f,onOpenAttachDialog:O,files:T,setIsUploading:$,setFiles:b})]})]})}function $Z(e){const t=ie(RO),r=ie(TF),n=P.useCallback(()=>{e()},[e]);P.useEffect(()=>{var a,c;if((t==null?void 0:t.type)!=="bot")return;const i=bm((c=(a=t==null?void 0:t.output)==null?void 0:a.parameters)==null?void 0:c.twwOutput),{partialResponse:s}=i;if(!(s!=null&&s.value))return;let o;return r?o=setTimeout(()=>n(t.eventId),r):n(t.eventId),()=>o&&clearTimeout(o)},[t])}const yN=({message:e,includeInChat:t=!0,text:r=null,SSE:n,sessionId:i,dispatch:s})=>{s($O(Vw)),s(n?YF({body:typeof e=="string"?{userinput:e}:e,sessionId:i,includeInChat:t,text:r}):NO({body:typeof e=="string"?{userinput:e}:e,includeInChat:t,text:r}))},FZ=({message:e,includeInChat:t,text:r,SSE:n,sessionId:i,dispatch:s})=>{const o=typeof e=="object"?e:{userinput:e};window.TeneoWebWidget.communicationLayerCalled(o,a=>{if(a!==!0)return s($O(kF)),s(fo({input:{text:e.userinput||e,timeStamp:+new Date},type:"user",eventId:va()})),s(Gw({sessionId:i||null}));yN({message:e,includeInChat:t,text:r,SSE:n,sessionId:i,dispatch:s})})},BZ=e=>{if(window.TeneoWebWidget.communicationLayerCalled)return FZ(e);yN(e)};function HZ(){var h;const e=Po(),t=ie(_O),r=ie(EO),n=ie(SF),i=ie(CF),s=ie(Ww),o=ie(RF),[a,c]=P.useState(!1),[l,u]=P.useState(!1),p=((h=window.TeneoWebWidget)==null?void 0:h.menuItems)||null;Px({addMessage:v=>e(fo(typeof v=="string"?{input:{},output:{text:v,timeStamp:+new Date},eventId:+new Date}:{input:{},output:{text:v.text,parameters:v.parameters||{},timeStamp:+new Date},eventId:+new Date})),openTWW:()=>c(!0),closeTWW:()=>c(!1),resetTWW:()=>e(Tp({})),endTWWSession:()=>e(lc({})),setChat:v=>e(GF(v)),allowMultipleUserInputs:v=>e(XF(v===!0))});const d=P.useCallback((v,g=null,m=null,y=!0,S=null,C=!1)=>{if(s&&C!==!0)return null;g&&e(ed({eventId:g,postback:m||v})),BZ({message:v,includeInChat:y,text:S,SSE:n,sessionId:r,dispatch:e})},[s,n,r,e]),f=P.useCallback(()=>d("",void 0,void 0,!0,void 0,!0),[d]);return P.useEffect(()=>{(i==="ON_OPEN_WIDGET"&&a||i==="ON_PAGE_LOAD")&&!(t!=null&&t.length)&&l===!1&&(d(""),u(!0))},[i,t,a,l,d]),$Z(f),P.useEffect(()=>{var v,g;o&&((g=(v=window.TeneoWebWidget)==null?void 0:v.onReceiveChatFunction)==null||g.call(v,t))},[t,o]),w.jsx(EY,{children:a?w.jsx(zZ,{chat:t,isVisible:a,handleSendMessage:d,setIsChatOpen:c,menuItems:p}):w.jsx(l$,{onClick:()=>c(v=>!v)})})}function UZ(){const e=Po();return w.jsxs("main",{className:"p-6 flex-grow tww-dev-content text-asgray-50",children:[w.jsxs("div",{children:["You can find the latest webwidget releases can be found on"," ",w.jsx("a",{href:"https://github.com/artificialsolutions/teneo-web-widget/releases",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),w.jsx("br",{}),"Storybook documentation can be found on"," ",w.jsx("a",{href:"https://released--660e9e3703f44eb375f50bb9.chromatic.com/?path=/docs/introduction--docs",target:"_blank",rel:"noopener noreferrer",children:"chromatic"})]}),w.jsx("button",{type:"button",onClick:()=>e(Tp({})),children:"Reset Chat"}),w.jsx("br",{}),w.jsx("button",{type:"button",onClick:()=>e(lc({})),children:"End Session"})]})}function qZ(){return w.jsx("header",{className:"p-6 border-b border-asgray-50 bg-white dark:bg-asgray-800 text-asgray-50 flex items-center",children:w.jsxs("h1",{className:"text-2xl",children:["teneo",w.jsx("span",{className:"font-bold",children:"webwidget"})]})})}const WZ=()=>{const[e,t]=P.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");return P.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{t(r.matches?"dark":"light")};return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),[e]};function VZ(){const e=WZ(),t=ie(wF);return P.useEffect(()=>{document.body.classList=e},[e]),w.jsxs("div",{className:ue("min-h-screen flex flex-col bg-transparent pointer-events-none",{dark:e==="dark"},{"pointer-events-auto bg-zinc-100 dark:bg-asgray-700":t}),children:[t&&w.jsxs(w.Fragment,{children:[w.jsx(qZ,{}),w.jsx(UZ,{})]}),w.jsx("div",{id:"TWW",className:"pointer-events-auto",children:w.jsx(HZ,{})})]})}const YZ="Form submitted successfully",KZ="Form was cancelled",GZ="Attached files: {fileNames}",QZ="Drop Files Here",JZ="Invalid type or number of files",XZ="Uploading...",ZZ="Type your message",eee="Drag and drop files here, or click to select",tee="Tap here to select files",ree="Invalid type or number of files",nee="{amount} file(s) exceeded the max size",iee="Upload file has been cancelled",see="Files Submitted ({amount})",oee="Uploading...",aee="Your browser does not support the video tag",cee="Your browser does not support the video tag",lee="This field is required",uee="This field is required",pee="This field is required",dee="Minimize",fee="Text to speech",hee="Toggle theme",vee="Maximize",mee="Close",gee="Voice message",yee="Send",See="Document",Cee="Chat",wee="Chevron Right",bee="Chevron Left",Pee="Attach",_ee="Menu",Kf={tww_form_successful:YZ,tww_form_cancelled:KZ,tww_file_attach_success_postback:GZ,tww_attach_dropzone_drop_files_place:QZ,tww_attach_dropzone_invalid_files:JZ,tww_attach_dropzone_uploading:XZ,tww_chat_input_placeholder:ZZ,tww_file_upload_add_files_desktop:eee,tww_file_upload_add_files_mobile:tee,tww_file_upload_invalid_files:ree,tww_file_upload_invalid_files_amount:nee,tww_file_upload_cancelled_upload:iee,tww_file_upload_files_submitted:see,tww_file_upload_uploading:oee,tww_attached_files_preview_video_unsupported_browser:aee,tww_file_upload_preview_video_unsupported_browser:cee,tww_textarea_required:lee,tww_textinput_required:uee,tww_datetimepicker_required:pee,tww_icon_compress_title:dee,tww_icon_speaker_title:fee,tww_icon_toggle_theme_title:hee,tww_icon_maximize_title:vee,tww_icon_close_title:mee,tww_icon_microphone_title:gee,tww_icon_send_title:yee,tww_icon_document_title:See,tww_icon_chat_title:Cee,tww_icon_chevron_right_title:wee,tww_icon_chevron_left_title:bee,tww_icon_attach_title:Pee,tww_icon_menu_title:_ee};function Eee({translationKeys:e,children:t}){const r=ie(s=>s.chat.language),n=P.useMemo(()=>{if(!e)return{en:Kf};const s={...e};for(const o of Object.keys(s))if(o.includes("en"))for(const a of Object.keys(Kf))s[o][a]||(s[o][a]=Kf[a]);return s.en||(s.en=Kf),s},[e]),i=P.useMemo(()=>Object.keys(n).includes(r)?r:Object.keys(n).filter(s=>s.includes(r)||r.includes(s))[0]||"en",[r,n]);return w.jsx(Qz,{locale:i,messages:n[i],children:t})}const Ree=["fullscreenDefault","fullscreenAlways","asrActive","ttsActive","titleAnimationActive","allowAttach","sseEnabled","azureSubscriptionOnly","showMenu"],Tee=e=>{const t={...e};for(const r of Ree){const n=t[r];n!=null&&typeof n!="boolean"&&(delete t[r],console.error(`The ${r} setting should be a boolean. The default value will be used`))}return t},gi=e=>e==="true";var Rt={BASE_URL:"./",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const kee=yO({chat:ZF}),Iee=({preloadedState:e={},settings:t={},chatHistory:r=JSON.parse(localStorage.getItem("chat")),language:n=JSON.parse(localStorage.getItem("language"))})=>{const i=r||[],s=AF(i),o=localStorage.getItem("xGatewaySession")||null,a={title:Rt.VITE_TITLE||"",botName:Rt.VITE_BOT_NAME||"AI",userName:Rt.VITE_USER_NAME||"You",botImage:Rt.VITE_BOT_IMAGE||"./src/assets/teneo_logo.png",userImage:Rt.VITE_USER_IMAGE||"./src/assets/flamingo_logo.png",fullscreenDefault:gi(Rt.VITE_WIDGET_FULLSCREEN_DEFAULT)||!1,fullscreenAlways:gi(Rt.VITE_WIDGET_FULLSCREEN_ALWAYS)||!1,customTypeMessages:[],engineUrl:Rt.VITE_BASE_URL||"",asrActive:gi(Rt.VITE_ASR_ACTIVE)||!1,ttsActive:gi(Rt.VITE_TTS_ACTIVE)||!1,titleAnimationActive:gi(Rt.VITE_TITLE_ANIMATION_ACTIVE)||!1,newMessageSound:Rt.VITE_NEW_MESSAGE_SOUND||"",locale:Rt.VITE_LOCALE||"en-US",voice:Rt.VITE_VOICE||"Google UK English Female",allowAttach:gi(Rt.VITE_ALLOW_ATTACH)||!1,uploadAcceptFileTypes:Rt.VITE_UPLOAD_ACCEPT_FILE_TYPES||void 0,uploadMaxFileSize:Rt.VITE_UPLOAD_MAX_FILE_SIZE||"Infinity",uploadMaxTotalFiles:Rt.VITE_UPLOAD_MAX_TOTAL_FILES||0,sseEnabled:gi(Rt.VITE_SSE_ENABLED)??!0,sendEmptyInput:gi(Rt.VITE_SEND_EMPTY_INPUT)||null,azureSpeechApiKey:Rt.VITE_AZURE_SPEECH_API_KEY||"",azureSpeechApiRegion:Rt.VITE_AZURE_SPEECH_API_REGION||"",azureSubscriptionOnly:gi(Rt.VITE_AZURE_SUBSCRIPTION_ONLY)||!1,showMenu:gi(Rt.VITE_SHOW_MENU)||!1,allowMultipleUserInputs:!1,captureChat:gi(Rt.VITE_CAPTURE_CHAT)||!1,partialResponseInterval:Rt.VITE_PARTIAL_RESPONSE_INTERVAL||null};return q6({reducer:kee,preloadedState:{...e,chat:{...e.chat,chat:i,sessionId:s,xGatewaySession:o,settings:{...a,...Tee(t),isDevEnvironment:!1},newBotMessage:!1,language:n??navigator.language}},devTools:!1})};window.React||(window.TWWReact=x);window.ReactDOM||(window.TWWReactDOM=bh);const SN=({element:e,settings:t,chatHistory:r,translationKeys:n})=>{bh.createRoot(e).render(w.jsx(x.StrictMode,{children:w.jsx(X3,{store:Iee({settings:t,chatHistory:r}),children:w.jsx(Eee,{translationKeys:n,children:w.jsx(VZ,{})})})}))};window.TeneoWebWidget={initialize:SN};document.getElementById("root")&&SN({element:document.getElementById("root")});var Aee=function(t){return xee(t)&&!Oee(t)};function xee(e){return!!e&&typeof e=="object"}function Oee(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Nee(e)}var Dee=typeof Symbol=="function"&&Symbol.for,Mee=Dee?Symbol.for("react.element"):60103;function Nee(e){return e.$$typeof===Mee}function Lee(e){return Array.isArray(e)?[]:{}}function fd(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Nc(Lee(e),e,t):e}function jee(e,t,r){return e.concat(t).map(function(n){return fd(n,r)})}function zee(e,t){if(!t.customMerge)return Nc;var r=t.customMerge(e);return typeof r=="function"?r:Nc}function $ee(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function xk(e){return Object.keys(e).concat($ee(e))}function CN(e,t){try{return t in e}catch{return!1}}function Fee(e,t){return CN(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Bee(e,t,r){var n={};return r.isMergeableObject(e)&&xk(e).forEach(function(i){n[i]=fd(e[i],r)}),xk(t).forEach(function(i){Fee(e,i)||(CN(e,i)&&r.isMergeableObject(t[i])?n[i]=zee(i,r)(e[i],t[i],r):n[i]=fd(t[i],r))}),n}function Nc(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||jee,r.isMergeableObject=r.isMergeableObject||Aee,r.cloneUnlessOtherwiseSpecified=fd;var n=Array.isArray(t),i=Array.isArray(e),s=n===i;return s?n?r.arrayMerge(e,t,r):Bee(e,t,r):fd(t,r)}Nc.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return Nc(n,i,r)},{})};var Hee=Nc,wN=Hee,Ok=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Uee(e,t){return!!(e===t||Ok(e)&&Ok(t))}function qee(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Uee(e[r],t[r]))return!1;return!0}function Wee(e,t){t===void 0&&(t=qee);var r,n=[],i,s=!1;function o(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return s&&r===this&&t(a,n)||(i=e.apply(this,a),s=!0,r=this,n=a),i}return o}const Vee=Object.freeze(Object.defineProperty({__proto__:null,default:Wee},Symbol.toStringTag,{value:"Module"})),Yee=Wk(Vee);var Kee=typeof Element<"u",Gee=typeof Map=="function",Qee=typeof Set=="function",Jee=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wh(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!wh(e[n],t[n]))return!1;return!0}var s;if(Gee&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;for(s=e.entries();!(n=s.next()).done;)if(!wh(n.value[1],t.get(n.value[0])))return!1;return!0}if(Qee&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Jee&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(Kee&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!wh(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var bN=function(t,r){try{return wh(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},Xee=Object.create,jg=Object.defineProperty,Zee=Object.getOwnPropertyDescriptor,ete=Object.getOwnPropertyNames,tte=Object.getPrototypeOf,rte=Object.prototype.hasOwnProperty,nte=(e,t)=>{for(var r in t)jg(e,r,{get:t[r],enumerable:!0})},PN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ete(t))!rte.call(e,i)&&i!==r&&jg(e,i,{get:()=>t[i],enumerable:!(n=Zee(t,i))||n.enumerable});return e},ite=(e,t,r)=>(r=e!=null?Xee(tte(e)):{},PN(t||!e||!e.__esModule?jg(r,"default",{value:e,enumerable:!0}):r,e)),ste=e=>PN(jg({},"__esModule",{value:!0}),e),_N={};nte(_N,{defaultProps:()=>cte,propTypes:()=>ate});var EN=ste(_N),ote=ite(ax);const{string:Lr,bool:mn,number:La,array:CS,oneOfType:ip,shape:zn,object:sn,func:mr,node:Dk}=ote.default,ate={url:ip([Lr,CS,sn]),playing:mn,loop:mn,controls:mn,volume:La,muted:mn,playbackRate:La,width:ip([Lr,La]),height:ip([Lr,La]),style:sn,progressInterval:La,playsinline:mn,pip:mn,stopOnUnmount:mn,light:ip([mn,Lr,sn]),playIcon:Dk,previewTabIndex:La,previewAriaLabel:Lr,fallback:Dk,oEmbedUrl:Lr,wrapper:ip([Lr,mr,zn({render:mr.isRequired})]),config:zn({soundcloud:zn({options:sn}),youtube:zn({playerVars:sn,embedOptions:sn,onUnstarted:mr}),facebook:zn({appId:Lr,version:Lr,playerId:Lr,attributes:sn}),dailymotion:zn({params:sn}),vimeo:zn({playerOptions:sn,title:Lr}),mux:zn({attributes:sn,version:Lr}),file:zn({attributes:sn,tracks:CS,forceVideo:mn,forceAudio:mn,forceHLS:mn,forceSafariHLS:mn,forceDisableHls:mn,forceDASH:mn,forceFLV:mn,hlsOptions:sn,hlsVersion:Lr,dashVersion:Lr,flvVersion:Lr}),wistia:zn({options:sn,playerId:Lr,customControls:CS}),mixcloud:zn({options:sn}),twitch:zn({options:sn,playerId:Lr}),vidyard:zn({options:sn})}),onReady:mr,onStart:mr,onPlay:mr,onPause:mr,onBuffer:mr,onBufferEnd:mr,onEnded:mr,onError:mr,onDuration:mr,onSeek:mr,onPlaybackRateChange:mr,onPlaybackQualityChange:mr,onProgress:mr,onClickPreview:mr,onEnablePIP:mr,onDisablePIP:mr},jr=()=>{},cte={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:jr},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:jr,onStart:jr,onPlay:jr,onPause:jr,onBuffer:jr,onBufferEnd:jr,onEnded:jr,onError:jr,onDuration:jr,onSeek:jr,onPlaybackRateChange:jr,onPlaybackQualityChange:jr,onProgress:jr,onClickPreview:jr,onEnablePIP:jr,onDisablePIP:jr};var lte=function(t,r,n){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},s.type=r.type||"text/javascript",s.charset=r.charset||"utf8",s.async="async"in r?!!r.async:!0,s.src=t,r.attrs&&ute(s,r.attrs),r.text&&(s.text=""+r.text);var o="onload"in s?Mk:pte;o(s,n),s.onload||Mk(s,n),i.appendChild(s)};function ute(e,t){for(var r in t)e.setAttribute(r,t[r])}function Mk(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function pte(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var dte=Object.create,zg=Object.defineProperty,fte=Object.getOwnPropertyDescriptor,hte=Object.getOwnPropertyNames,vte=Object.getPrototypeOf,mte=Object.prototype.hasOwnProperty,gte=(e,t)=>{for(var r in t)zg(e,r,{get:t[r],enumerable:!0})},RN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hte(t))!mte.call(e,i)&&i!==r&&zg(e,i,{get:()=>t[i],enumerable:!(n=fte(t,i))||n.enumerable});return e},o1=(e,t,r)=>(r=e!=null?dte(vte(e)):{},RN(t||!e||!e.__esModule?zg(r,"default",{value:e,enumerable:!0}):r,e)),yte=e=>RN(zg({},"__esModule",{value:!0}),e),TN={};gte(TN,{callPlayer:()=>Mte,getConfig:()=>Ote,getSDK:()=>xte,isBlobUrl:()=>Lte,isMediaStream:()=>Nte,lazy:()=>bte,omit:()=>Dte,parseEndTime:()=>kte,parseStartTime:()=>Tte,queryString:()=>Ate,randomString:()=>Ite,supportsWebKitPresentationMode:()=>jte});var Gc=yte(TN),Ste=o1(P),Cte=o1(lte),wte=o1(wN);const bte=e=>Ste.default.lazy(async()=>{const t=await e();return typeof t.default=="function"?t:t.default}),Pte=/[?&#](?:start|t)=([0-9hms]+)/,_te=/[?&#]end=([0-9hms]+)/,IC=/(\d+)(h|m|s)/g,Ete=/^\d+$/;function kN(e,t){if(e instanceof Array)return;const r=e.match(t);if(r){const n=r[1];if(n.match(IC))return Rte(n);if(Ete.test(n))return parseInt(n)}}function Rte(e){let t=0,r=IC.exec(e);for(;r!==null;){const[,n,i]=r;i==="h"&&(t+=parseInt(n,10)*60*60),i==="m"&&(t+=parseInt(n,10)*60),i==="s"&&(t+=parseInt(n,10)),r=IC.exec(e)}return t}function Tte(e){return kN(e,Pte)}function kte(e){return kN(e,_te)}function Ite(){return Math.random().toString(36).substr(2,5)}function Ate(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function wS(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const ja={},xte=function(t,r,n=null,i=()=>!0,s=Cte.default){const o=wS(r);return o&&i(o)?Promise.resolve(o):new Promise((a,c)=>{if(ja[t]){ja[t].push({resolve:a,reject:c});return}ja[t]=[{resolve:a,reject:c}];const l=u=>{ja[t].forEach(p=>p.resolve(u))};if(n){const u=window[n];window[n]=function(){u&&u(),l(wS(r))}}s(t,u=>{u?(ja[t].forEach(p=>p.reject(u)),ja[t]=null):n||l(wS(r))})})};function Ote(e,t){return(0,wte.default)(t.config,e.config)}function Dte(e,...t){const r=[].concat(...t),n={},i=Object.keys(e);for(const s of i)r.indexOf(s)===-1&&(n[s]=e[s]);return n}function Mte(e,...t){if(!this.player||!this.player[e]){let r=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c  `;return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[e](...t)}function Nte(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function Lte(e){return/^blob:/.test(e)}function jte(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var zte=Object.create,Zd=Object.defineProperty,$te=Object.getOwnPropertyDescriptor,Fte=Object.getOwnPropertyNames,Bte=Object.getPrototypeOf,Hte=Object.prototype.hasOwnProperty,Ute=(e,t,r)=>t in e?Zd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qte=(e,t)=>{for(var r in t)Zd(e,r,{get:t[r],enumerable:!0})},IN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Fte(t))!Hte.call(e,i)&&i!==r&&Zd(e,i,{get:()=>t[i],enumerable:!(n=$te(t,i))||n.enumerable});return e},AN=(e,t,r)=>(r=e!=null?zte(Bte(e)):{},IN(t||!e||!e.__esModule?Zd(r,"default",{value:e,enumerable:!0}):r,e)),Wte=e=>IN(Zd({},"__esModule",{value:!0}),e),ir=(e,t,r)=>(Ute(e,typeof t!="symbol"?t+"":t,r),r),xN={};qte(xN,{default:()=>$g});var Vte=Wte(xN),Nk=AN(P),Yte=AN(bN),ON=EN,Kte=Gc;const Gte=5e3;let $g=class extends Nk.Component{constructor(){super(...arguments),ir(this,"mounted",!1),ir(this,"isReady",!1),ir(this,"isPlaying",!1),ir(this,"isLoading",!0),ir(this,"loadOnReady",null),ir(this,"startOnPlay",!0),ir(this,"seekOnPlay",null),ir(this,"onDurationCalled",!1),ir(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),ir(this,"getInternalPlayer",t=>this.player?this.player[t]:null),ir(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,r=this.getSecondsLoaded(),n=this.getDuration();if(n){const i={playedSeconds:t,played:t/n};r!==null&&(i.loadedSeconds=r,i.loaded=r/n),(i.playedSeconds!==this.prevPlayed||i.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(i),this.prevPlayed=i.playedSeconds,this.prevLoaded=i.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),ir(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:r,volume:n,muted:i}=this.props;t(),!i&&n!==null&&this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):r&&this.player.play(),this.handleDurationCheck()}),ir(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:r,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&n!==1&&this.player.setPlaybackRate(n),t(),this.startOnPlay=!1),r(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),ir(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),ir(this,"handleEnded",()=>{const{activePlayer:t,loop:r,onEnded:n}=this.props;t.loopOnEnded&&r&&this.seekTo(0),r||(this.isPlaying=!1,n())}),ir(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),ir(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),ir(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:r,playing:n,volume:i,muted:s,playbackRate:o,pip:a,loop:c,activePlayer:l,disableDeferredLoading:u}=this.props;if(!(0,Yte.default)(t.url,r)){if(this.isLoading&&!l.forceLoad&&!u&&!(0,Kte.isMediaStream)(r)){console.warn(`ReactPlayer: the attempt to load ${r} is being deferred until the player has loaded`),this.loadOnReady=r;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}!t.playing&&n&&!this.isPlaying&&this.player.play(),t.playing&&!n&&this.isPlaying&&this.player.pause(),!t.pip&&a&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!a&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==i&&i!==null&&this.player.setVolume(i),t.muted!==s&&(s?this.player.mute():(this.player.unmute(),i!==null&&setTimeout(()=>this.player.setVolume(i)))),t.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,r,n){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},Gte));return}if(r?r==="fraction":t>0&&t<1){const s=this.player.getDuration();if(!s){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(s*t,n);return}this.player.seekTo(t,n)}render(){const t=this.props.activePlayer;return t?Nk.default.createElement(t,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}};ir($g,"displayName","Player");ir($g,"propTypes",ON.propTypes);ir($g,"defaultProps",ON.defaultProps);var Qte=Object.create,ef=Object.defineProperty,Jte=Object.getOwnPropertyDescriptor,Xte=Object.getOwnPropertyNames,Zte=Object.getPrototypeOf,ere=Object.prototype.hasOwnProperty,tre=(e,t,r)=>t in e?ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rre=(e,t)=>{for(var r in t)ef(e,r,{get:t[r],enumerable:!0})},DN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Xte(t))!ere.call(e,i)&&i!==r&&ef(e,i,{get:()=>t[i],enumerable:!(n=Jte(t,i))||n.enumerable});return e},tf=(e,t,r)=>(r=e!=null?Qte(Zte(e)):{},DN(t||!e||!e.__esModule?ef(r,"default",{value:e,enumerable:!0}):r,e)),nre=e=>DN(ef({},"__esModule",{value:!0}),e),nr=(e,t,r)=>(tre(e,typeof t!="symbol"?t+"":t,r),r),MN={};rre(MN,{createReactPlayer:()=>pre});var a1=nre(MN),Ha=tf(P),ire=tf(wN),bS=tf(Yee),Lk=tf(bN),mp=EN,NN=Gc,sre=tf(Vte);const ore=(0,NN.lazy)(()=>Cm(()=>Promise.resolve().then(()=>Dne),void 0,import.meta.url)),are=typeof window<"u"&&window.document&&typeof document<"u",cre=typeof xe<"u"&&xe.window&&xe.window.document,lre=Object.keys(mp.propTypes),ure=are||cre?Ha.Suspense:()=>null,sp=[],pre=(e,t)=>{var r;return r=class extends Ha.Component{constructor(){super(...arguments),nr(this,"state",{showPreview:!!this.props.light}),nr(this,"references",{wrapper:n=>{this.wrapper=n},player:n=>{this.player=n}}),nr(this,"handleClickPreview",n=>{this.setState({showPreview:!1}),this.props.onClickPreview(n)}),nr(this,"showPreview",()=>{this.setState({showPreview:!0})}),nr(this,"getDuration",()=>this.player?this.player.getDuration():null),nr(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),nr(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),nr(this,"getInternalPlayer",(n="player")=>this.player?this.player.getInternalPlayer(n):null),nr(this,"seekTo",(n,i,s)=>{if(!this.player)return null;this.player.seekTo(n,i,s)}),nr(this,"handleReady",()=>{this.props.onReady(this)}),nr(this,"getActivePlayer",(0,bS.default)(n=>{for(const i of[...sp,...e])if(i.canPlay(n))return i;return t||null})),nr(this,"getConfig",(0,bS.default)((n,i)=>{const{config:s}=this.props;return ire.default.all([mp.defaultProps.config,mp.defaultProps.config[i]||{},s,s[i]||{}])})),nr(this,"getAttributes",(0,bS.default)(n=>(0,NN.omit)(this.props,lre))),nr(this,"renderActivePlayer",n=>{if(!n)return null;const i=this.getActivePlayer(n);if(!i)return null;const s=this.getConfig(n,i.key);return Ha.default.createElement(sre.default,{...this.props,key:i.key,ref:this.references.player,config:s,activePlayer:i.lazyPlayer||i,onReady:this.handleReady})})}shouldComponentUpdate(n,i){return!(0,Lk.default)(this.props,n)||!(0,Lk.default)(this.state,i)}componentDidUpdate(n){const{light:i}=this.props;!n.light&&i&&this.setState({showPreview:!0}),n.light&&!i&&this.setState({showPreview:!1})}renderPreview(n){if(!n)return null;const{light:i,playIcon:s,previewTabIndex:o,oEmbedUrl:a,previewAriaLabel:c}=this.props;return Ha.default.createElement(ore,{url:n,light:i,playIcon:s,previewTabIndex:o,previewAriaLabel:c,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:n,style:i,width:s,height:o,fallback:a,wrapper:c}=this.props,{showPreview:l}=this.state,u=this.getAttributes(n),p=typeof c=="string"?this.references.wrapper:void 0;return Ha.default.createElement(c,{ref:p,style:{...i,width:s,height:o},...u},Ha.default.createElement(ure,{fallback:a},l?this.renderPreview(n):this.renderActivePlayer(n)))}},nr(r,"displayName","ReactPlayer"),nr(r,"propTypes",mp.propTypes),nr(r,"defaultProps",mp.defaultProps),nr(r,"addCustomPlayer",n=>{sp.push(n)}),nr(r,"removeCustomPlayers",()=>{sp.length=0}),nr(r,"canPlay",n=>{for(const i of[...sp,...e])if(i.canPlay(n))return!0;return!1}),nr(r,"canEnablePIP",n=>{for(const i of[...sp,...e])if(i.canEnablePIP&&i.canEnablePIP(n))return!0;return!1}),r};var c1=Object.defineProperty,dre=Object.getOwnPropertyDescriptor,fre=Object.getOwnPropertyNames,hre=Object.prototype.hasOwnProperty,vre=(e,t)=>{for(var r in t)c1(e,r,{get:t[r],enumerable:!0})},mre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fre(t))!hre.call(e,i)&&i!==r&&c1(e,i,{get:()=>t[i],enumerable:!(n=dre(t,i))||n.enumerable});return e},gre=e=>mre(c1({},"__esModule",{value:!0}),e),LN={};vre(LN,{AUDIO_EXTENSIONS:()=>u1,DASH_EXTENSIONS:()=>QN,FLV_EXTENSIONS:()=>JN,HLS_EXTENSIONS:()=>d1,MATCH_URL_DAILYMOTION:()=>VN,MATCH_URL_FACEBOOK:()=>FN,MATCH_URL_FACEBOOK_WATCH:()=>BN,MATCH_URL_KALTURA:()=>GN,MATCH_URL_MIXCLOUD:()=>YN,MATCH_URL_MUX:()=>$N,MATCH_URL_SOUNDCLOUD:()=>jN,MATCH_URL_STREAMABLE:()=>HN,MATCH_URL_TWITCH_CHANNEL:()=>WN,MATCH_URL_TWITCH_VIDEO:()=>qN,MATCH_URL_VIDYARD:()=>KN,MATCH_URL_VIMEO:()=>zN,MATCH_URL_WISTIA:()=>UN,MATCH_URL_YOUTUBE:()=>AC,VIDEO_EXTENSIONS:()=>p1,canPlay:()=>yre});var l1=gre(LN),jk=Gc;const AC=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,jN=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,zN=/vimeo\.com\/(?!progressive_redirect).+/,$N=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,FN=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,BN=/^https?:\/\/fb\.watch\/.+$/,HN=/streamable\.com\/([a-z0-9]+)$/,UN=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,qN=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,WN=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,VN=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,YN=/mixcloud\.com\/([^/]+\/[^/]+)/,KN=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,GN=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,u1=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,p1=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,d1=/\.(m3u8)($|\?)/i,QN=/\.(mpd)($|\?)/i,JN=/\.(flv)($|\?)/i,xC=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&xC(t)||xC(t.src))return!0;return!1}return(0,jk.isMediaStream)(e)||(0,jk.isBlobUrl)(e)?!0:u1.test(e)||p1.test(e)||d1.test(e)||QN.test(e)||JN.test(e)},yre={youtube:e=>e instanceof Array?e.every(t=>AC.test(t)):AC.test(e),soundcloud:e=>jN.test(e)&&!u1.test(e),vimeo:e=>zN.test(e)&&!p1.test(e)&&!d1.test(e),mux:e=>$N.test(e),facebook:e=>FN.test(e)||BN.test(e),streamable:e=>HN.test(e),wistia:e=>UN.test(e),twitch:e=>qN.test(e)||WN.test(e),dailymotion:e=>VN.test(e),mixcloud:e=>YN.test(e),vidyard:e=>KN.test(e),kaltura:e=>GN.test(e),file:xC};var Sre=Object.create,rf=Object.defineProperty,Cre=Object.getOwnPropertyDescriptor,wre=Object.getOwnPropertyNames,bre=Object.getPrototypeOf,Pre=Object.prototype.hasOwnProperty,_re=(e,t,r)=>t in e?rf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ere=(e,t)=>{for(var r in t)rf(e,r,{get:t[r],enumerable:!0})},XN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wre(t))!Pre.call(e,i)&&i!==r&&rf(e,i,{get:()=>t[i],enumerable:!(n=Cre(t,i))||n.enumerable});return e},Rre=(e,t,r)=>(r=e!=null?Sre(bre(e)):{},XN(t||!e||!e.__esModule?rf(r,"default",{value:e,enumerable:!0}):r,e)),Tre=e=>XN(rf({},"__esModule",{value:!0}),e),Bs=(e,t,r)=>(_re(e,typeof t!="symbol"?t+"":t,r),r),ZN={};Ere(ZN,{default:()=>f1});var kre=Tre(ZN),PS=Rre(P),za=Gc,eL=l1;const Ire="https://www.youtube.com/iframe_api",zk="YT",Are="onYouTubeIframeAPIReady",Gf=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,_S=/user\/([a-zA-Z0-9_-]+)\/?/,xre=/youtube-nocookie\.com/,Ore="https://www.youtube-nocookie.com";class f1 extends PS.Component{constructor(){super(...arguments),Bs(this,"callPlayer",za.callPlayer),Bs(this,"parsePlaylist",t=>{if(t instanceof Array)return{listType:"playlist",playlist:t.map(this.getID).join(",")};if(Gf.test(t)){const[,r]=t.match(Gf);return{listType:"playlist",list:r.replace(/^UC/,"UU")}}if(_S.test(t)){const[,r]=t.match(_S);return{listType:"user_uploads",list:r}}return{}}),Bs(this,"onStateChange",t=>{const{data:r}=t,{onPlay:n,onPause:i,onBuffer:s,onBufferEnd:o,onEnded:a,onReady:c,loop:l,config:{playerVars:u,onUnstarted:p}}=this.props,{UNSTARTED:d,PLAYING:f,PAUSED:h,BUFFERING:v,ENDED:g,CUED:m}=window[zk].PlayerState;if(r===d&&p(),r===f&&(n(),o()),r===h&&i(),r===v&&s(),r===g){const y=!!this.callPlayer("getPlaylist");l&&!y&&(u.start?this.seekTo(u.start):this.play()),a()}r===m&&c()}),Bs(this,"mute",()=>{this.callPlayer("mute")}),Bs(this,"unmute",()=>{this.callPlayer("unMute")}),Bs(this,"ref",t=>{this.container=t})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}getID(t){return!t||t instanceof Array||Gf.test(t)?null:t.match(eL.MATCH_URL_YOUTUBE)[1]}load(t,r){const{playing:n,muted:i,playsinline:s,controls:o,loop:a,config:c,onError:l}=this.props,{playerVars:u,embedOptions:p}=c,d=this.getID(t);if(r){if(Gf.test(t)||_S.test(t)||t instanceof Array){this.player.loadPlaylist(this.parsePlaylist(t));return}this.player.cueVideoById({videoId:d,startSeconds:(0,za.parseStartTime)(t)||u.start,endSeconds:(0,za.parseEndTime)(t)||u.end});return}(0,za.getSDK)(Ire,zk,Are,f=>f.loaded).then(f=>{this.container&&(this.player=new f.Player(this.container,{width:"100%",height:"100%",videoId:d,playerVars:{autoplay:n?1:0,mute:i?1:0,controls:o?1:0,start:(0,za.parseStartTime)(t),end:(0,za.parseEndTime)(t),origin:window.location.origin,playsinline:s?1:0,...this.parsePlaylist(t),...u},events:{onReady:()=>{a&&this.player.setLoop(!0),this.props.onReady()},onPlaybackRateChange:h=>this.props.onPlaybackRateChange(h.data),onPlaybackQualityChange:h=>this.props.onPlaybackQualityChange(h),onStateChange:this.onStateChange,onError:h=>l(h.data)},host:xre.test(t)?Ore:void 0,...p}))},l),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayers callback props instead, eg onReady, onPlay, onPause")}play(){this.callPlayer("playVideo")}pause(){this.callPlayer("pauseVideo")}stop(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}seekTo(t,r=!1){this.callPlayer("seekTo",t),!r&&!this.props.playing&&this.pause()}setVolume(t){this.callPlayer("setVolume",t*100)}setPlaybackRate(t){this.callPlayer("setPlaybackRate",t)}setLoop(t){this.callPlayer("setLoop",t)}getDuration(){return this.callPlayer("getDuration")}getCurrentTime(){return this.callPlayer("getCurrentTime")}getSecondsLoaded(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}render(){const{display:t}=this.props,r={width:"100%",height:"100%",display:t};return PS.default.createElement("div",{style:r},PS.default.createElement("div",{ref:this.ref}))}}Bs(f1,"displayName","YouTube");Bs(f1,"canPlay",eL.canPlay.youtube);var Dre=a1.createReactPlayer,$k=kre.default,tL=Dre([{key:"youtube",canPlay:$k.canPlay,lazyPlayer:$k}]);const Mre=So(tL),Nre=vd({__proto__:null,default:Mre},[tL]);var Lre=Object.create,nf=Object.defineProperty,jre=Object.getOwnPropertyDescriptor,zre=Object.getOwnPropertyNames,$re=Object.getPrototypeOf,Fre=Object.prototype.hasOwnProperty,Bre=(e,t,r)=>t in e?nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hre=(e,t)=>{for(var r in t)nf(e,r,{get:t[r],enumerable:!0})},rL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zre(t))!Fre.call(e,i)&&i!==r&&nf(e,i,{get:()=>t[i],enumerable:!(n=jre(t,i))||n.enumerable});return e},Ure=(e,t,r)=>(r=e!=null?Lre($re(e)):{},rL(t||!e||!e.__esModule?nf(r,"default",{value:e,enumerable:!0}):r,e)),qre=e=>rL(nf({},"__esModule",{value:!0}),e),$i=(e,t,r)=>(Bre(e,typeof t!="symbol"?t+"":t,r),r),nL={};Hre(nL,{default:()=>Fg});var Wre=qre(nL),Fk=Ure(P),Bk=Gc,Vre=l1;const Yre="https://player.vimeo.com/api/player.js",Kre="Vimeo",Gre=e=>e.replace("/manage/videos","");class Fg extends Fk.Component{constructor(){super(...arguments),$i(this,"callPlayer",Bk.callPlayer),$i(this,"duration",null),$i(this,"currentTime",null),$i(this,"secondsLoaded",null),$i(this,"mute",()=>{this.setMuted(!0)}),$i(this,"unmute",()=>{this.setMuted(!1)}),$i(this,"ref",t=>{this.container=t})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(t){this.duration=null,(0,Bk.getSDK)(Yre,Kre).then(r=>{if(!this.container)return;const{playerOptions:n,title:i}=this.props.config;this.player=new r.Player(this.container,{url:Gre(t),autoplay:this.props.playing,muted:this.props.muted,loop:this.props.loop,playsinline:this.props.playsinline,controls:this.props.controls,...n}),this.player.ready().then(()=>{const s=this.container.querySelector("iframe");s.style.width="100%",s.style.height="100%",i&&(s.title=i)}).catch(this.props.onError),this.player.on("loaded",()=>{this.props.onReady(),this.refreshDuration()}),this.player.on("play",()=>{this.props.onPlay(),this.refreshDuration()}),this.player.on("pause",this.props.onPause),this.player.on("seeked",s=>this.props.onSeek(s.seconds)),this.player.on("ended",this.props.onEnded),this.player.on("error",this.props.onError),this.player.on("timeupdate",({seconds:s})=>{this.currentTime=s}),this.player.on("progress",({seconds:s})=>{this.secondsLoaded=s}),this.player.on("bufferstart",this.props.onBuffer),this.player.on("bufferend",this.props.onBufferEnd),this.player.on("playbackratechange",s=>this.props.onPlaybackRateChange(s.playbackRate))},this.props.onError)}refreshDuration(){this.player.getDuration().then(t=>{this.duration=t})}play(){const t=this.callPlayer("play");t&&t.catch(this.props.onError)}pause(){this.callPlayer("pause")}stop(){this.callPlayer("unload")}seekTo(t,r=!0){this.callPlayer("setCurrentTime",t),r||this.pause()}setVolume(t){this.callPlayer("setVolume",t)}setMuted(t){this.callPlayer("setMuted",t)}setLoop(t){this.callPlayer("setLoop",t)}setPlaybackRate(t){this.callPlayer("setPlaybackRate",t)}getDuration(){return this.duration}getCurrentTime(){return this.currentTime}getSecondsLoaded(){return this.secondsLoaded}render(){const{display:t}=this.props,r={width:"100%",height:"100%",overflow:"hidden",display:t};return Fk.default.createElement("div",{key:this.props.url,ref:this.ref,style:r})}}$i(Fg,"displayName","Vimeo");$i(Fg,"canPlay",Vre.canPlay.vimeo);$i(Fg,"forceLoad",!0);var Qre=a1.createReactPlayer,Hk=Wre.default,iL=Qre([{key:"vimeo",canPlay:Hk.canPlay,lazyPlayer:Hk}]);const Jre=So(iL),Xre=vd({__proto__:null,default:Jre},[iL]);var Zre=Object.create,sf=Object.defineProperty,ene=Object.getOwnPropertyDescriptor,tne=Object.getOwnPropertyNames,rne=Object.getPrototypeOf,nne=Object.prototype.hasOwnProperty,ine=(e,t,r)=>t in e?sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sne=(e,t)=>{for(var r in t)sf(e,r,{get:t[r],enumerable:!0})},sL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tne(t))!nne.call(e,i)&&i!==r&&sf(e,i,{get:()=>t[i],enumerable:!(n=ene(t,i))||n.enumerable});return e},one=(e,t,r)=>(r=e!=null?Zre(rne(e)):{},sL(t||!e||!e.__esModule?sf(r,"default",{value:e,enumerable:!0}):r,e)),ane=e=>sL(sf({},"__esModule",{value:!0}),e),gr=(e,t,r)=>(ine(e,typeof t!="symbol"?t+"":t,r),r),oL={};sne(oL,{default:()=>v1});var cne=ane(oL),op=one(P),us=Gc,gp=l1;const h1=typeof navigator<"u",lne=h1&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Uk=h1&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||lne)&&!window.MSStream,une=h1&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,pne="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",dne="Hls",fne="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",hne="dashjs",vne="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",mne="flvjs",gne=/www\.dropbox\.com\/.+/,ES=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,yne="https://videodelivery.net/{id}/manifest/video.m3u8";class v1 extends op.Component{constructor(){super(...arguments),gr(this,"onReady",(...t)=>this.props.onReady(...t)),gr(this,"onPlay",(...t)=>this.props.onPlay(...t)),gr(this,"onBuffer",(...t)=>this.props.onBuffer(...t)),gr(this,"onBufferEnd",(...t)=>this.props.onBufferEnd(...t)),gr(this,"onPause",(...t)=>this.props.onPause(...t)),gr(this,"onEnded",(...t)=>this.props.onEnded(...t)),gr(this,"onError",(...t)=>this.props.onError(...t)),gr(this,"onPlayBackRateChange",t=>this.props.onPlaybackRateChange(t.target.playbackRate)),gr(this,"onEnablePIP",(...t)=>this.props.onEnablePIP(...t)),gr(this,"onDisablePIP",t=>{const{onDisablePIP:r,playing:n}=this.props;r(t),n&&this.play()}),gr(this,"onPresentationModeChange",t=>{if(this.player&&(0,us.supportsWebKitPresentationMode)(this.player)){const{webkitPresentationMode:r}=this.player;r==="picture-in-picture"?this.onEnablePIP(t):r==="inline"&&this.onDisablePIP(t)}}),gr(this,"onSeek",t=>{this.props.onSeek(t.target.currentTime)}),gr(this,"mute",()=>{this.player.muted=!0}),gr(this,"unmute",()=>{this.player.muted=!1}),gr(this,"renderSourceElement",(t,r)=>typeof t=="string"?op.default.createElement("source",{key:r,src:t}):op.default.createElement("source",{key:r,...t})),gr(this,"renderTrack",(t,r)=>op.default.createElement("track",{key:r,...t})),gr(this,"ref",t=>{this.player&&(this.prevPlayer=this.player),this.player=t})}componentDidMount(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player);const t=this.getSource(this.props.url);t&&(this.player.src=t),(Uk||this.props.config.forceDisableHls)&&this.player.load()}componentDidUpdate(t){this.shouldUseAudio(this.props)!==this.shouldUseAudio(t)&&(this.removeListeners(this.prevPlayer,t.url),this.addListeners(this.player)),this.props.url!==t.url&&!(0,us.isMediaStream)(this.props.url)&&!(this.props.url instanceof Array)&&(this.player.srcObject=null)}componentWillUnmount(){this.player.removeAttribute("src"),this.removeListeners(this.player),this.hls&&this.hls.destroy()}addListeners(t){const{url:r,playsinline:n}=this.props;t.addEventListener("play",this.onPlay),t.addEventListener("waiting",this.onBuffer),t.addEventListener("playing",this.onBufferEnd),t.addEventListener("pause",this.onPause),t.addEventListener("seeked",this.onSeek),t.addEventListener("ended",this.onEnded),t.addEventListener("error",this.onError),t.addEventListener("ratechange",this.onPlayBackRateChange),t.addEventListener("enterpictureinpicture",this.onEnablePIP),t.addEventListener("leavepictureinpicture",this.onDisablePIP),t.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(r)||t.addEventListener("canplay",this.onReady),n&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""))}removeListeners(t,r){t.removeEventListener("canplay",this.onReady),t.removeEventListener("play",this.onPlay),t.removeEventListener("waiting",this.onBuffer),t.removeEventListener("playing",this.onBufferEnd),t.removeEventListener("pause",this.onPause),t.removeEventListener("seeked",this.onSeek),t.removeEventListener("ended",this.onEnded),t.removeEventListener("error",this.onError),t.removeEventListener("ratechange",this.onPlayBackRateChange),t.removeEventListener("enterpictureinpicture",this.onEnablePIP),t.removeEventListener("leavepictureinpicture",this.onDisablePIP),t.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(r)||t.removeEventListener("canplay",this.onReady)}shouldUseAudio(t){return t.config.forceVideo||t.config.attributes.poster?!1:gp.AUDIO_EXTENSIONS.test(t.url)||t.config.forceAudio}shouldUseHLS(t){return une&&this.props.config.forceSafariHLS||this.props.config.forceHLS?!0:Uk||this.props.config.forceDisableHls?!1:gp.HLS_EXTENSIONS.test(t)||ES.test(t)}shouldUseDASH(t){return gp.DASH_EXTENSIONS.test(t)||this.props.config.forceDASH}shouldUseFLV(t){return gp.FLV_EXTENSIONS.test(t)||this.props.config.forceFLV}load(t){const{hlsVersion:r,hlsOptions:n,dashVersion:i,flvVersion:s}=this.props.config;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,us.getSDK)(pne.replace("VERSION",r),dne).then(o=>{if(this.hls=new o(n),this.hls.on(o.Events.MANIFEST_PARSED,()=>{this.props.onReady()}),this.hls.on(o.Events.ERROR,(a,c)=>{this.props.onError(a,c,this.hls,o)}),ES.test(t)){const a=t.match(ES)[1];this.hls.loadSource(yne.replace("{id}",a))}else this.hls.loadSource(t);this.hls.attachMedia(this.player),this.props.onLoaded()}),this.shouldUseDASH(t)&&(0,us.getSDK)(fne.replace("VERSION",i),hne).then(o=>{this.dash=o.MediaPlayer().create(),this.dash.initialize(this.player,t,this.props.playing),this.dash.on("error",this.props.onError),parseInt(i)<3?this.dash.getDebug().setLogToBrowserConsole(!1):this.dash.updateSettings({debug:{logLevel:o.Debug.LOG_LEVEL_NONE}}),this.props.onLoaded()}),this.shouldUseFLV(t)&&(0,us.getSDK)(vne.replace("VERSION",s),mne).then(o=>{this.flv=o.createPlayer({type:"flv",url:t}),this.flv.attachMediaElement(this.player),this.flv.on(o.Events.ERROR,(a,c)=>{this.props.onError(a,c,this.flv,o)}),this.flv.load(),this.props.onLoaded()}),t instanceof Array)this.player.load();else if((0,us.isMediaStream)(t))try{this.player.srcObject=t}catch{this.player.src=window.URL.createObjectURL(t)}}play(){const t=this.player.play();t&&t.catch(this.props.onError)}pause(){this.player.pause()}stop(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}seekTo(t,r=!0){this.player.currentTime=t,r||this.pause()}setVolume(t){this.player.volume=t}enablePIP(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,us.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}disablePIP(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,us.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}setPlaybackRate(t){try{this.player.playbackRate=t}catch(r){this.props.onError(r)}}getDuration(){if(!this.player)return null;const{duration:t,seekable:r}=this.player;return t===1/0&&r.length>0?r.end(r.length-1):t}getCurrentTime(){return this.player?this.player.currentTime:null}getSecondsLoaded(){if(!this.player)return null;const{buffered:t}=this.player;if(t.length===0)return 0;const r=t.end(t.length-1),n=this.getDuration();return r>n?n:r}getSource(t){const r=this.shouldUseHLS(t),n=this.shouldUseDASH(t),i=this.shouldUseFLV(t);if(!(t instanceof Array||(0,us.isMediaStream)(t)||r||n||i))return gne.test(t)?t.replace("www.dropbox.com","dl.dropboxusercontent.com"):t}render(){const{url:t,playing:r,loop:n,controls:i,muted:s,config:o,width:a,height:c}=this.props,u=this.shouldUseAudio(this.props)?"audio":"video",p={width:a==="auto"?a:"100%",height:c==="auto"?c:"100%"};return op.default.createElement(u,{ref:this.ref,src:this.getSource(t),style:p,preload:"auto",autoPlay:r||void 0,controls:i,muted:s,loop:n,...o.attributes},t instanceof Array&&t.map(this.renderSourceElement),o.tracks.map(this.renderTrack))}}gr(v1,"displayName","FilePlayer");gr(v1,"canPlay",gp.canPlay.file);var Sne=a1.createReactPlayer,qk=cne.default,aL=Sne([{key:"file",canPlay:qk.canPlay,lazyPlayer:qk}]);const Cne=So(aL),wne=vd({__proto__:null,default:Cne},[aL]);var bne=Object.create,of=Object.defineProperty,Pne=Object.getOwnPropertyDescriptor,_ne=Object.getOwnPropertyNames,Ene=Object.getPrototypeOf,Rne=Object.prototype.hasOwnProperty,Tne=(e,t,r)=>t in e?of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kne=(e,t)=>{for(var r in t)of(e,r,{get:t[r],enumerable:!0})},cL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _ne(t))!Rne.call(e,i)&&i!==r&&of(e,i,{get:()=>t[i],enumerable:!(n=Pne(t,i))||n.enumerable});return e},Ine=(e,t,r)=>(r=e!=null?bne(Ene(e)):{},cL(t||!e||!e.__esModule?of(r,"default",{value:e,enumerable:!0}):r,e)),Ane=e=>cL(of({},"__esModule",{value:!0}),e),RS=(e,t,r)=>(Tne(e,typeof t!="symbol"?t+"":t,r),r),lL={};kne(lL,{default:()=>xne});var uL=Ane(lL),$a=Ine(P);const TS="64px",kS={};class xne extends $a.Component{constructor(){super(...arguments),RS(this,"mounted",!1),RS(this,"state",{image:null}),RS(this,"handleKeyPress",t=>{(t.key==="Enter"||t.key===" ")&&this.props.onClick()})}componentDidMount(){this.mounted=!0,this.fetchImage(this.props)}componentDidUpdate(t){const{url:r,light:n}=this.props;(t.url!==r||t.light!==n)&&this.fetchImage(this.props)}componentWillUnmount(){this.mounted=!1}fetchImage({url:t,light:r,oEmbedUrl:n}){if(!$a.default.isValidElement(r)){if(typeof r=="string"){this.setState({image:r});return}if(kS[t]){this.setState({image:kS[t]});return}return this.setState({image:null}),window.fetch(n.replace("{url}",t)).then(i=>i.json()).then(i=>{if(i.thumbnail_url&&this.mounted){const s=i.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");this.setState({image:s}),kS[t]=s}})}}render(){const{light:t,onClick:r,playIcon:n,previewTabIndex:i,previewAriaLabel:s}=this.props,{image:o}=this.state,a=$a.default.isValidElement(t),c={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:{width:"100%",height:"100%",backgroundImage:o&&!a?`url(${o})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...c},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:TS,width:TS,height:TS,position:a?"absolute":void 0,...c},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},u=$a.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},$a.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return $a.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:r,tabIndex:i,onKeyPress:this.handleKeyPress,...s?{"aria-label":s}:{}},a?t:null,n||u)}}const One=So(uL),Dne=vd({__proto__:null,default:One},[uL]);
//# sourceMappingURL=index-C17hb_GM.js.map
